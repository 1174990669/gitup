/*! client_astv 2017-12-21 02:12 */

function BetConfirm(a){var b=new PageController({name:a?a.name:"",tpl:a?a.tpl:""});return b.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.checkedZJ=!1,this.checkTipsShow=!1,this.saveBetData=!0,this.lotteryMinNum=new Array,this.lotteryBallNum=new Array,this.lotteryOneMoney=2,this.lotteyType="",this.lotteryPlay="",this.lotteryCnName="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=300,this.overNum=3e3,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.checkP=!1,this.wid="",this.pid=""},b.createDomObj=function(){this.betListObj=$("#confirm_betListObj"),this.betSectionObj=$("#confirm_betSectionObj"),this.additionalObj=$("#confirm_additionalObj"),this.betListTipsObj=$("#confirm_betListTipsObj"),this.zhushuObj=$("#confirm_zhushuObj"),this.moneyObj=$("#confirm_moneyObj"),this.bonusOverObj=$("#confirm_bonusOverObj"),this.overNumObj=$("#confirm_overNumObj"),this.mulUpdObj=$("#confirm_mulUpdObj"),this.perUpdObj=$("#confirm_perUpdObj"),this.mulInputObj=$("#confirm_mulInputObj"),this.perInputObj=$("#confirm_perInputObj"),this.overInputObj=$("#confirm_overInputObj"),this.zhuijiaObj=$("#confirm_zjObj"),this.delTipsObj=$("#confirm_delTipsObj"),this.zjStyleObj=$("#confirm_zjStyleObj"),this.updBetTipsObj=$("#confirm_updBetTipsObj"),this.backObj=$("#confirm_backbtn"),this.cnNameObj=$("#confirm_cnName"),this.planBtnObj=$("#confirm_planBtn"),"dlt"==this.lotteryType?this.zhuijiaObj.show():this.zhuijiaObj.hide(),this.lotteryType==ConfigObj.fastLotType?(this.planBtnObj.show(),$("#confirm_hemai").hide(),this.updatePlanNum("fast")):this.lotteryType==ConfigObj.fastK3Type?$("#confirm_hemai").hide():(this.planBtnObj.hide(),this.updatePlanNum(this.lotteryType)),this.overInputObj&&this.overInputObj.html(this.overNum+"元")},b.updatePlanNum=function(a){"fast"==a?($("#confirm_monthNum").attr("data-v",84).find("em").text("一天"),$("#confirm_halfYearNum").attr("data-v",168).find("em").text("两天"),$("#confirm_yearNum").attr("data-v",252).find("em").text("三天")):"fastK3"==a?($("#confirm_monthNum").attr("data-v",78).find("em").text("一天"),$("#confirm_halfYearNum").attr("data-v",156).find("em").text("两天"),$("#confirm_yearNum").attr("data-v",234).find("em").text("三天")):"pl3"==a||"pl5"==a?($("#confirm_monthNum").attr("data-v",30).find("em").text("一月"),$("#confirm_halfYearNum").attr("data-v",180).find("em").text("半年"),$("#confirm_yearNum").attr("data-v",360).find("em").text("全年")):($("#confirm_monthNum").attr("data-v",12).find("em").text("一月"),$("#confirm_halfYearNum").attr("data-v",80).find("em").text("半年"),$("#confirm_yearNum").attr("data-v",153).find("em").text("全年"))},b.createEvent=function(){this.betSectionObj.unbind("tap").tap(function(a){b.betEvent(a)}),this.additionalObj.unbind("tap").tap(function(a){b.buyEvent(a)}),$("#confirm_hemai").unbind("tap").tap(function(a){b.hemai()}),this.delTipsObj.unbind("tap").tap(function(a){var c=$.oto_checkEvent(a,"A");if(c){var d=$(c),e=d.attr("data-t");switch(e){case"subDel":return b.hideDelTips(),b.delAllLottery(),b.checkedBetTips(),b.createBetList(),b.setMoneyDom(),b.hideDelTips(),!0;case"clearDel":return b.hideDelTips(),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var d=$(f),e=d.attr("data-t");switch(e){case"nohide":return!0;case"hideDel":return b.hideDelTips(),!0}}}),this.updBetTipsObj.unbind("tap").tap(function(a){var c=$.oto_checkEvent(a,"A");if(c){var d=$(c),e=d.attr("data-t");switch(e){case"clearBet":return b.hideUpdBetTips(),!0;case"subUpdBet":return b.updateLotteryNo(),b.submitBet(),b.hideUpdBetTips(),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var d=$(f),e=d.attr("data-t");switch(e){case"nohide":return!0;case"hideDel":return b.hideUpdBetTips(),!0}}}),this.backObj.unbind("tap").tap(function(){b.goBack()})},b.betEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"xy":return this.goProtocol(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"add":return this.addLottery(c),this.checkedBetTips(),this.createBetList(),this.setMoneyDom(),!0;case"del":return this.delLottery(c),this.checkedBetTips(),this.createBetList(),this.setMoneyDom(),!0;case"delall":return this.showDelTips(),!0;case"upd":return this.updateLottery(c),!0}}var f=$.oto_checkEvent(a,"LABEL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"agr":return this.agrCheck(c),!0}}},b.buyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"overnum":return this.showOverNum(),!0;case"submit":return this.disableBtn(c),this.submitBet(),!0;case"gjzh":return this.hrefGjzh(),!0}return!0}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"increase":this.increaseVal(c),this.setMoneyDom(),this.checkedBetOver();break;case"reduce":this.reduceVal(c),this.setMoneyDom(),this.checkedBetOver();break;case"mul":this.showMulTips();break;case"per":this.showPerTips();break;case"mn":this.updateMulVal(c),this.setMoneyDom(),this.checkedBetOver();break;case"mv":this.updateMulOther(c),this.setMoneyDom(),this.checkedBetOver();break;case"md":this.delMulVal(),this.setMoneyDom(),this.checkedBetOver();break;case"ms":this.hideMulTips(),this.setMoneyDom();break;case"pn":this.updatePerVal(c),this.setMoneyDom(),this.checkedBetOver();break;case"pv":this.updatePerOther(c),this.setMoneyDom(),this.checkedBetOver();break;case"pd":this.delPerVal(),this.setMoneyDom(),this.checkedBetOver();break;case"ps":this.hidePerTips(),this.setMoneyDom();break;case"on":this.updateOverVal(c);break;case"od":this.delOverVal();break;case"os":this.hideOverTips()}return!0}var f=$.oto_checkEvent(a,"LABEL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"zj":this.zjLottery(c),this.createBetList(),this.setMoneyDom();break;case"over":this.overLottery(c)}return!0}},b.disableBtn=function(a){a.removeAttr("data-t").addClass("gray"),setTimeout(function(){a.hasClass("gray")&&a.attr("data-t","submit").removeClass("gray")},3e4)},b.zjLottery=function(a){var c=a.children("em");c.hasClass("checked")?(c.removeClass("checked"),this.lotteryOneMoney=2,this.checkedZJ=!1):(c.addClass("checked"),this.lotteryOneMoney=3,this.checkedZJ=!0),window.localStorage.setItem(b.lotteryType+"ZjData",b.checkedZJ)},b.hrefGjzh=function(){for(var a="",c=0,d=this.betAllData.length;c<d;c++)if(this.betAllData[c]){var e=this.betAllData[c].split("|"),f=e[e.length-2];if(f=f.replace(/\R$/,""),""!==a&&f!=a)return $.alertMsg("高级追号只能支持一种玩法"),!1;a=f}b.lotteryType==ConfigObj.fastLotType||-1!==ConfigObj.syx5Type.indexOf(b.lotteryType)?(syxwPlanObj.goBack=function(){syxwPlanObj.destroy(),b.show()},syxwPlanObj.show("reload",function(){var c=b.lotteryNo.toString().slice(-2),d=(new Date).getFullYear()+b.lotteryNo.toString().slice(2,-2);syxwPlanObj.setData({playType:a,lotNum:c,lotDate:d})})):(b.lotteryType,ConfigObj.fastK3Type)},b.increaseVal=function(a){var b=a.attr("data-k"),c="q"==b?this.updatePer("increase"):this.updateMul("increase"),d="q"==b?"期":"倍";a.prev().html(c+d)},b.reduceVal=function(a){var b=a.attr("data-k"),c="q"==b?this.updatePer("reduce"):this.updateMul("reduce"),d="q"==b?"期":"倍";a.next().html(c+d)},b.updateMul=function(a){return this.lotteryMul="increase"==a?this.lotteryMul+=1:this.lotteryMul-=1,this.lotteryMul=this.lotteryMul<=0?1:this.lotteryMul,this.lotteryMul=this.lotteryMul>this.maxMul?this.maxMul:this.lotteryMul,this.lotteryMul},b.updateMulVal=function(a){this.checkTipsShow&&(this.lotteryMul=0,this.checkTipsShow=!1);var b=a.attr("data-v");this.lotteryMul=Number(this.lotteryMul+""+b),this.lotteryMul>this.maxMul&&(this.lotteryMul=this.maxMul),this.mulInputObj.html(this.lotteryMul+"倍")},b.updateMulOther=function(a){var b=a.attr("data-v");this.lotteryMul=Number(b),this.mulInputObj.html(this.lotteryMul+"倍")},b.delMulVal=function(){this.lotteryMul=Number((this.lotteryMul+"").slice(0,-1)),this.mulInputObj.html(this.lotteryMul+"倍")},b.hideMulTips=function(){this.lotteryMul<1&&(this.lotteryMul=1),this.mulInputObj.html(this.lotteryMul+"倍"),this.mulUpdObj.hide(),this.checkTipsShow=!1,this.removeTipBg(),this.mulInputObj.removeClass("fontblue")},b.updatePerVal=function(a){this.checkTipsShow&&(this.lotteryPer=0,this.checkTipsShow=!1);var b=a.attr("data-v");this.lotteryPer=Number(this.lotteryPer+""+b),this.lotteryPer>this.maxPer&&(this.lotteryPer=this.maxPer),this.perInputObj.html(this.lotteryPer+"期")},b.updatePerOther=function(a){var b=a.attr("data-v");this.lotteryPer=Number(b),this.perInputObj.html(this.lotteryPer+"期")},b.delPerVal=function(){this.lotteryPer=Number((this.lotteryPer+"").slice(0,-1)),this.perInputObj.html(this.lotteryPer+"期")},b.hidePerTips=function(){this.lotteryPer<1&&(this.lotteryPer=1),this.perInputObj.html(this.lotteryPer+"期"),this.perUpdObj.hide(),this.checkTipsShow=!1,this.removeTipBg(),this.perInputObj.removeClass("fontblue")},b.updateOverVal=function(a){this.checkTipsShow&&(this.overNum=0,this.checkTipsShow=!1);var b=a.attr("data-v");this.overNum=Number(this.overNum+""+b),this.overNum>this.maxOver&&(this.overNum=this.maxOver),this.overInputObj.html(this.overNum+"元")},b.delOverVal=function(){this.overNum=Number((this.overNum+"").slice(0,-1)),this.overInputObj.html(this.overNum+"元")},b.hideOverTips=function(){this.overNum<1&&(this.overNum=3e3),this.overInputObj.html(this.overNum+"元"),this.overNumObj.hide(),this.checkTipsShow=!1,this.removeTipBg(),this.overInputObj.removeClass("fontblue")},b.updatePer=function(a){return this.lotteryPer="increase"==a?this.lotteryPer+1:this.lotteryPer-1,this.lotteryPer=this.lotteryPer<=0?1:this.lotteryPer,this.lotteryPer=this.lotteryPer>this.maxPer?this.maxPer:this.lotteryPer,this.lotteryPer},b.checkedBetTips=function(){for(var a=0,b=this.betAllData.length;a<b;a++)if(this.betAllData[a])return this.betListTipsObj.hide(),!0;this.betListTipsObj.show()},b.checkedBetOver=function(){if(this.lotteryPer>1){this.bonusOverObj.show();var a=this.bonusOverObj.find("em");this.checkedOver=!!a.hasClass("checked")}else this.lotteryPer<=1&&(this.bonusOverObj.hide(),this.checkedOver=!1)},b.overLottery=function(a){var b=a.find("em");b.hasClass("checked")?(b.removeClass("checked"),this.checkedOver=!1):(b.addClass("checked"),this.checkedOver=!0)},b.showOverNum=function(){this.overNumObj.show(),this.mulUpdObj.hide(),this.perUpdObj.hide(),this.createTipsBg(),this.perInputObj.removeClass("fontblue"),this.overInputObj.addClass("fontblue"),this.mulInputObj.removeClass("fontblue"),this.checkTipsShow=!0},b.showMulTips=function(){this.overNumObj.hide(),this.mulUpdObj.show(),this.perUpdObj.hide(),this.createTipsBg(),this.perInputObj.removeClass("fontblue"),this.overInputObj.removeClass("fontblue"),this.mulInputObj.addClass("fontblue"),this.checkTipsShow=!0},b.showPerTips=function(){this.overNumObj.hide(),this.mulUpdObj.hide(),this.perUpdObj.show(),this.createTipsBg(),this.perInputObj.addClass("fontblue"),this.overInputObj.removeClass("fontblue"),this.mulInputObj.removeClass("fontblue"),this.checkTipsShow=!0},b.agrCheck=function(a){return $.alertMsg("请阅读并同意《广东体彩云服务协议》"),!1},b.delLottery=function(a){var b=Number(a.parent().attr("data-i"));delete this.betAllData[b],delete this.zhushuArr[b],this.saveSessionAllBetData(),a.parent().remove()},b.showDelTips=function(){this.delTipsObj.show()},b.hideDelTips=function(){this.delTipsObj.hide()},b.showUpdBetTips=function(){this.updBetTipsObj.show()},b.hideUpdBetTips=function(){this.updBetTipsObj.hide()},b.updateLotteryNo=function(){var a=this.updBetTipsObj.attr("data-no");this.lotteryNo=a},b.delAllLottery=function(a){this.betAllData=[],this.zhushuArr=[],this.saveSessionAllBetData()},b.updateLottery=function(a){var c=a.parent().attr("data-v"),d=Number(a.parent().attr("data-i"));switch(delete this.betAllData[d],this.saveSessionAllBetData(),b.lotteryType){case"dlt":dltObj.show("reload",function(){dltObj.isEdit=!0,dltObj.editData=c,dltObj.updateBet()});break;case"ssq":ssqObj.show("reload",function(){ssqObj.isEdit=!0,ssqObj.editData=c,ssqObj.updateBet()});break;case"pl5":pl5Obj.show("reload",function(){pl5Obj.isEdit=!0,pl5Obj.editData=c,pl5Obj.updateBet()});break;case"pl3":pl3Obj.show("reload",function(){pl3Obj.isEdit=!0,pl3Obj.editData=c,pl3Obj.updateBet()});break;case"d3":d3Obj.show("reload",function(){d3Obj.isEdit=!0,d3Obj.editData=c,d3Obj.updateBet()});break;case"qxc":qxcObj.show("reload",function(){qxcObj.isEdit=!0,qxcObj.editData=c,qxcObj.updateBet()});break;case ConfigObj.fastLotType:fastBetObj.show("reload",function(){fastBetObj.isEdit=!0,fastBetObj.editData=c,fastBetObj.updateBet()});break;case ConfigObj.fastK3Type:fastK3Obj.show("reload",function(){fastK3Obj.isEdit=!0,fastK3Obj.editData=c,fastK3Obj.updateBet()});break;case"hn4j1":hn4j1Obj.show("reload",function(){hn4j1Obj.isEdit=!0,hn4j1Obj.editData=c,hn4j1Obj.updateBet()});break;default:if(-1!==ConfigObj.syx5Type.indexOf(b.lotteryType)){fastBetObj.show(!0,function(){fastBetObj.isEdit=!0,fastBetObj.editData=c,fastBetObj.updateBet()});break}}},b.setMoneyDom=function(){this.zhushuObj.html(this.getZhushu()+"注 "+this.lotteryMul+"倍 "+this.lotteryPer+"期"),this.moneyObj.html(this.getMoney()),this.setTemMulAndPer()},b.getZhushu=function(){for(var a=0,b=0,c=this.zhushuArr.length;b<c;b++)this.zhushuArr[b]&&(a+=Number(this.zhushuArr[b]));return a},b.getMoney=function(){return this.lotteryOneMoney*this.getZhushu()*this.lotteryMul*this.lotteryPer},b.addLottery=function(a){var c=a.attr("data-v");if("continue"==c){switch(b.lotteryType){case"dlt":dltObj.show("reload");break;case"ssq":ssqObj.show("reload");break;case"pl3":pl3Obj.show("reload");break;case"d3":d3Obj.show("reload");break;case"pl5":pl5Obj.show("reload");break;case"qxc":qxcObj.show("reload");break;case ConfigObj.fastLotType:fastBetObj.show("reload",function(){fastBetObj.updatePlay("FP1")});break;case ConfigObj.fastK3Type:fastK3Obj.show("reload",function(){fastK3Obj.updatePlay("SUM")});break;case"hn4j1":hn4j1Obj.show("reload");break;default:-1!==ConfigObj.syx5Type.indexOf(b.lotteryType)&&fastBetObj.show(!0,function(){fastBetObj.updatePlay("FP1")})}return!1}for(var d=0;d<Number(c);d++){var e=[],f=[];if(this.lotteryBallWei)for(var g=0,h=this.lotteryMinNum.length-this.lotteryBallWei;g<h;g++){var i=Math.floor(Math.random()*this.lotteryMinNum.length);f.indexOf(i)<0?f.push(i):g--}for(var j=0,k=this.lotteryMinNum.length;j<k;j++)if(f.indexOf(j)>-1)e.push("-");else{for(var l=[],m=0,n=this.lotteryMinNum[j];m<n;m++){var i=Math.floor(Math.random()*this.lotteryBallNum[j]),o=this.lotteryBetVal[j][i];if(o=!this.offCheckNum0&&o<10?"0"+o:""+o,$.inArray(o,l)>-1)m--;else{var p=!1;if(this.checkP)for(var q=0;q<j;q++){var r=e[q].split(",");if($.inArray(o,r)>-1){m--,p=!0;break}}p||l.push(o)}}l.sort(function(a,b){return Number(a)-Number(b)}),e.push(l.join(","))}e.push(this.lotteryPlay),e.push("1"),this.setSessionAllBetData(e.join("|"))}},b.getSessionBetData=function(){var a=window.localStorage.getItem(this.lotteryType+"lotteryBetData");return window.localStorage.removeItem(this.lotteryType+"lotteryBetData"),a},b.getSearchBetData=function(){for(var a=window.location.search,b=a.replace("?","").split("&"),c=0,d=b.length;c<d;c++){var e=b[c].split("=");if("data"==e[0])return e[1]}},b.getSessionAllBetData=function(){return!!this.saveBetData&&(!(!window.localStorage||!window.localStorage.getItem(this.lotteryType+"lotteryAllBetData"))&&void(this.betAllData=window.localStorage.getItem(this.lotteryType+"lotteryAllBetData").split(";")))},b.setSessionAllBetData=function(a){var b=a.split(";");this.betAllData=this.betAllData.concat(b),this.saveSessionAllBetData()},b.saveSessionAllBetData=function(){if(!window.localStorage||!this.saveBetData)return!1;for(var a=new Array,b=0,c=this.betAllData.length;b<c;b++)this.betAllData[b]&&a.push(this.betAllData[b]);window.localStorage.setItem(this.lotteryType+"lotteryAllBetData",a.join(";"))},b.createBetData=function(){if(this.betData=window.localStorage&&window.localStorage.getItem(this.lotteryType+"lotteryBetData")?this.getSessionBetData():"",!this.betData)return!1;this.setSessionAllBetData(this.betData)},b.getBetStype=function(a,b){a=a.replace(/\R$/,"");var c=this.checkedZJ?"-追加":"";if("D"==a)return"胆拖"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"UP3"==a&&b>1)return"组三复式"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"UP3"==a&&1==b)return"组三单式"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"UP6"==a&&b>1)return"组六复式"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"UP6"==a&&1==b)return"组六单式"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"IH"==a)return"直选和值"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"UH3"==a)return"组三和值"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"UH6"==a)return"组六和值"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"IP"==a&&1==b)return"直选单式"+c;if(("pl3"==this.lotteryType||"d3"==this.lotteryType)&&"IP"==a&&b>1)return"直选复式"+c;var d=b>1?"复式":"单式";if(this.lotteryType==ConfigObj.fastLotType&&"R2"==a)return"任二 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"R3"==a)return"任三 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"R4"==a)return"任四 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"R5"==a)return"任五 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"R6"==a)return"任六 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"R7"==a)return"任七 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"R8"==a)return"任八 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"FP1"==a)return"前一 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"FP2"==a)return"前二直选 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"FC2"==a)return"前二组选 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"FP3"==a)return"前三直选 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"FC3"==a)return"前三组选 "+d+c;if(this.lotteryType==ConfigObj.fastLotType&&"R2_D"==a)return"任二胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"R3_D"==a)return"任三胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"R4_D"==a)return"任四胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"R5_D"==a)return"任五胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"R6_D"==a)return"任六胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"R7_D"==a)return"任七胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"R8_D"==a)return"任八胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"FC2_D"==a)return"前二组选胆拖";if(this.lotteryType==ConfigObj.fastLotType&&"FC3_D"==a)return"前三组选胆拖";if(this.lotteryType==ConfigObj.fastK3Type){var e=b>1?"复式":"单式";if("SUM"==a)return"和值 "+e;if("TX"==a)return"三同号通选 ";if("LTX"==a)return"三连号通选 ";if("TXD"==a)return"三同号单选 "+e;if("TXD2"==a)return"二同号单选 "+e;if("TXS2"==a)return"二同号复选 "+e;if("BT3"==a)return"三不同 "+e;if("BT2"==a)return"二不同 "+e;if("BT3_D"==a)return"三不同胆拖";if("BT2_D"==a)return"二不同胆拖"}var f=b>1?"复式":"单式";return"hn4j1"==this.lotteryType&&"D5"==a?"4+1 "+f+c:"hn4j1"==this.lotteryType&&"D4"==a?"定位4 "+f+c:"hn4j1"==this.lotteryType&&"R4"==a?"任4(单号) "+f+c:"hn4j1"==this.lotteryType&&"R4C2"==a?"任4(2双重) "+f+c:"hn4j1"==this.lotteryType&&"R3"==a?"任3(单号) "+f+c:"hn4j1"==this.lotteryType&&"R3C3"==a?"任3(3重) "+f+c:"hn4j1"==this.lotteryType&&"R2C2"==a?"任2(双重) "+f+c:"hn4j1"==this.lotteryType&&"R2"==a?"任2(单号) "+f+c:"hn4j1"==this.lotteryType&&"R4C3"==a?"任4(3重) "+f+c:"hn4j1"==this.lotteryType&&"R4C1"==a?"任4(1双重) "+f+c:"hn4j1"==this.lotteryType&&"R3C2"==a?"任3(双重) "+f+c:"hn4j1"==this.lotteryType&&"D3"==a?"定位3 "+f+c:"hn4j1"==this.lotteryType&&"D2"==a?"定位2 "+f+c:"hn4j1"==this.lotteryType&&"D1"==a?"定位1 "+f+c:"D"!=a&&1==b?"单式"+c:"D"!=a&&b>1?"复式"+c:void 0},b.createBetList=function(){var a=new Array;this.zhushuArr=new Array;for(var c=0,d=this.betAllData.length;c<d;c++)if(this.betAllData[c]){var e=this.betAllData[c].split("|"),f=e[e.length-2].replace(/\R$/,""),g=e[e.length-1];this.zhushuArr[c]=g,a.push('<div class="libox" data-i="'+c+'" data-v="'+this.betAllData[c]+'"><span class="del" data-t="del"><em class="icon"></em></span><p class="number font14">');for(var h=[],i=0,j=e.length-2;i<j;i++){var k=e[i].split(",");if(b.checkDanPlay(f))var l=[];var m=[];$.each(k,function(a){if(b.checkDanPlay(f)&&0==k[a].indexOf("d-"))l.push("<i>"+k[a].replace("d-","")+"</i>");else{var c=k[a];b.lotteryType==ConfigObj.fastK3Type&&("TX"==f?c="111/222/333/444/555/666":"LTX"==f?c="123/234/345/456":"TXS2"==f&&(c=c.replace(/1\+1/g,"1+1*"),c=c.replace(/2\+2/g,"2+2*"),c=c.replace(/3\+3/g,"3+3*"),c=c.replace(/4\+4/g,"4+4*"),c=c.replace(/5\+5/g,"5+5*"),c=c.replace(/6\+6/g,"6+6*")),c=c.replace(/\+/g,"")),m.push("<i>"+c+"</i>")}}),b.checkDanPlay(f)&&l.length?this.lotteryType==ConfigObj.fastLotType||this.lotteryType==ConfigObj.fastK3Type?h.push('<span class="fontblack">('+l.join("")+')</span><span class="'+this.ballClassName[i]+'"> '+m.join("")+"</span>"):h.push('<span class="'+this.ballClassName[this.lotteryMinNum.length]+'">('+l.join("")+')</span><span class="'+this.ballClassName[i]+'"> '+m.join("")+"</span>"):"hn4j1"==this.lotteryType?h.push('<span class="'+this.lotteryBallClassName[f][i]+'">'+m.join("")+"</span>"):h.push('<span class="'+this.ballClassName[i]+'">'+m.join("")+"</span>")}a.push(h.join("<em>|</em>")),a.push('</p><p class="zhushu font12"><span>'+this.getBetStype(f,g)+"</span><span>"+g+"注</span><span>"+g*this.lotteryOneMoney+'元</span></p><span class="arrowbox" data-t="upd"><em class="rtarrow icon"></em></span></div>')}this.betListObj.html(a.join(""))},b.createSubData=function(){var a=this.getZhushu();return{lotteryType:this.lotteryType.toUpperCase(),lotteryNo:this.lotteryNo,playType:this.checkedZJ?"append":"common",passType:"",wagerCount:a,wagerMultiple:this.lotteryMul,consignType:"alone",wagerStore:this.createSubBetData(),openType:"open",money:a*this.lotteryOneMoney*this.lotteryMul*this.lotteryPer,source:this.lotteryPer>1?this.lotteryPer:1,manner:1,planType:"FixedMultiple",stopType:this.checkedOver?"OnePeriodHit":"Over",prizeAmount:this.overNum}},b.createSubBetData=function(){for(var a=[],b=0,c=this.betAllData.length;b<c;b++)if(this.betAllData[b]){for(var d=this.betAllData[b].split("|"),e=[],f=[],g=0,h=d.length;g<h;g++)if(g>=h-2)f.push(d[g]);else{for(var i=d[g].split(","),j=[],k=[],l=0,m=i.length;l<m;l++)i[l].indexOf("d-")>-1?j.push(i[l].replace("d-","")):"-"===i[l]?k.push("*"):k.push(i[l]);e.push(j+(j.length?"$":"")+k)}this.lotteryType==ConfigObj.fastK3Type&&"TXD2"==f[0]?a.push(e.join(":")+"|"+f.join("|")):a.push(e.join("+")+"|"+f.join("|"))}if(this.lotteryType==ConfigObj.fastLotType||this.lotteryType==ConfigObj.fastK3Type)for(var b=0;b<a.length;b++)a[b]=a[b].replace("_D","");return a.join(";")},b.setTemMulAndPer=function(){var a=this.lotteryMul+"_"+this.lotteryPer;try{window.localStorage.setItem(this.lotteryType+"MulAndPer",a)}catch(a){}},b.getTemMulAndPer=function(){if(window.localStorage&&window.localStorage.getItem(this.lotteryType+"MulAndPer"))var a=window.localStorage.getItem(this.lotteryType+"MulAndPer");else var a="1_1";var b=a.split("_");this.lotteryMul=Number(b[0]),this.lotteryPer=Number(b[1]),this.mulInputObj.html(this.lotteryMul+"倍"),this.perInputObj.html(this.lotteryPer+"期"),this.checkedBetOver()},b.removeTipBg=function(){$("#confirm_upBGObj")&&$("#confirm_upBGObj").remove()},b.createTipsBg=function(){if(0==$("#confirm_upBGObj").length){var a=document.body.scrollHeight,c=$('<div id="confirm_upBGObj" style="width: 100%; height: '+a+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("body").append(c),c.tap(function(){b.hidePerTips(),b.hideOverTips(),b.hideMulTips(),b.setMoneyDom()})}},b.submitBet=function(){if(this.hidePerTips(),this.hideMulTips(),this.hideOverTips(),this.setMoneyDom(),!this.agrstate)return $.alertMsg("请阅读并同意《天天中彩平台服务协议》"),!1;var a=this,c=this.createSubData();if(""==c.wagerStore||0==c.wagerCount)return $.alertMsg("请至少选择1注号码"),!1;if(c.wagerCount>this.maxZSVal)return $.alertMsg("注数最多支持"+(this.maxZSVal/1e4).toFixed(0)+"万注"),!1;if(c.money>this.maxMoneyVal)return $.alertMsg("投注金额最大支持"+this.maxMoneyVal/1e4+"万元"),!1;var d=["dlt","ssq","qxc","pl3","pl5","d3",ConfigObj.fastLotType,ConfigObj.fastK3Type,"hn4j1"];if(-1!=$.inArray(this.lotteryType,d)){var e=this.updBetTipsObj.attr("data-no");if(e&&e!=this.lotteryNo)return this.showUpdBetTips(),!1}loginObj.isLogin?a.createPid():a.createWid(),a.showSlowLoading(),Global.pv("zuodan_baocun",{lotteryType:b.lotteryType})},b.buyFun=function(a){var b=this;buyConfirmObj.goBack=function(){switch(b.lotteryType){case"dlt":dltObj.show("reload");break;case"ssq":ssqObj.show("reload");break;case"pl3":pl3Obj.show("reload");break;case"d3":d3Obj.show("reload");break;case"pl5":pl5Obj.show("reload");break;case"qxc":qxcObj.show("reload");break;case ConfigObj.fastLotType:fastBetObj.show("reload");break;case ConfigObj.fastK3Type:fastK3Obj.show("reload");break;case"hn4j1":hn4j1Obj.show("reload");break;default:homeObj.show()}b.destroy(),buyConfirmObj.destroy()},setTimeout(function(){buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})},300),a.product_id&&Global.setCache("confirm_product",a),a.product_id&&(Global.cache.confirm_product=a)},b.createPid=function(){var a=this.createSubData(),c=this;a.channel_number=ConfigObj.zdid;var d={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.numProcess",data:d,dataType:"json",type:"post",timeout:3e4,success:function(a){if($("#createPid").attr("data-t","submit").removeClass("gray"),b.hideSlowLoading(),"0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),c.pid=a.info.productId,"plan"==a.info.productType)var d={lotteryType:c.lotteryType,product_id:a.info.productId,product_type:a.info.productType};else var d={lotteryType:c.lotteryType,lotteryNo:c.lotteryNo,product_id:a.info.productId,product_type:a.info.productType,pay_amount:a.info.money,assure_amount:-1};c.buyFun(d)}else{if("-33333"===a.code)return a.info=$.parseJSON(Global.crypt(a.info)),c.updBetTipsObj.attr("data-no",a.info.currentNo),c.showUpdBetTips(),!1;$.alertMsg(a.code_str)}}})},b.createWid=function(){var a=this,c=this.createSubData();$.ajax({url:ConfigObj.localSite+"?m=lottery.trade.numProcess",data:c,dataType:"json",type:"post",timeout:3e4,success:function(c){$("#confirm_submit").attr("data-t","submit").removeClass("gray"),b.hideSlowLoading(),"0000"==c.code?(a.wid=c.info.wagerId,loginObj.goBack=function(){a.show()},loginObj.goForward=function(){a.show(),a.afterLoginCreatePid(a.wid,c.info.productType)},registerObj.goForward=function(){},$.alertMsg("请先登录"),loginObj.show()):(loginObj.goBack=function(){a.show()},loginObj.goForward=function(){a.show(),$.alertMsg(c.code_str)},registerObj.goForward=function(){a.show(),$.alertMsg(c.code_str)},$.alertMsg("请先登录"),loginObj.show())}})},b.afterLoginCreatePid=function(a,b){var c=this,d={wagerId:a,product_type:b,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.trade.buylottery",data:d,dataType:"json",type:"post",success:function(a){if("0000"==a.code){if("plan"==b){var d={lotteryType:c.lotteryType,product_id:a.info.productId,product_type:b,pay_amount:a.info.money};c.pid=a.info.productId}else{var d={lotteryType:c.lotteryType,lotteryNo:c.lotteryNo,product_id:a.info.lotteryId,product_type:b,pay_amount:a.info.money};c.pid=a.info.lotteryId}c.buyFun(d)}else $.alertMsg(a.code_str)}})},b.goLogin=function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},b.hemai=function(){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){b.goLogin()},2e3),!1;var a=this.getZhushu(),c=this.createSubData(),d={totalMoney:a*this.lotteryOneMoney*this.lotteryMul*this.lotteryPer,lotteryType:this.lotteryType.toUpperCase(),lotteryNo:this.lotteryNo,channel_number:ConfigObj.zdid};if(c.source>1)return $.alertMsg("追号不能发起合买",!1),!1;if(this.createSubBetData()<1)return $.alertMsg("请至少选择一注号码",!1),!1;var e={para:Global.encrypt(d),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.initNumTogehterInfo",data:e,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),hemaiObj.setData({data:a.info,createSubData:c}),b.goHemai()):$.alertMsg(a.code_str,!1)}})},b.goHemai=function(){hemaiObj.goBack=function(){hemaiObj.destroy(),b.show()},hemaiObj.show()},b.setData=function(a){a&&(this.lotteryType=a.lotteryType,this.lotteryCnName=a.lotteryCnName,this.lotteryNo=a.lotteryNo,a.lotteryPlay&&(this.lotteryPlay=a.lotteryPlay,"pl3"!=this.lotteryType&&"d3"!=this.lotteryType||"UP3"!=this.lotteryPlay&&"UH3"!=this.lotteryPlay&&"UH6"!=this.lotteryPlay&&"IH"!=this.lotteryPlay&&"UP6"!=this.lotteryPlay||(this.lotteryPlay="IP"),"dlt"!=this.lotteryType&&"ssq"!=this.lotteryType||(this.lotteryPlay="P"),this.lotteryType==ConfigObj.fastK3Type&&("TX"==this.lotteryPlay&&(this.lotteryPlay="TXD"),"BT3-LTX"==this.lotteryPlay&&(this.lotteryPlay="BT3"),"TXD2-TXS2"==this.lotteryPlay&&(this.lotteryPlay="TXD2"),"TXD-TX"==this.lotteryPlay&&(this.lotteryPlay="TXD"))),this.cnNameObj.html(a.lotteryCnName),"pl3"!=this.lotteryType&&!1===ConfigObj.syx5Type.indexOf(this.lotteryType)&&this.lotteryType!=ConfigObj.fastLotType&&"hn4j1"!=this.lotteryType&&this.lotteryType!=ConfigObj.fastK3Type||this.setLotteryPlayData&&this.setLotteryPlayData())},b.goProtocol=function(){protocolObj.goBack=function(){protocolObj.destroy(),b.show()},protocolObj.show()},b.showSlowLoading=function(){this.lotteryPer>100&&$("#confirm_slowLoading").show()},b.hideSlowLoading=function(){$("#confirm_slowLoading").hide()},b.checkDanPlay=function(a){var b=!1;return"D"==a?b=!0:this.lotteryType==ConfigObj.fastLotType&&-1!=a.indexOf("_D")?b=!0:this.lotteryType==ConfigObj.fastK3Type&&-1!=a.indexOf("_D")&&(b=!0),b},b.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getSessionAllBetData(),this.createBetData(),this.createBetList(),this.checkedBetTips(),this.getTemMulAndPer(),this.setMoneyDom(),b.lotteryType!=ConfigObj.fastK3Type&&b.lotteryType!=ConfigObj.fastLotType||$("#confirm_openHm").hide()},b.init=function(){this.setDefConfig(),b.onloadExecution()},b}function NumberLottery(a){var b=new PageController({name:a?a.name:"",tpl:a?a.tpl:""});return b.chartListTitle={tjsyy:{FP1:["第一位"],FP2:["第一位","第二位"],FP3:["第一位","第二位","第三位"]}},b.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="",this.lotteryType="",this.lotteryCnName="",this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryNo="",this.endTime=0,this.lotteryOneMoney=2,this.lotteryMinNum=new Array,this.lotteryMaxNum=new Array,this.lotteryBallNum=new Array,this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotterySelectTips=new Object,this.lotteryRandomNum=new Object,this.lotteryPlayCnName=new Object,this.lotteryBetError=new Object,this.betCnName=new Array,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(b.scheduleInterval),this.scheduleInterval=""),this.hasChartData="",this.isFastDan=0},b.countdownTick=function(a){function c(){var a=Date.now();if(a>=d)$("#numberLottery_countdown").html("已截止"),b.getData(),clearInterval(window.__numLottryCountdownInterval);else{a-=1e3;var c=(d-a)/1e3,e=Math.floor(c/3600);e=e<10?"0"+e:e;var f=Math.floor((c-3600*e)/60);f=f<10?"0"+f:f;var g=Math.floor(c-3600*e-60*f);g=g<10?"0"+g:g,$("#numberLottery_countdown").html("距离截止"+e+":"+f+":"+g)}}window.__numLottryCountdownInterval&&clearInterval(window.__numLottryCountdownInterval);var d=Date.parse(a.replace(/-/g,"/"));window.__numLottryCountdownInterval=setInterval(function(){c()},1e3)},b.getData=function(){var a=this,c={lotteryType:a.lotteryType.toUpperCase()},d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=lottery.schedule.getnumschedule",data:d,type:"post",dataType:"json",success:function(c){if("0000"==c.code){c.info=$.parseJSON(Global.crypt(c.info)),a.lotteryNo=c.info.lotteryNo,a.endTime=new Date(c.info.endTime)
;var d="第"+a.lotteryNo+'期 <span class="fontred"> <span id="numberLottery_countdown"></span> ',e="dlt"!=a.lotteryType&&"ssq"!=a.lotteryType&&"qxc"!=a.lotteryType&&"hn4j1"!=a.lotteryType||!c.info.poolInfo.pool_saledesc?"":" 奖池："+c.info.poolInfo.pool_saledesc+"</span>";a.topDescObj.html(d+e),a.scheduleInterval&&clearInterval(a.scheduleInterval),a.endTime>0&&(a.scheduleInterval=setInterval(function(){(new Date).getTime()-a.endTime>0&&a.getData()},6e4));var f=a.lotteryType+"Confirm",g=window[f+"Obj"];$("#"+f).length>0&&g.updBetTipsObj&&g.updBetTipsObj.attr("data-no",a.lotteryNo),b.countdownTick(c.info.endTime)}}})},b.createDomObj=function(){},b.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return this.goBack(),!0;case"clear":return this.clearBetLottery(),this.setMoneyDom(),!0;case"updatelottery":return this.updatePlay(c.attr("data-v"),c.attr("data-d"),c),this.setMoneyDom(),!0;case"showChartList":return this.showChartList(c),!0;case"showSYXWChartList":return this.showSYXWChartList(c),!0;case"showK3ChartList":return this.showK3ChartList(c),!0;case"submitBet":return this.submitBet(c),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showTopMenu":return this.showTopMenu(c),!0;case"showupdplay":return this.showUpdPlay(c),!0;case"selectnum":return this.selectNumber(c),this.setMoneyDom(),this.isRandom=!1,!0;case"redjx":return this.showJx(c,"red"),!0;case"bluejx":return this.showJx(c,"blue"),!0;case"random":return this.selectRandom(c),this.setMoneyDom(),this.isRandom=!0,!0;case"whatPlay":return this.showPlayTips(),!0;case"hideJxLayer":return this.closeJx(),!0;case"jxNumBtn":return this.jxNumFun(c),this.isRandom=!1,!0;case"showquick":return this.showQuick(c),!0;case"quick":return this.quickSelectNum(c),this.setMoneyDom(),!0;case"zsurl":return this.goTrend(),!0}}var f=$.oto_checkEvent(a,"LI");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"kjurl":return this.goNumKaijiang(),!0;case"zsurl":return this.goTrend(),!0;case"jjurl":return this.goLotteryRules("prize"),!0;case"gzurl":return this.goLotteryRules("play"),!0}}},b.hideTopMenu=function(){var a=this.lotteryDomObj.find('[data-t="showTopMenu"]');this.topMenuObj.hide(),a.attr("data-s",0),this.removeBgLayer();var b=this.lotteryDomObj.find('[data-t="showupdplay"]');this.updataPlayObj.hide(),b.attr("data-s",0),this.removeBgLayer(),this.betWrap.find(".current").removeClass("currentFixed")},b.goTrend=function(){switch(this.hideTopMenu(),this.lotteryType){case ConfigObj.fastLotType:fastTrendObj.goBack=function(){fastTrendObj.destroy(),b.show()};var a=this.lotteryType;fastTrendObj.show("reload",function(){"gd11x5"==a&&fastTrendObj.updatelottery(b.lotteryPlay,b.lotteryPlayCnName[b.lotteryPlay])});break;case ConfigObj.fastK3Type:fastK3TrendObj.goBack=function(){fastK3TrendObj.destroy(),b.show()};var a=this.lotteryType;fastK3TrendObj.show(!0,function(){fastK3TrendObj.updatelottery(b.lotteryPlay,b.lotteryPlayCnName[b.lotteryPlay])});break;case"dlt":dltTrendObj.goBack=function(){dltTrendObj.destroy(),b.show()},dltTrendObj.show("reload");break;case"ssq":ssqTrendObj.goBack=function(){ssqTrendObj.destroy(),b.show()},ssqTrendObj.show("reload");break;case"pl3":pl3TrendObj.goBack=function(){pl3TrendObj.destroy(),b.show()},pl3TrendObj.show("reload",function(){pl3TrendObj.updatelottery(b.lotteryPlay,b.lotteryPlayCnName[b.lotteryPlay])});break;case"d3":d3TrendObj.goBack=function(){d3TrendObj.destroy(),b.show()},d3TrendObj.show("reload");break;case"pl5":pl5TrendObj.goBack=function(){pl5TrendObj.destroy(),b.show()},pl5TrendObj.show("reload");break;case"qxc":qxcTrendObj.goBack=function(){qxcTrendObj.destroy(),b.show()},qxcTrendObj.show("reload");break;case"hn4j1":hn4j1TrendObj.goBack=function(){hn4j1TrendObj.destroy(),b.show()},hn4j1TrendObj.show("reload")}Global.pv("zoushi",{lotteryType:this.lotteryType})},b.goLotteryRules=function(a){var c=this.lotteryDomObj.find('[data-t="showTopMenu"]');this.showTopMenu(c),lotteryRulesObj.goBack=function(){lotteryRulesObj.destroy(),b.show()},lotteryRulesObj.show("reload",function(){lotteryRulesObj.setData(b.lotteryType,a)})},b.goNumKaijiang=function(){var a=this.lotteryDomObj.find('[data-t="showTopMenu"]');this.showTopMenu(a),numKaijiangObj.goBack=function(){numKaijiangObj.destroy(),b.show()},numKaijiangObj.show("reload","",b.lotteryType,"bet")},b.showQuick=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),a.next().hide(),this.temQuickTipsObj="",this.removeBgLayer()):(this.temQuickTipsObj&&(this.temQuickTipsObj.removeClass("showObj"),this.temQuickTipsObj.next().hide()),a.addClass("showObj"),a.next().show(),this.temQuickTipsObj=a,this.addBgLayer(a.next()))},b.createTipsBg=function(){var a=document.body.scrollHeight,c=$('<div id="upBGObj" style="width: 100%; height: '+a+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$(document.body).append(c),c.unbind("tap").tap(function(){b.temQuickTipsObj.next().hide(),b.temQuickTipsObj.removeClass("showObj"),c.remove()})},b.quickSelectNum=function(a){var b=a.attr("data-v"),c=Number(a.parent().attr("data-k"));switch(this.clearOneBetLottery(c),b){case"d":this.quickSelectD(c);break;case"x":this.quickSelectX(c);break;case"q":this.quickSelectQ(c);break;case"j":this.quickSelectJ(c);break;case"o":this.quickSelectO(c);break;case"c":this.quickSelectC(c)}var d=a.parent().parent();d.hide(),d.prev().removeClass("showObj"),this.removeBgLayer(),this.isRandom=!1},b.quickSelectD=function(a){for(var b=this.lotteryMaxNum[a],c=this.selectDivObj.eq(a).find("span"),d=0,e=c.length;d<e;d++){Number(c.eq(d).attr("data-v"))<b/2||this.selectNumber(c.eq(d))}},b.quickSelectX=function(a){for(var b=this.lotteryMaxNum[a],c=this.selectDivObj.eq(a).find("span"),d=0,e=c.length;d<e;d++){Number(c.eq(d).attr("data-v"))>=b/2||this.selectNumber(c.eq(d))}},b.quickSelectQ=function(a){for(var b=this.selectDivObj.eq(a).find("span"),c=0,d=b.length;c<d;c++)this.selectNumber(b.eq(c))},b.quickSelectJ=function(a){for(var b=this.selectDivObj.eq(a).find("span"),c=0,d=b.length;c<d;c++){(Number(b.eq(c).attr("data-v"))+1)%2!=1&&this.selectNumber(b.eq(c))}},b.quickSelectO=function(a){for(var b=this.selectDivObj.eq(a).find("span"),c=0,d=b.length;c<d;c++){(Number(b.eq(c).attr("data-v"))+1)%2!=0&&this.selectNumber(b.eq(c))}},b.quickSelectC=function(a){},b.selectNumber=function(a){var b=a.attr("data-v"),c=a.attr("data-k"),d=a.parent().attr("data-v");if(this.lotteryBetData[d]||(this.lotteryBetData[d]=new Array),this.lotteryBetNum[d]||(this.lotteryBetNum[d]=0),this.checkDanPlay()&&!this.lotteryBetDanNum[d]&&(this.lotteryBetDanNum[d]=0),this.lotteryBallWei){for(var e=0,f=0,g=this.lotteryBetNum.length;e<g;e++)this.lotteryBetNum[e]>0&&f++;if(f>=this.lotteryBallWei&&0===this.lotteryBetNum[d])return $.alertMsg("最多可选"+this.lotteryBallWei+"位"),!1}if("hn4j1"==this.lotteryType&&("R4C3"==this.lotteryPlay||"R4C3"==this.lotteryPlay||"R4C1"==this.lotteryPlay||"R3C2"==this.lotteryPlay))for(var e=0,g=this.lotteryBetNum.length;e<g;e++)if(e!=d&&0!=this.lotteryBetNum[e])for(var f=0,h=this.lotteryBetData[e].length;f<h;f++)if(this.lotteryBetData[e][f]&&this.lotteryBetData[e][f]==b){delete this.lotteryBetData[e][f],this.lotteryBetNum[e]-=1;var i=this.selectDivObj.eq(e).find("span");i.eq(f).removeClass("selected")}if("fastK3"==this.name){var j=this.checkK3Select(a);if(!j.isValid)return $.alertMsg(j.msg),!1}this.checkDanPlay()||a.hasClass("selected")?!this.checkDanPlay()&&a.hasClass("selected")?(a.removeClass("selected"),delete this.lotteryBetData[d][c],this.lotteryBetNum[d]-=1):!this.checkDanPlay()||a.hasClass("dan")||a.hasClass("selected")?this.checkDanPlay()&&a.hasClass("selected")?this.lotteryBetDanNum[d]>=this.lotteryMinNum[d]-1?(a.removeClass("selected"),this.lotteryBetNum[d]-=1,delete this.lotteryBetData[d][c]):(a.removeClass("selected"),a.addClass("dan"),a.append("<i>胆</i>"),this.lotteryBetData[d][c]="d-"+b,this.lotteryBetDanNum[d]+=1):this.checkDanPlay()&&a.hasClass("dan")&&(a.removeClass("dan"),a.children("i").remove(),this.lotteryBetDanNum[d]-=1,this.lotteryBetNum[d]-=1,delete this.lotteryBetData[d][c]):(a.addClass("selected"),this.lotteryBetNum[d]+=1,this.lotteryBetData[d][c]=b):(a.addClass("selected"),this.lotteryBetData[d][c]=b,this.lotteryBetNum[d]+=1)},b.createSubmitData=function(){for(var a=[],c=[],d=0,e=this.lotteryMinNum.length;d<e;d++){if(this.lotteryBallWei&&this.lotteryBetData[d]&&this.lotteryBetData[d].length){for(var f=[],g=0,h=this.lotteryBetData[d].length;g<h;g++)this.lotteryBetData[d][g]&&f.push(this.lotteryBetData[d][g]);this.lotteryBetData[d]=f}if(this.lotteryBallWei&&this.lotteryBetData[d]&&this.lotteryBetData[d].length){for(var f=[],g=0,h=this.lotteryBetData[d].length;g<h;g++)this.lotteryBetData[d][g]&&f.push(this.lotteryBetData[d][g]);this.lotteryBetData[d]=f}if(!this.lotteryBallWei||this.lotteryBetData[d]&&this.lotteryBetData[d].length){if(this.lotteryBetData[d]){for(var i=[],j=[],k=0,l=this.lotteryBetData[d].length;k<l;k++)this.lotteryBetData[d][k]&&i.push(this.lotteryBetData[d][k]),this.lotteryBetData[d][k]&&this.lotteryBetData[d][k].indexOf("d-")>-1&&j.push(this.lotteryBetData[d][k]);if(i.length&&i.length<this.lotteryMinNum[d])return[!1,this.lotteryBetError[this.lotteryPlay][d]];i.length&&(a[d]=i.join(",")),j.length&&(c[d]=j.join(","))}}else a[d]="-"}if(this.checkDanPlay()&&0==c.length&&0==a.length)return[!1,"请至少选择1注"];if(this.checkDanPlay()&&0==c.length&&0!=a.length)return[!1,"请至少选择一个胆码"];if(0==a.length)return this.selectRandom(),this.setMoneyDom(),[!1,""];for(var d=0,e=this.lotteryMinNum.length;d<e;d++){if(this.checkDanPlay()&&c[d]&&("dlt"==this.lotteryType||"ssq"==this.lotteryType)){if(a[d].split(",").length<this.lotteryMinNum[d]+1)return[!1,this.lotteryBetError.DD[d]]}if(!a[d])return[!1,this.lotteryBetError[this.lotteryPlay][d]]}var m=b.getZhushu();if(this.lotteryBallWei&&0==m)return this.selectRandom(),this.setMoneyDom(),[!1,""];if((this.lotteryType==ConfigObj.fastLotType||this.lotteryType==ConfigObj.fastK3Type)&&0!=a.length&&0==m&&0!=c.length)return[!1,"请至少选择1注"];if(this.checkP&&0!=a.length&&0==m)return[!1,"请每位至少选择1个不同的号码"];if(this.checkP&&this.lotteryType==ConfigObj.fastLotType&&0!=a.length&&("FP2"==this.lotteryPlay||"FP3"==this.lotteryPlay)&&1==m){for(var n=[],o=!1,d=0;d<a.length;d++)1==a[d].split(",").length?n[d]=a[d]:(n[d]="",o=!0);for(;o;){for(var d=0;d<a.length;d++)a[d]&&1==a[d].split(",").length?n[d]=a[d]:(n[d]="",o=!0);for(var d=0;d<a.length;d++)if(a[d]!=n[d]){var p=a[d].split(",");if(p.length>1)for(var q=n.concat(),r=0;r<n.length;r++)if(-1!=$.inArray(q[r],p)){var s=$.inArray(q[r],p);p.splice(s,1),a[d]=p.join(","),n[d]=p.join(",")}}"FP2"==this.lotteryPlay&&a[0]&&1==a[0].split(",").length&&a[1]&&1==a[1].split(",").length&&(o=!1),"FP3"==this.lotteryPlay&&a[0]&&a[1]&&a[2]&&1==a[0].split(",").length&&1==a[1].split(",").length&&1==a[2].split(",").length&&(o=!1)}}var t="";return this.isFastDan&&(t="_D"),a.push(this.isRandom?this.lotteryPlay+"R":this.lotteryPlay+t),m>this.maxZSVal?[!1,"注数最多支持"+(this.maxZSVal/1e4).toFixed(0)+"万注"]:m*this.lotteryOneMoney>this.maxMoneyVal?[!1,"投注金额最大支持"+(this.maxMoneyVal/1e4).toFixed(0)+"万元"]:(a.push(m),a.join("|"))},b.submitBet=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var c=this.createSubmitData();if(!1===c[0])return c[1]&&$.alertMsg(c[1]),!1;if(window.localStorage){switch(window.localStorage.setItem(this.lotteryType+"lotteryBetData",c),b.lotteryType){case"dlt":this.gotoDltConfirm();break;case"pl3":this.gotoPl3Confirm();break;case"pl5":this.gotoPl5Confirm();break;case"qxc":this.gotoQxcConfirm();break;case ConfigObj.fastLotType:this.goFastBetConfirm();break;case ConfigObj.fastK3Type:this.goFastK3Confirm();break;case"hn4j1":this.goHn4j1Confirm();break;case"ssq":this.goSsqConfirm();break;case"d3":this.gotoD3Confirm()}Global.pv("zuodan",{lotteryType:b.lotteryType})}},b.goHn4j1Confirm=function(){hn4j1ConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},hn4j1ConfirmObj.show("reload",function(){hn4j1ConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:"海南4+1",lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay})})},b.goFastBetConfirm=function(){fastBetConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},fastBetConfirmObj.show("reload",function(){fastBetConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay,isFastDan:b.isFastDan})})},b.goFastK3Confirm=function(){fastK3ConfirmObj.goBack=function(){b.show(!0),b.clearBetLottery(),b.setMoneyDom()},fastK3ConfirmObj.show("reload",function(){fastK3ConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay,isFastDan:b.isFastDan})})},b.gotoQxcConfirm=function(){qxcConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},qxcConfirmObj.show("reload",function(){qxcConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay})})},b.gotoPl5Confirm=function(){pl5ConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},pl5ConfirmObj.show("reload",function(){pl5ConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay})})},b.gotoPl3Confirm=function(){pl3ConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},pl3ConfirmObj.show("reload",function(){pl3ConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay})})},b.gotoD3Confirm=function(){d3ConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},d3ConfirmObj.show("reload",function(){d3ConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay})})},b.gotoDltConfirm=function(){dltConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},dltConfirmObj.show("reload",function(){dltConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay})})},b.goSsqConfirm=function(){ssqConfirmObj.goBack=function(){b.show(),b.clearBetLottery(),b.setMoneyDom()},ssqConfirmObj.show("reload",function(){ssqConfirmObj.setData({lotteryType:b.lotteryType,lotteryCnName:b.lotteryCnName,lotteryNo:b.lotteryNo,lotteryPlay:b.lotteryPlay})})},b.createGetData=function(){},b.selectRandom=function(a){var c=a?a.attr("data-k"):"";if(""===c){var d=[];if(this.lotteryBallWei)for(var e=0,f=b.lotteryMinNum.length-this.lotteryBallWei;e<f;e++){var g=Math.floor(Math.random()*b.lotteryMinNum.length);d.indexOf(g)<0?d.push(g):e--}for(var h=0,i=b.lotteryMinNum.length;h<i;h++)this.clearOneBetLottery(h);for(var h=0,i=b.lotteryMinNum.length;h<i;h++)d.indexOf(h)>-1||this.randomSelectNumber(h)}else this.clearOneBetLottery(Number(c)),this.randomSelectNumber(Number(c))},b.randomSelectNumber=function(a){for(var b=this.lotteryRandomNum[a]?this.lotteryRandomNum[a]:this.lotteryMinNum[a],c=this.lotteryBallNum[a],d=this.selectDivObj.eq(a).find("span"),e=[],f=0,g=b;f<g;f++){var h=Math.floor(Math.random()*c);if($.inArray(h,e)>-1)f--;else{var i=d.filter("[data-k='"+h+"']");if(i.length){var j=!1;if(this.checkP)for(var k=i.attr("data-v"),l=0,m=this.lotteryBetData.length;l<m;l++)if(this.lotteryBetData[l]){if($.inArray(k,this.lotteryBetData[l])>-1){j=!0,f--;break}if(this.lotteryType==ConfigObj.fastK3Type&&"TXD2-TXS2"==this.lotteryPlay)for(var n=0;n<this.lotteryBetData[l].length;n++)if(this.lotteryBetData[l][n]&&(-1!=this.lotteryBetData[l][n].indexOf(k)||-1!=k.indexOf(this.lotteryBetData[l][n]))){j=!0,f--;break}}j||(this.selectNumber(i),e.push(h))}else f--}}delete e},b.clearBetLottery=function(){for(var a=0,b=this.selectDivObj.length;a<b;a++)this.clearOneBetLottery(a)},b.clearOneBetLottery=function(a){delete this.lotteryBetData[a],delete this.lotteryBetNum[a],delete this.lotteryBetDanNum[a],this.selectDivObj.eq(a).find("span").removeClass("selected");for(var b=this.selectDivObj.eq(a).find("span"),c=0,d=b.length;c<d;c++)b.eq(c).hasClass("dan")&&(b.eq(c).removeClass("dan"),b.eq(c).children("i").remove())},b.updatePlay=function(a,b,c){b?this.lotteryType!=ConfigObj.fastLotType&&"fastK3"!=this.name||(this.isFastDan=1):this.isFastDan=0,this.updatePlayData(a),this.updataPlayObj.hide(),this.updataPlayObj.find("p").removeClass("selected"),c&&c.addClass("selected"),this.playTitleObj.attr("data-s","0"),this.betWrap&&this.betWrap.find(".current").removeClass("currentFixed"),this.removeBgLayer(),this.lotteryType==ConfigObj.fastLotType&&($("#fastBet_showSYXWCharList").attr("data-s",0),this.chartListObj.hide()),this.lotteryType==ConfigObj.fastK3Type&&($("#fastK3_showK3ChartList").attr("data-s",0),$("#fastK3_showK3ChartList").find(".arrow").addClass("trans"),this.chartListObj.hide())},b.updatePlayData=function(a){this.lotteryPlayCnName[a]?this.playTitleObj.html(this.lotteryCnName+"-"+this.lotteryPlayCnName[a]+'<em class="down"></em>'):this.playTitleObj.html(this.lotteryCnName),this.clearBetLottery(),this.lotteryPlay=a,this.lotteryRandomNum=new Array,this.createSelectTitleHtml()},b.updateBet=function(){if(!this.isEdit)return!1;var a=this.editData,b=a.split("|"),c=b[b.length-2];c.indexOf("R",c.length-1)==c.length-1?(this.lotteryPlay=c.substr(0,c.length-1),this.isRandom=!0):this.lotteryPlay=c,"TXD"!=this.lotteryPlay&&"TX"!=this.lotteryPlay||(this.lotteryPlay="TXD-TX"),"TXD2"!=this.lotteryPlay&&"TXS2"!=this.lotteryPlay||(this.lotteryPlay="TXD2-TXS2"),"BT3"!=this.lotteryPlay&&"LTX"!=this.lotteryPlay||(this.lotteryPlay="BT3-LTX"),this.updatePlay(this.lotteryPlay,-1!=c.indexOf("_D")?1:"");for(var d=0,e=this.lotteryBallNum.length;d<e;d++)if("-"!=b[d]&&-1==$.inArray(b[d],["TXD","TX","TXD2","TXS2","BT3","LTX"])){var f=b[d].split(","),g=d;-1!=$.inArray(c,["TX","LTX"])?g=1:"TXS2"==c&&(g=2);var h=this.selectDivObj.eq(g).find("span");this.lotteryBetData[g]||(this.lotteryBetData[g]=new Array),this.lotteryBetNum[g]||(this.lotteryBetNum[g]=0),this.checkDanPlay()&&!this.lotteryBetDanNum[g]&&(this.lotteryBetDanNum[g]=0);for(var i=0,j=f.length;i<j;i++){var k=f[i];if(k){if(k.indexOf("d-")>-1){var l=k.replace("d-",""),m=h.filter("[data-v='"+l+"']");m.addClass("dan"),m.append("<i>胆</i>"),this.lotteryBetDanNum[d]+=1}else{var m=h.filter("[data-v='"+k+"']");m.addClass("selected")}var n=m.attr("data-k");this.lotteryBetData[g][n]=k,this.lotteryBetNum[g]+=1}}}this.setMoneyDom()},b.createSelectTitleHtml=function(){if(this.lotterySelectTips){if(this.lotteryType!=ConfigObj.fastLotType&&this.lotteryType!=ConfigObj.fastK3Type||!this.isFastDan)var a=this.lotterySelectTips[this.lotteryPlay];else var a=this.lotterySelectDanTips[this.lotteryPlay];if(!a)return!1;for(var b=0,c=this.selTitleObj.length;b<c;b++)$(this.selTitleObj[b]).html(a[b]).css({"border-right":"1px solid #f2f3f7"})}},b.createEvent=function(){this.lotteryDomObj.unbind("tap").tap(function(a){b.lotteryEvent(a)}),this.ddTipsObj.unbind("tap").tap(function(){$(this).hide()}),window.addEventListener("devicemotion",function(a){b.deviceMotionHandler(a)},!1),this.lotteryDomObj.dropload({scrollArea:window,distance:300,loadUpFn:function(a){b.lotteryType!=ConfigObj.fastLotType?b.getData():b.getLotteryData(),a.resetload()}})},b.closeJx=function(){if("red"==this.jxNumType){var a=this.lotteryDomObj.find("span[data-t=redjx]");this.showJx(a,"red")}else if("blue"==this.jxNumType){var a=this.lotteryDomObj.find("span[data-t=bluejx]");this.showJx(a,"blue")}},b.showJx=function(a,b){Number(a.attr("data-s"))?(this.jxObj.hide(),a.attr("data-s",0),this.jxNumType="",this.removeBgLayer(),$(a).find(".arrow").length>0&&$(a).find(".arrow").removeClass("trans")):(this.jxObj.show(),"red"==b?("ssq"==this.lotteryType?this.createJxBtn(6,20,a,"red"):this.createJxBtn(this.lotteryMinNum[0],this.lotteryMaxNum[0],a,"red"),this.jxNumType="red"):"blue"==b&&(this.createJxBtn(this.lotteryMinNum[1],this.lotteryMaxNum[1],a,"blue"),this.jxNumType="blue"),a.attr("data-s",1),this.addBgLayer(this.jxObj,a),$(a).find(".arrow").length>0&&$(a).find(".arrow").addClass("trans"))},b.createJxBtn=function(a,b,c,d){for(var e="",f=a;f<=b;f++){var g=f-a+1;if("ssq"==this.lotteryType)var h="red"==d?4:6;else var h="red"==d?5:6;g%h==1&&(e+="<li>"),e+='<span  data-t="jxNumBtn" '+(4==h?'style="width:25%"':"")+"><em>"+f+"</em></span>",f==b&&("ssq"==this.lotteryType?e+='<span data-t="hideJxLayer" '+(6==h?'style="width:33%"':'style="width:25%"')+' id="jxLayerClose"><em style="border-right:none">关闭</em></span>':e+='<span data-t="hideJxLayer" id="jxLayerClose"><em style="border-right:none">关闭</em></span>'),g-1!=b&&g%h!=0||(e+="</li>")}var i=this.jxObj.find("ul");$(i).html(e),this.jxObj.get(0).className="keyboard "+("red"==d?"key5":"key6")},b.jxNumFun=function(a){var c=$(a).text();if("red"==this.jxNumType)var d=this.lotteryDomObj.find("span[data-t=redjx]");else if("blue"==this.jxNumType)var d=this.lotteryDomObj.find("span[data-t=bluejx]");d=$(d),d.attr("data-v",c),d.find(".jsJxNum").text(c);var e=Number(d.attr("data-k"));b.lotteryRandomNum[e]=c,b.showJx(d,b.jxNumType),this.selectRandom(d),this.setMoneyDom()},b.showUpdPlay=function(a){if(Number(a.attr("data-s")))this.updataPlayObj.hide(),a.attr("data-s",0),this.removeBgLayer(),this.betWrap.find(".current").removeClass("currentFixed");else if(this.updataPlayObj.show(),a.attr("data-s",1),this.addBgLayer(this.updataPlayObj,a),this.betWrap.find(".current").addClass("currentFixed"),"pl5"!=this.lotteryType&&this.lotteryType,"none"!=this.topMenuObj.css("display")){var b=this.lotteryDomObj.find('[data-t="showTopMenu"]');this.showTopMenu(b)}this.jxObj&&this.jxObj.hide()},b.showTopMenu=function(a){Number(a.attr("data-s"))?(this.topMenuObj.hide(),a.attr("data-s",0),this.removeBgLayer()):(this.topMenuObj.show(),a.attr("data-s",1),this.addBgLayer(this.topMenuObj,a),this.playTitleObj&&"none"!=this.updataPlayObj.css("display")&&"pl5"!=this.lotteryType&&this.showUpdPlay(this.playTitleObj))},b.removeBgLayer=function(){$("#bgLayer").length&&$("#bgLayer").remove()},b.addBgLayer=function(a,c){var d=this;0==$("#bgLayer").length&&($(this.lotteryDomObj).append('<div style="width:100%;height:100%;background:transparent;position:absolute;left:0;top:0;z-index:90" id="bgLayer"></div>'),$("#bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#bgLayer").unbind("tap").tap(function(){d.betWrap.find(".current").removeClass("currentFixed"),a.hide(),$("#bgLayer").remove(),c&&(c.attr("data-s",0),$(c).find(".arrow").length>0&&$(c).find(".arrow").removeClass("trans")),b.betWrap}))},b.setMoneyDom=function(){var a=b.getZhushu();this.zhushuObj.html(a),this.moneyObj.html(b.getMoney(a))},b.showK3ChartList=function(a){Number(a.attr("data-s"))?(this.chartListObj.hide(),a.attr("data-s",0),$(a).find(".arrow").length>0&&$(a).find(".arrow").addClass("trans")):(this.hasChartData||this.getK3ChartData(),this.chartListObj.show(),a.attr("data-s",1),$(a).find(".arrow").length>0&&$(a).find(".arrow").removeClass("trans"))},b.getK3ChartData=function(){var a={lottery_type:b.lotteryType.toUpperCase(),trendType:"simple"},c={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastK3Api[ConfigObj.fastK3Type].chart,type:"POST",data:c,dataType:"json",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;switch(a.info=$.parseJSON(Global.crypt(a.info)),b.lotteryType){case ConfigObj.fastK3Type:b.formatK3List(a.info.list)}}})},b.showSYXWChartList=function(a){Number(a.attr("data-s"))?(this.chartListObj.hide(),a.attr("data-s",0),$(a).find(".arrow").length>0&&$(a).find(".arrow").addClass("trans")):(this.hasChartData||this.getSYXWChartData(),this.chartListObj.show(),a.attr("data-s",1),$(a).find(".arrow").length>0&&$(a).find(".arrow").removeClass("trans"))},b.showChartList=function(a){Number(a.attr("data-s"))?(this.chartListObj.hide(),a.attr("data-s",0),$(a).find(".arrow").length>0&&$(a).find(".arrow").addClass("trans")):(this.hasChartData||this.getChartData(),this.chartListObj.show(),a.attr("data-s",1),$(a).find(".arrow").length>0&&$(a).find(".arrow").removeClass("trans"))},b.getSYXWChartData=function(){var a={lottery_type:b.lotteryType.toUpperCase(),trendType:b.lotteryPlay},c={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastLotApi[ConfigObj.fastLotType].chart,type:"POST",data:c,dataType:"json",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),b.fastFormatList(a.info.list)}})},b.fastFormatList=function(a,c){a&&a.reverse();var d=[],e=document.documentElement.clientWidth||document.body.clientWidth,f=221*(a[0].num_miss.length-1)+80+9+221;if(f=f<e?e:f,this.chartListTitle[this.lotteryType]&&this.chartListTitle[this.lotteryType][this.lotteryPlay]){var g=this.chartListTitle[this.lotteryType][this.lotteryPlay];d.push('<div class="clearfix"><p class="w_qh">期号</p>');for(var h=0,i=g.length;h<i;h++)d.push('<p class="w_dw">'+g[h]+"</p>");d.push("</div>")}for(var h=0,i=a.length;h<i;h++){a[h].lottery_no.length,d.push('<div class="listnum clearfix listObj"><span class="qishu fl">'+a[h].lottery_no+'</span><span class="line fl"><em class="dot"></em></span><p class="result fl">');for(var j=0,k=a[h].num_miss.length;j<k;j++){var l=a[h].num_miss[j];d.push("<span>");for(var m=0,n=l.length;m<n;m++)0===Number(l[m].miss)?d.push('<i class="fontred">'+l[m].hao+"</i>"):d.push("<i>"+l[m].miss+"</i>");d.push("</span>")}d.push("</p></div>")}c&&"append"==c?b.chartListObj.children("div.listObj").eq(0).before(d.join("")):b.chartListObj.html(d.join("")),$("#fastBet_chartList").css("width",f+"px"),fastBetObj.updateLotteryMyScroll&&fastBetObj.updateLotteryMyScroll.refresh()},b.getChartData=function(){var a={lottery_type:b.lotteryType.toUpperCase(),size:10},c={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Charts.trend",type:"post",data:c,dataType:"json",success:function(a){if("0000"==a.code&&(a.info=$.parseJSON(Global.crypt(a.info)),a.info.list&&a.info.list.length)){switch(b.lotteryType){case"dlt":case"ssq":b.formatList(a.info.list);break;case"pl5":case"qxc":b.plformatList(a.info.list);break;case"pl3":case"d3":b.pl3formatList(a.info.list);break;case"hn4j1":b.hn4j1formatList(a.info.list)}b.hasChartData=1}}})},b.hn4j1formatList=function(a){if(a){for(var b=[],c=0,d=a.length;c<d;c++){b.push('<div class="listnum clearfix"><span class="qishu fl">'+a[c].lotteryNum+'期</span><span class="line fl"><em class="dot"></em></span><p class="result fl">');for(var e=['<span class="fontred">'],f=a[c].lotteryResult.split(","),g=0,h=f.length;g<h;g++)4==g&&e.push('</span><span class="fontblue">'),e.push("<i>"+f[g]+"</i>");e.push("</span>"),b.push(e.join("")),b.push("</span></p></div>")}this.chartListObj.html(b.join(""))}},b.plformatList=function(a){if(a){for(var b=[],c=0,d=a.length;c<d;c++){b.push('<div class="listnum clearfix"><span class="qishu fl">'+a[c].lotteryNum+'期</span><span class="line fl"><em class="dot"></em></span><p class="result fl"><span class="fontred">');var e=[];switch(this.lotteryType){case"pl5":var f=a[c].lotteryResult.split("|");break;case"qxc":var f=a[c].lotteryResult.split(",");break;default:var f=a[c].lotteryResult.split(";")}if(f.length>0)for(var g=0,h=f.length;g<h;g++)e.push("<i>"+f[g]+"</i>");b.push(e.join("")),b.push("</span></p></div>")}this.chartListObj.html(b.join(""))}},b.pl3formatList=function(a){var b=[];if(!a)return!1;for(var c=0,d=a.length;c<d;c++){b.push('<div class="listnum clearfix"><span class="qishu fl">'+a[c].lotteryNum+'期</span><span class="line fl"><em class="dot"></em></span><p class="result fl"><span class="fontred">');var e=[];if("d3"==this.lotteryType)var f=a[c].lotteryResult.split(",");else var f=a[c].lotteryResult.split("|");if(f.length>0)for(var g=0,h=f.length;g<h;g++)e.push("<i>"+f[g]+"</i>");b.push(e.join("")),b.push('</span><span class="fontblack" style="display:inline-block;width:45px">和值'+(a[c].sum>=0?a[c].sum:"")+'</span><span class="fontred">'+(a[c].type?a[c].type:"")+"</span></p></div>")}this.chartListObj.html(b.join(""))},b.formatList=function(a){if(a){for(var b="",c=0;c<a.length;c++){var d=a[c];if(b+='<div class="listnum clearfix"><span class="qishu fl">'+d.lotteryNum+'期</span><span class="line fl"><em class="dot"></em></span><p class="result fl"><span class="fontred">',d.lotteryResult){var e=d.lotteryResult.split("|");if(e.length>0){for(var f=e[0].split(","),g=e[1].split(","),h=0;h<f.length;h++)b+="<i>"+f[h]+"</i>";b+='</span><span class="fontblue">';for(var i=0;i<g.length;i++)b+="<i>"+g[i]+"</i>";b+="</span>"}}b+="</p></div>"}this.chartListObj.html(b)}},b.formatK3List=function(a){if(a){var b="";a.forEach(function(a){var c=a.lottery_no;if(11==a.lottery_no.length&&(a.lottery_no=c.slice(2)),b+='<div class="listnum clearfix k3chart"><span class="qishu fl" style="width:25%;">'+a.lottery_no+'期</span><span class="line fl"><em class="dot"></em></span>',a.lottery_result){b+='<p class="result fl" style="width:72%;">',b+='<span class="fontred" style="width:30%;text-align:center;">';var d=a.lottery_result;d.forEach(function(a){b+="<i>"+a+"</i>"}),b+="</span>";var e="block-2th",f="二同号";d[0]==d[1]&&d[1]==d[2]?(e="block-3th",f="三同号"):d[0]!=d[1]&&d[1]!=d[2]&&(e="block-3bt",f="三不同"),b+='<span class="fontblue" style="width:15%;text-align:center;">'+a.sum+"</span>",0==a.ji?b+='<span style="width:15%;text-align: center;"><span style="text-align: center; width:18px; background: #f7ac5b; color: #fff">单</span></span>':b+='<span class="gray" style="width:15%;text-align: center;">'+a.ji+"</span>",0==a.ou?b+='<span style="width:15%;text-align: center;"><span style="text-align: center; width: 18px; background: #f7ac5b; color: #fff">双</span></span>':b+='<span class="gray" style="width:15%;text-align: center;">'+a.ou+"</span>",b+="<span class="+e+' style="width:25%;text-align: center;">'+f+"</span>",b+="</p></div>"}}),this.chartListObj.html(b)}},b.showPlayTips=function(){this.ddTipsObj.show()},b.getMoney=function(a){return this.lotteryOneMoney*a},b.getZhushu=function(a){return a=a||b.lotteryPlay,this[a+"Bonus"]()},b.PBonus=function(){for(var a,c=0,d=b.lotteryMinNum.length;c<d;c++){if(!b.lotteryBetNum[c])return 0;if(b.lotteryBetNum[c]<b.lotteryMinNum[c])return 0;for(var e=1,f=1,g=0,h=b.lotteryMinNum[c];g<h;g++)e*=b.lotteryBetNum[c]-g,f*=b.lotteryMinNum[c]-g;a=a?a*e/f:1*e/f}return a},b.IPBonus=b.PBonus,b.UP3Bonus=function(){return 2*this.PBonus()},b.UP6Bonus=b.PBonus,b.IHBonus=function(){var a={0:1,1:3,2:6,3:10,4:15,5:21,6:28,7:36,8:45,9:55,10:63,11:69,12:73,13:75,14:75,15:73,16:69,17:63,18:55,19:45,20:36,21:28,22:21,23:15,24:10,25:6,26:3,27:1},c=0;if(!b.lotteryBetData[0])return c;for(var d=0,e=b.lotteryBetData[0].length;d<e;d++)b.lotteryBetData[0][d]&&(c+=a[b.lotteryBetData[0][d]]);return c},b.UH3Bonus=function(){var a={0:0,1:1,2:2,3:1,4:3,5:3,6:3,7:4,8:5,9:4,10:5,11:5,12:4,13:5,14:5,15:4,16:5,17:5,18:4,19:5,20:4,21:3,22:3,23:3,24:1,25:2,26:1,27:0},c=0;if(!b.lotteryBetData[0])return c;for(var d=0,e=b.lotteryBetData[0].length;d<e;d++)b.lotteryBetData[0][d]&&(c+=a[b.lotteryBetData[0][d]]);return c},b.UH6Bonus=function(){var a={0:0,1:0,2:0,3:1,4:1,5:2,6:3,7:4,8:5,9:7,10:8,11:9,12:10,13:10,14:10,15:10,16:9,17:8,18:7,19:5,20:4,21:3,22:2,23:1,24:1,25:0,26:0,27:0},c=0;if(!b.lotteryBetData[0])return c;for(var d=0,e=b.lotteryBetData[0].length;d<e;d++)b.lotteryBetData[0][d]&&(c+=a[b.lotteryBetData[0][d]]);return c},b.DBonus=function(){for(var a,c=0,d=b.lotteryMinNum.length;c<d;c++){if(!b.lotteryBetNum[c])return 0;if(b.lotteryBetNum[c]<b.lotteryMinNum[c])return 0;if(b.lotteryBetDanNum[c]&&b.lotteryBetNum[c]<=b.lotteryMinNum[c])return 0;var e=1,f=1;b.lotteryBetDanNum[c]&&!0;for(var g=0,h=b.lotteryMinNum[c]-b.lotteryBetDanNum[c];g<h;g++)e*=b.lotteryBetNum[c]-b.lotteryBetDanNum[c]-g,f*=b.lotteryMinNum[c]-b.lotteryBetDanNum[c]-g;a=a?a*e/f:1*e/f}return a},b.R2Bonus=b.PBonus,b.R3Bonus=b.R2Bonus,b.R4Bonus=b.R2Bonus,b.R5Bonus=b.R2Bonus,b.R6Bonus=b.R2Bonus,b.R7Bonus=b.R2Bonus,b.R8Bonus=b.R2Bonus,b.FP1Bonus=b.R2Bonus,b.FP2Bonus=function(){
for(var a=new Array,c=0,d=b.lotteryBetData.length;c<d;c++)!function(b){if(!b||!b.length)return!0;if(!a.length)return a=b,!0;for(var c=new Array,d=0,e=a.length;d<e;d++)if(a[d])for(var f=0,g=b.length;f<g;f++)if(b[f]){var h=a[d].split(",");$.inArray(b[f],h)>-1||c.push(a[d]+","+b[f])}!!c.length&&(a=c.concat([]))}(b.lotteryBetData[c]);var e=0;for(var c in a)a[c]&&a[c].split(",").length==b.lotteryMinNum.length&&e++;return e},b.FC2Bonus=b.R2Bonus,b.FP3Bonus=b.FP2Bonus,b.FC3Bonus=b.R2Bonus,b.D5Bonus=b.PBonus,b.D4Bonus=b.PBonus,b.D3Bonus=function(){for(var a=0,c=0,d=b.lotteryBetNum.length;a<d;a++)b.lotteryBetNum[a]>0&&c++;if(c<b.lotteryBallWei)return 0;for(var e,a=0,d=b.lotteryMinNum.length;a<d;a++)if(b.lotteryBetNum[a]){for(var f=1,g=1,c=0,h=b.lotteryMinNum[a];c<h;c++)f*=b.lotteryBetNum[a]-c,g*=b.lotteryMinNum[a]-c;e=e?e*f/g:1*f/g}return e},b.D2Bonus=b.D3Bonus,b.D1Bonus=b.D3Bonus,b.R4C2Bonus=b.PBonus,b.R3C3Bonus=b.PBonus,b.R2C2Bonus=b.PBonus,b.R4C3Bonus=b.FP2Bonus,b.R4C1Bonus=function(){for(var a=new Array,c=function(a,b,c){function d(a,b,f){if(0===f||c&&e.length==c)return e[e.length]=a;for(var g=0,h=b.length-f;g<=h;g++)if(!c||e.length<c){var i=a.slice();i.push(b[g]),d(i,b.slice(g+1),f-1)}}var e=[];return d([],a,b),e},d=0,e=b.lotteryBetData.length;d<e;d++){for(var f=[],g=0,h=b.lotteryBetData[d].length;g<h;g++)b.lotteryBetData[d][g]&&f.push(b.lotteryBetData[d][g]);!function(b){if(!b||!b.length)return!0;if(!a.length)return a=b,!0;for(var d=new Array,e=0,f=a.length;e<f;e++)if(a[e])for(var g=c(b,2),h=0,i=g.length;h<i;h++)$.inArray(a[e],g[h])>-1||d.push(a[e]+"|"+g[h].join(","));!!d.length&&(a=d.concat([]))}(f)}var i=0;for(var d in a)a[d]&&a[d].split(",").length==b.lotteryMinNum.length&&i++;return i},b.R3C2Bonus=b.FP2Bonus,b.TXD2Bonus=function(){return b.GetPBonus([b.lotteryMinNum[0],b.lotteryMinNum[1]],[b.lotteryBetNum[0],b.lotteryBetNum[1]])},b.TXS2Bonus=function(){return b.GetPBonus([b.lotteryMinNum[2]],[b.lotteryBetNum[2]])},b["TXD2-TXS2Bonus"]=function(){return b.TXD2Bonus()+b.TXS2Bonus()},b.BT3Bonus=function(){return b.GetPBonus([b.lotteryMinNum[0]],[b.lotteryBetNum[0]])},b.LTXBonus=function(){return b.GetPBonus([b.lotteryMinNum[1]],[b.lotteryBetNum[1]])},b["BT3-LTXBonus"]=function(){return this.BT3Bonus()+this.LTXBonus()},b.TXDBonus=function(){return 1*this.lotteryBetNum[0]?this.lotteryBetNum[0]:0},b.TXBonus=b.LTXBonus,b["TXD-TXBonus"]=function(){return this.TXDBonus()+this.TXBonus()},b.GetPBonus=function(a,c){a=a||b.lotteryMinNum,c=c||b.lotteryBetNum;for(var d,e=0,f=a.length;e<f;e++){if(!c[e])return 0;if(c[e]<a[e])return 0;for(var g=1,h=1,i=0,j=a[e];i<j;i++)g*=c[e]-i,h*=a[e]-i;d=d?d*g/h:1*g/h}return d},b.deviceMotionHandler=function(a){var c=a.accelerationIncludingGravity,d=(new Date).getTime();if(d-this.last_update>150){var e=d-this.last_update;this.last_update=d,this.x=c.x,this.y=c.y,this.z=c.z;Math.abs(this.x+this.y+this.z-this.last_x-this.last_y-this.last_z)/e*1e4>1500&&(b.shake_timer=b.shake_timer?clearTimeout(b.shake_timer):setTimeout(function(){if(b.checkDanPlay())return!1;if(b.selectRandom(),b.setMoneyDom(),b.isRandom=!0,navigator.notification&&navigator.notification.vibrate){var a=Global.getActivePage();if(a.length>0){for(var c=["dlt","ssq","fastBet","hn4j1","pl3","pl5","qxc"],d=!1,e=0;e<a.length;e++){var f=$(a[e]).attr("id");-1!=$.inArray(f,c)&&$(a[e]).get(0)&&"none"!=$(a[e]).get(0).style.display&&(d=!0)}d&&navigator.notification.vibrate(300)}}},90)),this.last_x=this.x,this.last_y=this.y,this.last_z=this.z}},b.checkDanPlay=function(){var a=!1;return"D"==this.lotteryPlay?a=!0:1==this.isFastDan&&(a=!0),a},b.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData(),this.updateBet()},b.init=function(){this.setDefConfig(),this.onloadExecution()},b}function BetPlan(obj){var planObj=new PageController({name:obj?obj.name:"",tpl:obj?obj.tpl:""});return planObj.setDefConfig=function(){planObj.betData=new Array,planObj.money=0,planObj.bouns=0,planObj.planMoney=new Array,planObj.planMul=new Array,planObj.winStop=!0,planObj.planLotteryDate=new Array,planObj.lotteryDate="",planObj.lotteryNoNum="",this.lotteryType="",this.playType="",this.betOneMoney=2,this.betBallNum={},this.lotteryNoAllNum=84,this.planNum=10,this.startMul=1,this.planType="money",this.profitMoney=30,this.profitPercent=.3,this.cgNumVal=5,this.maxMul=1e4,this.maxBetMoney=5e5,this.maxZSVal=5e4,this.maxPlanNum=270},planObj.createDom=function(){this.wrapperObj=$("#plan_wrapperObj"),this.planDomObj=$("#plan_planDomObj"),this.planNumObj=$("#plan_planNumObj"),this.planTypeObj=$("#plan_planTypeObj"),this.lotteryNumObj=$("#plan_lotteryNumObj"),this.moneyObj=$("#plan_moneyObj"),this.setObj=$("#plan_setObj"),this.setNumObj=$("#plan_setNumObj"),this.setMulObj=$("#plan_setMulObj"),this.setPercentObj=$("#plan_setPercentObj"),this.setMoneyObj=$("#plan_setMoneyObj"),this.keyObj=$("#plan_keyObj"),this.updBetTipsObj=$("#plan_updBetTipsObj")},planObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){planObj.wrapperEvent(a)})},planObj.getBetData=function(){if(window.localStorage.getItem(this.lotteryType+"lotteryAllBetData")){var a=window.localStorage.getItem(this.lotteryType+"lotteryAllBetData");this.betData=a.split(";")}else{var a="";this.betData=new Array}},planObj.getMoneyBouns=function(){switch(this.playType){case"R2":case"R3":case"R4":case"R5":case"R6":case"R7":case"R8":this.getRMoneyBouns();break;case"FP1":case"FP2":this.getQMoneyBouns();break;case"FC2":this.getQZMoneyBouns();break;case"FP3":this.getQMoneyBouns();break;case"FC3":this.getQZMoneyBouns();break;case"R2_D":case"R3_D":case"R4_D":case"R5_D":case"R6_D":case"R7_D":case"R8_D":this.getRMoneyBouns();break;case"FC2_D":case"FC3_D":this.getQZMoneyBouns()}},planObj.getRMoneyBouns=function(){var allMoney=0,allBouns=new Array,allBetBall=new Array;if(!this.betData.length)return!1;for(var i=0,ilen=this.betData.length;i<ilen;i++)if(this.betData[i]){for(var thisData=this.betData[i].split("|"),betBall=thisData[0].split(","),zhushu=Number(thisData[thisData.length-1]),b=0,blen=betBall.length;b<blen;b++){var thisBetBall=betBall[b].replace(/^d-/,"");$.inArray(thisBetBall,allBetBall)>-1||allBetBall.push(thisBetBall)}allMoney+=zhushu*this.betOneMoney}if(allBetBall.length>this.cgNumVal)var allCg=this.arrcl(allBetBall,this.cgNumVal);else var allCg=[allBetBall];for(var a=0,alen=allCg.length;a<alen;a++){allBouns[a]||(allBouns[a]=0);for(var i=0,ilen=this.betData.length;i<ilen;i++)for(var thisData=this.betData[i].split("|"),betBall=thisData[thisData.length-3].split(","),zhushu=Number(thisData[thisData.length-1]),ballCl=this.getBetBallArrcl(betBall,this.betBallNum[this.playType]),b=0,blen=ballCl.length;b<blen;b++)if(ballCl[b].length>this.cgNumVal){for(var g=0,glen=allCg[a].length;g<glen&&!($.inArray(allCg[a][g],ballCl[b])<0);g++);g==glen&&(allBouns[a]+=this.lotteryBouns[this.playType])}else{for(var k=0,klen=ballCl[b].length;k<klen&&!($.inArray(ballCl[b][k],allCg[a])<0);k++);k==klen&&(allBouns[a]+=this.lotteryBouns[this.playType])}}this.money=allMoney,this.bouns=eval("Math.max("+allBouns.join(",")+")")},planObj.getBetBallArrcl=function(a,b){for(var c=[],d=[],e=0,f=a.length;e<f;e++)0===a[e].indexOf("d-")?c.push(a[e].replace(/^d-/,"")):d.push(a[e]);for(var g=this.arrcl(d,this.betBallNum[this.playType]-c.length),h=[],e=0,f=g.length;e<f;e++)h.push(c.concat(g[e]));return h},planObj.getQMoneyBouns=function(){for(var a=new Object,b=0,c=0,d=0,e=this.betData.length;d<e;d++){var f=this.betData[d].split("|");b+=Number(f[f.length-1])*this.betOneMoney;for(var g=new Array,h=0,i=f.length-2;h<i;h++){var j=f[h].split(",");if(g.length){for(var k=new Array,l=0,m=g.length;l<m;l++)for(var n=0,o=j.length;n<o;n++)g[l].indexOf(j[n])>-1||k.push(g[l]+","+j[n]);g=k}else g=j}for(var n=0,o=g.length;n<o;n++)a[g[n]]?a[g[n]]+=this.lotteryBouns[this.playType]:a[g[n]]=this.lotteryBouns[this.playType],c<a[g[n]]&&(c=a[g[n]])}this.money=b,this.bouns=c},planObj.getQZMoneyBouns=function(){for(var a=new Object,b=0,c=0,d=0,e=this.betData.length;d<e;d++){var f=this.betData[d].split("|"),g=Number(f[f.length-1]),h=f[0].split(",");b+=g*this.betOneMoney;for(var i=this.getBetBallArrcl(h,this.betBallNum[this.playType]),j=0,k=i.length;j<k;j++){var l=i[j].join(",");a[l]?a[l]+=this.lotteryBouns[this.playType]:a[l]=this.lotteryBouns[this.playType],c<a[l]&&(c=a[l])}}this.money=b,this.bouns=c},planObj.createPlan=function(){this.planMul=new Array,this.planMoney=new Array;for(var a=0,b=this.planNum;a<b;a++){var c="money"==this.planType?this.getMoneyMul():this.getPercentMul(),d=this.money*c;if(d>this.maxBetMoney)break;if(c>this.maxMul)break;this.planMul.push(c),this.planMoney.push(d)}this.startMul=this.planMul[0]},planObj.getMoneyMul=function(){var allMoney=this.planMoney.length?eval(this.planMoney.join("+")):0,mulVal=Math.ceil((this.profitMoney+allMoney)/(this.bouns-this.money));return mulVal=0==mulVal?1:mulVal,mulVal=mulVal<this.startMul?this.startMul:mulVal},planObj.getPercentMul=function(){var allMoney=this.planMoney.length?eval(this.planMoney.join("+")):0,mulVal=Math.ceil((1+this.profitPercent)*allMoney/(this.bouns-(1+this.profitPercent)*this.money));return mulVal=0==mulVal?1:mulVal,mulVal=mulVal<this.startMul?this.startMul:mulVal},planObj.createPlanDom=function(){var a=new Array,b=0;a.push('<tr><th width="10%">期号</th><th>倍数</th><th width="18%">累计投入</th><th width="20%">中奖盈利</th><th width="20%">盈利率</th></tr>'),this.planLotteryData=new Array;for(var c=0,d=this.planMul.length;c<d;c++){b+=this.planMoney[c];var e=this.getPlanLotteryNo(c);a.push("<tr><td>"+e+'</td><td><p data-v="'+c+'" class="inputbox"><span data-t="lostMul">－</span><input type="tel" data-t="updateMul" class="input_sec" value="'+this.planMul[c]+'"/><span data-t="addMul">＋</span></p></td><td>'+b+'</td><td><span class="fontred">'+(this.bouns*this.planMul[c]-b)+'</span></td><td><span class="fontred">'+((this.bouns*this.planMul[c]-b)/b*100).toFixed(2)+"%</span></td></tr>")}this.planMul.length<Number(this.setNumObj.html())&&$.alertMsg("设置的盈利金额过大，方案只能生成"+this.planMul.length+"期",!0),this.planDomObj.html(a.join(""))},planObj.getPlanLotteryNo=function(a){var b=Number(this.lotteryNoNum)+a,c=Math.floor(b/this.lotteryNoAllNum),d=this.lotteryDate;if(b>this.lotteryNoAllNum){b-=c*this.lotteryNoAllNum,0==b&&(b=this.lotteryNoAllNum);var e=new Date(Number(this.lotteryDate.slice(0,4)),Number(this.lotteryDate.slice(4,6))-1,Number(this.lotteryDate.slice(6,8))).getTime();e+=1*c*24*60*60*1e3;var f=new Date(e),g=f.getFullYear(),h=f.getMonth()+1;h=h<10?"0"+h:h;var i=f.getDate();i=i<10?"0"+i:i,d=g.toString()+h+i}return b=b<10?"0"+b:b,this.planLotteryData.push(d.slice(2)+b),b},planObj.setPlanDataDom=function(){this.planNumObj.html("追"+this.planNum+"期 "),"money"==this.planType?this.planTypeObj.html("计划盈利"+this.profitMoney+"元"):this.planTypeObj.html("计划盈利"+(100*this.profitPercent).toFixed(0)+"%")},planObj.setMoneyDom=function(){this.lotteryNumObj.html(this.planMul.length),this.moneyObj.html(eval(this.planMoney.join("+")))},planObj.arrcl=function(a,b,c){function d(a,b,f){if(0===f||c&&e.length==c)return e[e.length]=a;for(var g=0,h=b.length-f;g<=h;g++)if(!c||e.length<c){var i=a.slice();i.push(b[g]),d(i,b.slice(g+1),f-1)}}var e=[];return d([],a,b),e},planObj.wrapperEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return this.disableBtn(c),this.subData(),!0;case"set":return this.showSetData(),!0;case"closeSet":return this.closeSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"EM");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"k":return this.keySetVal(c),!0;case"dk":return this.keyDelVal(c),!0;case"sk":return this.keySubVal(c),!0}}var f=$.oto_checkEvent(a,"INPUT");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"updateMul":return this.updateMul(c),!0}}var g=$.oto_checkEvent(a,"SPAN");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"addMul":return this.addMul(c),this.createPlanDom(),this.setMoneyDom(),!0;case"lostMul":return this.lostMul(c),this.createPlanDom(),this.setMoneyDom(),!0;case"lostSetNum":return this.lostSetNum(c),!0;case"addSetNum":return this.addSetNum(c),!0;case"lostSetMul":return this.lostSetMul(c),!0;case"addSetMul":return this.addSetMul(c),!0;case"updateSetNum":return this.updateSetNum(),!0;case"updateSetMul":return this.updateSetMul(),!0;case"updateSetP":return this.updateSetP(),!0;case"updateSetM":return this.updateSetM(),!0}}var h=$.oto_checkEvent(a,"LABEL");if(h){var c=$(h),d=c.attr("data-t");switch(d){case"stop":return this.setWinStop(c),!1;case"setType":return this.updateType(c),!1}}var i=$.oto_checkEvent(a,"P");if(i){var c=$(i),d=c.attr("data-t");switch(d){case"back":return this.goBack(),!0;case"help":return this.goHelp(),!0}}var j=$.oto_checkEvent(a,"DIV");if(j){var c=$(j);if("setObj"==c[0].id)return this.closeSet(),!0}},planObj.goHelp=function(){helpDetailObj.goBack=function(){helpDetailObj.destroy(),planObj.show()},helpDetailObj.show("reload",function(){helpDetailObj.setData("seniorPlan")})},planObj.closeSet=function(){this.setNumObj.removeClass("fontblue"),this.setMulObj.removeClass("fontblue"),this.setObj.hide(),this.keyObj.attr("data-k",""),this.keyObj.attr("data-v",""),this.keyObj.hide()},planObj.subSet=function(){this.planNum=Number(this.setNumObj.html()),this.startMul=Number(this.setMulObj.html()),this.profitMoney=Number(this.setMoneyObj.html()),this.keyObj&&"none"!=this.keyObj.css("display")&&this.keySubVal(),this.profitPercent=Number((Number(this.setPercentObj.html())/100).toFixed(2)),this.setPercentObj.siblings("em").hasClass("checked")?this.planType="percent":this.setMoneyObj.siblings("em").hasClass("checked")&&(this.planType="money"),this.createPlan(),this.createPlanDom(),this.setPlanDataDom(),this.setMoneyDom(),this.closeSet()},planObj.keySetVal=function(a){var b=this.keyObj.attr("data-k"),c=this.keyObj.attr("data-v"),d=a.attr("data-v"),e=Number(c+""+d),f=this.getMinMaxVal(b);e>f[1]&&(e=f[1]),this[b].html(e),this.keyObj.attr("data-v",e)},planObj.keyDelVal=function(a){var b=this.keyObj.attr("data-k"),c=this.keyObj.attr("data-v"),d=c.slice(0,-1);if(""===d)return this[b].html("&nbsp;"),this.keyObj.attr("data-v",d),!0;this[b].html(d),this.keyObj.attr("data-v",d)},planObj.keySubVal=function(a){this.setNumObj.removeClass("fontblue"),this.setMulObj.removeClass("fontblue");var b=this.keyObj.attr("data-k"),c=this.keyObj.attr("data-v"),d=this.getMinMaxVal(b);Number(c)<d[0]&&(c=d[0]),this[b].html(c),this.keyObj.hide(),this.keyObj.attr("data-k",""),this.keyObj.attr("data-v","")},planObj.updateType=function(a){var b=a.attr("data-v");"p"==b?(this.setPercentObj.siblings("em").addClass("checked"),this.setMoneyObj.siblings("em").removeClass("checked")):"m"==b&&(this.setPercentObj.siblings("em").removeClass("checked"),this.setMoneyObj.siblings("em").addClass("checked")),this.setMulObj.removeClass("fontblue"),this.setNumObj.removeClass("fontblue"),this.keyObj.hide(),this.keyObj.attr("data-k",""),this.keyObj.attr("data-v","")},planObj.updateSetNum=function(){this.setNumObj.addClass("fontblue"),this.setMulObj.removeClass("fontblue");var a=this.keyObj.attr("data-k");if(a){var b=this.getMinMaxVal(a),c=this[a].html();"&nbsp;"!=c&&""!=c||this[a].html(b[0])}this.keyObj.show(),this.keyObj.attr("data-k","setNumObj"),this.keyObj.attr("data-v","")},planObj.updateSetMul=function(){this.setNumObj.removeClass("fontblue"),this.setMulObj.addClass("fontblue");var a=this.keyObj.attr("data-k");if(a){var b=this.getMinMaxVal(a),c=this[a].html();"&nbsp;"!=c&&""!=c||this[a].html(b[0])}this.keyObj.show(),this.keyObj.attr("data-k","setMulObj"),this.keyObj.attr("data-v","")},planObj.updateSetM=function(){this.setNumObj.removeClass("fontblue"),this.setMulObj.removeClass("fontblue");var a=this.keyObj.attr("data-k");if(a){var b=this.getMinMaxVal(a),c=this[a].html();"&nbsp;"!=c&&""!=c||this[a].html(b[0])}this.keyObj.show(),this.keyObj.attr("data-k","setMoneyObj"),this.keyObj.attr("data-v","")},planObj.updateSetP=function(){this.setNumObj.removeClass("fontblue"),this.setMulObj.removeClass("fontblue");var a=this.keyObj.attr("data-k");if(a){var b=this.getMinMaxVal(a),c=this[a].html();"&nbsp;"!=c&&""!=c||this[a].html(b[0])}this.keyObj.show(),this.keyObj.attr("data-k","setPercentObj"),this.keyObj.attr("data-v","")},planObj.lostSetNum=function(a){var b=this.setNumObj.html();b="&nbsp;"!=b?Number(b):0,b-=1,b<=0&&(b=1),this.setNumObj.html(b)},planObj.addSetNum=function(a){var b=this.setNumObj.html();b="&nbsp;"!=b?Number(b):0,b+=1,b>this.maxPlanNum&&(b=this.maxPlanNum),this.setNumObj.html(b)},planObj.lostSetMul=function(a){var b=this.setMulObj.html();b="&nbsp;"!=b?Number(b):0,b-=1,b<=0&&(b=1),this.setMulObj.html(b)},planObj.addSetMul=function(a){var b=this.setMulObj.html();b="&nbsp;"!=b?Number(b):0,b+=1,b>this.maxMul&&(b=this.maxMul),this.setMulObj.html(b)},planObj.showSetData=function(){this.setNumObj.html(this.planNum),this.setMulObj.html(this.startMul),this.setPercentObj.html(Number(100*this.profitPercent).toFixed(0)),this.setMoneyObj.html(this.profitMoney),"money"==this.planType?(this.setPercentObj.siblings("em").removeClass("checked"),this.setMoneyObj.siblings("em").addClass("checked")):"percent"==this.planType&&(this.setPercentObj.siblings("em").addClass("checked"),this.setMoneyObj.siblings("em").removeClass("checked")),this.setObj.show()},planObj.getMinMaxVal=function(a){if("setNumObj"==a)var b=1,c=this.maxPlanNum;else if("setMulObj"==a)var b=1,c=this.maxMul;else if("setPercentObj"==a)var b=1,c=(this.bouns-this.money)/this.money*100;else if("setMoneyObj"==a)var b=1,c=this.maxBetMoney;return[b,c]},planObj.getZhushu=function(){for(var a=0,b=0,c=this.betData.length;b<c;b++){var d=this.betData[b].split("|");a+=Number(d[d.length-1])}return a},planObj.createSubBetData=function(){for(var a=[],b=0,c=this.betData.length;b<c;b++)if(this.betData[b]){for(var d=this.betData[b].split("|"),e=[],f=[],g=0,h=d.length;g<h;g++)if(g>=h-2)f.push(d[g]);else{var i=d[g].split(",");if(this.lotteryType==ConfigObj.fastLotType&&("FP2"==this.lotteryPlay||"FP3"==this.lotteryPlay)&&1==d[h-1]&&i.length>1)for(var j=0,k=d.length;j<k-2;j++){var l=d[j].split(",");if(j!=g&&l.length>1)break;if(j!=g){var m=$.inArray(l[0],i);if(m>-1){for(var n=[],o=0,p=i.length;o<p;o++)o!=m&&n.push(i[o]);i=n.concat([]),d[g]=i.join(",")}}}for(var q=[],r=[],s=0,t=i.length;s<t;s++)i[s].indexOf("d-")>-1?q.push(i[s].replace("d-","")):r.push(i[s]);e.push(q+(q.length?"$":"")+r)}a.push(e.join("+")+"|"+f.join("|"))}for(var b=0;b<a.length;b++)a[b]=a[b].replace("_D","");return a.join(";")},planObj.createPlanWager=function(){for(var a=new Array,b=0,c=this.planLotteryData.length;b<c;b++)a.push(this.planLotteryData[b]+":"+this.planMul[b]);return"{"+a.join(",")+"}"},planObj.createSubData=function(){var zhushu=this.getZhushu();return{lotteryType:this.lotteryType.toUpperCase(),lotteryNo:this.planLotteryData[0],playType:this.checkedZJ?"append":"common",passType:"",wagerCount:zhushu,wagerMultiple:eval(this.planMul.join("+")),consignType:"alone",wagerStore:this.createSubBetData(),openType:"hide",money:eval(this.planMoney.join("+")),source:this.planMul.length>1?this.planMul.length:1,manner:1,planType:"UnFixedMultiple",stopType:this.winStop?"Prize":"",hitAmount:"",planWager:this.createPlanWager()}},planObj.disableBtn=function(){$("#plan_submitBtn").removeAttr("data-t").addClass("gray")},planObj.activeBtn=function(){$("#plan_submitBtn").attr("data-t","sub").removeClass("gray")},planObj.subData=function(){var a=this.createSubData();return""==a.wagerStore||0==a.wagerCount?($.alertMsg("请至少选择1注号码"),!1):a.wagerCount>this.maxZSVal?($.alertMsg("注数最多支持"+(this.maxZSVal/1e4).toFixed(0)+"万注"),!1):a.money>this.maxBetMoney?($.alertMsg("投注金额最大支持"+this.maxBetMoney/1e4+"万元"),!1):void(loginObj.isLogin?this.createPid():this.createWid())},planObj.buyFun=function(a){buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),planObj.show()},setTimeout(function(){buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})},300)},planObj.createPid=function(){var a=this.createSubData(),b=this;a.channel_number=ConfigObj.zdid;var c={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.numProcess",data:c,dataType:"json",timeout:3e4,type:"post",success:function(a){if(planObj.activeBtn(),"0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),b.pid=a.info.productId,"plan"==a.info.productType)var c={lotteryType:b.lotteryType,product_id:a.info.productId,product_type:a.info.productType};else var c={lotteryType:b.lotteryType,product_id:a.info.productId,product_type:a.info.productType,pay_amount:a.info.money};b.buyFun(c)}else{if("-33333"===a.code)return b.updBetTipsObj.attr("data-no",a.info.currentNo),b.showUpdBetTips(),!1;if("EXPIRED_LOTTERYNO"===a.code)return b.updBetTipsObj.attr("data-no",a.info.currentNo),b.showUpdBetTips(),!1;$.alertMsg(a.code_str)}}})},planObj.createWid=function(){var a=this,b=this.createSubData();$.ajax({url:ConfigObj.localSite+"?m=lottery.trade.numProcess",data:b,dataType:"json",timeout:3e4,type:"post",success:function(b){"0000"==b.code?(a.wid=b.info.wagerId,loginObj.goBack=function(){a.show()},loginObj.goForward=function(){a.show(),a.afterLoginCreatePid(a.wid,b.info.productType)},registerObj.goForward=function(){},loginObj.show()):(loginObj.goBack=function(){a.show()},loginObj.goForward=function(){a.show(),$.alertMsg(b.code_str)},registerObj.goForward=function(){a.show(),$.alertMsg(b.code_str)},loginObj.show()),planObj.activeBtn()}})},planObj.afterLoginCreatePid=function(a,b){var c=this,d={wagerId:a,product_type:b,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.trade.buylottery",data:d,dataType:"json",type:"post",success:function(a){if("0000"==a.code){if("plan"==b){var d={lotteryType:c.lotteryType,product_id:a.info.productId,product_type:b,pay_amount:a.info.money};c.pid=a.info.productId}else{var d={lotteryType:c.lotteryType,product_id:a.info.lotteryId,product_type:b,pay_amount:a.info.money};c.pid=a.info.lotteryId}c.buyFun(d)}else $.alertMsg(a.code_str)}})},planObj.setWinStop=function(a){var b=a.find("em");b.hasClass("checked")?(b.removeClass("checked"),this.winStop=!1):(b.addClass("checked"),this.winStop=!0)},planObj.addMul=function(a){var b=a.parent(),c=Number(b.attr("data-v"));this.planMul[c]+=1,this.planMul[c]>this.maxMul&&(this.planMul[c]=this.maxMul),this.planMoney[c]=this.money*this.planMul[c],b.find("input").val(this.planMul[c])},planObj.lostMul=function(a){var b=a.parent(),c=Number(b.attr("data-v"));this.planMul[c]-=1,this.planMul[c]<=0&&(this.planMul[c]=1),this.planMoney[c]=this.money*this.planMul[c],b.find("input").val(this.planMul[c])},planObj.updateMul=function(a){a[0].addEventListener("input",function(){var a=$(this).parent(),b=Number(a.attr("data-v"));Number(this.value)>planObj.maxMul&&(this.value=planObj.maxMul),isNaN(this.value)&&(this.value=planObj.planMul[b])},!1),a.change(function(){var a=$(this).parent(),b=Number(a.attr("data-v"));""!==this.value&&0!=this.value||(this.value=1),planObj.planMul[b]=Number(this.value),planObj.planMul[b]<0&&(planObj.planMul[b]=1),planObj.planMul[b]>planObj.maxMul&&(planObj.planMul[b]=planObj.maxMul),planObj.planMoney[b]=planObj.money*planObj.planMul[b],planObj.createPlanDom()}),a.blur(function(){a.unbind("blur"),a.unbind("change")})},planObj.onloadFun=function(){this.createDom(),this.createEvent()},planObj.init=function(){this.getBetData(),this.getMoneyBouns(),planObj.onloadFun(),planObj.createPlan(),planObj.createPlanDom(),planObj.setPlanDataDom(),planObj.setMoneyDom()},planObj.setData=function(a){planObj.playType=a.playType,a.lotNum&&(this.lotteryNoNum=a.lotNum),a.lotDate&&(this.lotteryDate=a.lotDate)},planObj.show=function(a,b){var c=this,d=Global.getActivePage(),e=$("#"+c.name);0==e.length||a?$.ajax({url:c.tpl,data:"t="+(new Date).getTime(),dataType:"text",success:function(a){var f=/<body[^>]*>([\s\S]+?)<\/body>/i,g=f.exec(a);g&&(g=g[1]),e.length>0&&e.remove();var h='<div class="page" style="display:none" id="'+c.name+'">'+g+"</div>";$(document.body).append(h),Global.pageSwitch($("#"+c.name),$(d)),c.setDefConfig(),b&&b(),c.init()}}):Global.pageSwitch($("#"+c.name),$(d))},planObj.lotteryNoChange=function(a){var b=new Date(a.nowTime),c=b.getFullYear();planObj.lotteryDate=c+a.lotteryNo.toString().slice(2,-2),planObj.lotteryNoNum=a.lotteryNo.toString().slice(-2),planObj.createPlanDom()},planObj}function SportterySoccer(obj){var sportterySoccer=new PageController({name:obj?obj.name:"",tpl:obj?obj.tpl:"",pullDistance:300});return sportterySoccer.setDefConfig=function(){sportterySoccer.betData=new Object,sportterySoccer.betNum=0,sportterySoccer.ggSelectData=new Array,sportterySoccer.multipleVal=1,sportterySoccer.spTemData=new Object,sportterySoccer.showBetNum=!0,sportterySoccer.noDanGuanVal=0,sportterySoccer.temBetData=new Array,sportterySoccer.temBetNum=0,sportterySoccer.temNoDanGuanVal=0,sportterySoccer.temScrollTop=0,this.betVal=new Array(new Array("3","1","0"),new Array("3","1","0"),new Array("0","1","2","3","4","5","6","7"),new Array("33","31","30","13","11","10","03","01","00"),new Array("10","20","21","30","31","32","40","41","42","50","51","52","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","05","15","25","09")),this.betCnVal=new Array(new Array("胜","平","负"),new Array("胜","平","负"),new Array("0球","1球","2球","3球","4球","5球","6球",">6球"),new Array("胜胜","胜平","胜负","平胜","平平","平负","负胜","负平","负负"),new Array("1:0","2:0","2:1","3:0","3:1","3:2","4:0","4:1","4:2","5:0","5:1","5:2","胜其他","0:0","1:1","2:2","3:3","平其他","0:1","0:2","1:2","0:3","1:3","2:3","0:4","1:4","2:4","0:5","1:5","2:5","负其他")),this.betName=new Array("胜平负","让球胜平负","总进球","半全场","比分"),this.postDataKey=new Array(1,2,5,3,4),this.maxModeLimite=[8],this.betMinMatch=2,this.maxMul=1e4,this.betOneTipsText='<p class="center fontred">红框1场也能投</p><p class="center font12 gray">页面赔率仅供参考，请以出票为准</p>',this.ggMode={1:{"1_1":"单关"},2:{"2_1":"2串1"},3:{"3_1":"3串1","3_3":"3串3","3_4":"3串4"},4:{"4_1":"4串1","4_4":"4串4","4_5":"4串5","4_6":"4串6","4_11":"4串11"},5:{"5_1":"5串1","5_5":"5串5","5_6":"5串6","5_10":"5串10","5_16":"5串16","5_20":"5串20","5_26":"5串26"},6:{"6_1":"6串1","6_6":"6串6","6_7":"6串7","6_15":"6串15","6_20":"6串20","6_22":"6串22","6_35":"6串35","6_42":"6串42","6_50":"6串50","6_57":"6串57"},7:{"7_1":"7串1","7_7":"7串7","7_8":"7串8","7_21":"7串21","7_35":"7串35","7_120":"7串120"},8:{"8_1":"8串1","8_8":"8串8","8_9":"8串9","8_28":"8串28","8_56":"8串56","8_70":"8串70","8_247":"8串247"}},this.wid="",this.pid="",this.showBetLotteryType="FTBRQSPF,FTSPF,FTJQS,FTBQC,FTBF"},sportterySoccer.createDomObj=function(){this.lotteryObj=$("#sportterySoccer_lotteryObj"),this.betOneTipsObj=$("sportterySoccer_#betOneTipsObj"),this.lotteryInfoObj=$("#sportterySoccer_lotteryInfoObj"),this.oneGGObj=$("#sportterySoccer_oneGGObj"),this.otherGGObj=$("#sportterySoccer_otherGGObj"),this.ddObj=$("#sportterySoccer_ddObj"),this.ggdoorObj=$("#sportterySoccer_ggdoorObj"),this.ddDetailObj=$("#sportterySoccer_ddDetailObj"),this.ggObj=$("#sportterySoccer_ggObj"),this.ddTitleObj=$("#sportterySoccer_ddTitleObj"),this.matchListObj=$("#sportterySoccer_matchListObj"),this.multipleObj=$("#sportterySoccer_multipleObj"),this.multipleValObj=$("#sportterySoccer_multipleValObj"),this.navObj=$("#sportterySoccer_navObj"),this.updObj=$("#sportterySoccer_updObj"),this.betspObj=$("#sportterySoccer_betspObj"),this.showOtherGGObj=$("#sportterySoccer_showOtherGGObj"),this.bonusOpt=$("#sportterySoccer_bonusOpt"),this.hemaiOpt=$("#sportterySoccer_hemai"),this.bonusDeilObj=$("#sportterySoccer_bonusDeilObj"),this.bonusListObj=$("#sportterySoccer_bonusListObj")},sportterySoccer.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){sportterySoccer.lotteryEvent(a)}),this.bonusOpt&&this.bonusOpt.unbind("tap").tap(function(a){sportterySoccer.bonusOptAjax(a)})},sportterySoccer.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"hideBet":return this.hideBet(c),!0;case"subBet":return this.subBet(),!0;case"submit":return this.disableBtn(c),this.submitBet(),!0;case"showNav":return this.showNav(),!0;case"filter":return this.herfFilter(),!0;case"hideClearTip":return this.hideClearAllTip(),!0;case"clearOk":return this.clearAll(),this.hideClearAllTip(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"delOne":return this.deleteOneSelect(c),this.getMoney(),!0;case"dd":return this.setDD(c),this.createGGDoor(),this.checkedDD(),this.getMoney(),!0;case"gg":return this.setGG(c),this.createGGDoor(),this.resetDD(),this.getMoney(),!0;case"setM":return this.setM(c),this.getMoney(),!0;case"addM":return this.addM(c),this.getMoney(),!0;case"delM":return this.delM(c),this.getMoney(),!0;case"subM":return this.subM(c),this.getMoney(),!0;case"showNav":return this.showNav(),!0;case"filter":return this.herfFilter(),!0;case"showUpd":return this.showUpd(c),!0;case"clearAll":return this.showClearAllTip(),!0;case"hemai":return this.hemai(),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return this.goBack(),!0;case"updLotteryType":return this.updateLotteryType(c),!0;case"showMatch":return this.showMatchList(c),!0;case"showDDDom":return this.showDDDom(),!0;case"showOtherGG":return this.showOtherGG(c),!0;case"showMultiple":return this.showMultiple(),!1;case"getBonusDeil":return this.getBonusDeil(),!1;case"changeLotNo":return this.changeLotNo(c),!1}}var g=$.oto_checkEvent(a,"DIV");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"selectBet":return function(a){a.selectBet(c),a.showLotteryInfo(),a.createBetMatchHtml(),a.deleteGGData(),a.createGGDom(),a.resetDD(),a.createGGDoor(),a.getMoney()}(this),!0;case"showBet":return this.showBet(c),!0;case"spbet":return this.betSpSelect(c),this.getMoney(),!0;case"dds":return this.ddSelect(c),this.checkedDD(),this.getMoney(),!0}}var h=$.oto_checkEvent(a,"LI");if(h){var c=$(h),d=c.attr("data-t");switch(d){case"showdd":return this.showDDGG(c,"dd"),!0;case"showgg":return this.showDDGG(c,"gg"),!0;case"kaijiang":return this.navObj.hide(),sportterySoccer.removeBgLayer(),this.goKaijiang(),!0;case"help":return this.navObj.hide(),sportterySoccer.removeBgLayer(),this.hrefPrizerules(),!0}}},sportterySoccer.goLogin=function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},sportterySoccer.hemai=function(){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){sportterySoccer.goLogin()},2e3),!1;var a=window.getBonusData(),b=this.createSubData(),c={channel_number:ConfigObj.zdid,matchOrder:this.createOidData(),totalMoney:a.moneyVal*this.multipleVal,lotteryType:this.lotteryType,lotteryNo:this.lotteryNo,manner:this.manner?this.manner:0},d={para:Global.encrypt(c),access_token:loginObj.access_token};if(c.totalMoney<2)return $.alertMsg("请先选择场次",!1),!1;$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.initJcTogehterInfo",data:d,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),hemaiObj.setData({data:a.info,createSubData:b}),sportterySoccer.goHemai()):$.alertMsg(a.code_str,!1)}})},sportterySoccer.goHemai=function(){hemaiObj.goBack=function(){hemaiObj.destroy(),sportterySoccer.show()},hemaiObj.show()},sportterySoccer.showClearAllTip=function(){"soccerR9"==this.name&&$("#soccerR9_confirmTip").toggle()},sportterySoccer.hideClearAllTip=function(){$("#soccerR9_confirmTip").hide()},sportterySoccer.clearAll=function(a){this.matchListObj.find("div[data-t=selectBet]").removeClass("selected"),this.betData={},this.betNum=0,this.showLotteryInfo(),this.createBetMatchHtml(),this.deleteGGData(),this.createGGDom(),this.resetDD(),this.createGGDoor()},sportterySoccer.disableBtn=function(a){a.removeAttr("data-t").addClass("gray"),setTimeout(function(){a.attr("data-t","submit").removeClass("gray")},2500)},sportterySoccer.goKaijiang=function(){var a=["FTBRQSPF","FTSPF","FTFH"],b=sportterySoccer.lotteryType.toUpperCase();-1!=$.inArray(b,a)?(numKaijiangObj.goBack=function(){numKaijiangObj.destroy(),sportterySoccer.show()},
numKaijiangObj.show("reload","","ftspf","bet")):"BSKFH"==b?(numKaijiangObj.goBack=function(){numKaijiangObj.destroy(),sportterySoccer.show()},numKaijiangObj.show("reload","","bsksf","bet")):(numKaijiangObj.goBack=function(){numKaijiangObj.destroy(),sportterySoccer.show()},numKaijiangObj.show("reload","","spf14","bet"))},sportterySoccer.hrefPrizerules=function(){lotteryRulesObj.goBack=function(){lotteryRulesObj.destroy(),sportterySoccer.show()},lotteryRulesObj.show("reload",function(){lotteryRulesObj.setData(sportterySoccer.lotteryType,"play")})},sportterySoccer.showUpd=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),this.updObj.hide(),"soccerR9"==this.name||"soccerToto"==this.name?this.matchWrapObj&&this.matchWrapObj.addClass("centerWrap"):this.matchListObj&&this.matchListObj.addClass("centerWrap")):(a.addClass("showObj"),this.updObj.show(),"soccerR9"==this.name||"soccerToto"==this.name?this.matchWrapObj:this.matchListObj,"none"!=this.navObj.css("display")&&this.showNav())},sportterySoccer.showDDGG=function(a,b){a.siblings().removeClass("on"),a.addClass("on"),"dd"==b?(this.ddObj.show(),this.ggObj.hide(),this.checkedDD()):"gg"==b&&(this.ddObj.hide(),this.ggObj.show()),this.createBonusOptBottom(this.ddDetailObj,1)},sportterySoccer.showMatchList=function(a){a.hasClass("showObj")?(a.find(".showtipsObj").removeClass("trans"),a.next().hide(),a.removeClass("showObj")):(a.next().show(),a.find(".showtipsObj").addClass("trans"),a.addClass("showObj"))},sportterySoccer.showDDDom=function(){this.ddDetailObj.hasClass("showObj")?(this.createBonusOptBottom(this.ddDetailObj,0),this.ddDetailObj.removeClass("showObj"),this.removeBgLayer(),this.ddDetailObj.hide()):(this.ddDetailObj.addClass("showObj"),this.ddDetailObj.show(),this.bonusDeilObj&&this.bonusDeilObj.hide(),this.hideMultiple(),this.addBgLayer(this.ddDetailObj),this.bonusOpt&&this.createBonusOptBottom(this.ddDetailObj,1)),this.checkedDD()},sportterySoccer.createBonusOptBottom=function(a,b){var c=a.height();this.bonusOpt&&this.bonusOpt.css({bottom:1===b?55+c+"px":"55px"})},sportterySoccer.showOtherGG=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),a.children("em").removeClass("trans"),this.otherGGObj.parent().hide()):(a.addClass("showObj"),a.children("em").addClass("trans"),this.otherGGObj.parent().show())},sportterySoccer.showLotteryInfo=function(){if(this.noDanGuanVal>0&&this.betNum>=this.betMinMatch||0==this.noDanGuanVal&&this.betNum>0)return this.betOneTipsObj.hide(),this.lotteryInfoObj.show(),!0;this.betOneTipsObj.show(),this.lotteryInfoObj.hide(),this.ddDetailObj.hide(),this.ddDetailObj.removeClass("showObj"),this.removeBgLayer(),this.hideMultiple()},sportterySoccer.showMultiple=function(){this.multipleObj.hasClass("showObj")?(this.hideMultiple(),this.bonusOpt&&this.createBonusOptBottom(this.multipleObj,0)):(this.ddDetailObj.hide(),this.ddDetailObj.removeClass("showObj"),this.bonusDeilObj&&this.bonusDeilObj.hide(),this.removeBgLayer(),this.multipleObj.addClass("showObj").show(),this.addBgLayer(this.multipleObj),this.bonusOpt&&this.createBonusOptBottom(this.multipleObj,1),this.checkTipsShow=!0)},sportterySoccer.hideMultiple=function(){this.multipleVal||(this.multipleVal=1,this.getMoney()),this.multipleValObj.html(this.multipleVal+"倍"),this.multipleObj.removeClass("showObj"),this.multipleObj.hide(),this.removeBgLayer()},sportterySoccer.removeBgLayer=function(){$("#soccerMix_bgLayer").length&&($("#soccerMix_bgLayer").remove(),this.bonusOpt&&this.bonusOpt.css({bottom:"55px"}))},sportterySoccer.addBgLayer=function(a){0==$("#soccerMix_bgLayer").length&&($(this.lotteryObj).append('<div style="width:100%;height:100%;background:transparent;position:absolute;left:0;top:0;z-index:98" id="soccerMix_bgLayer"></div>'),$("#soccerMix_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#soccerMix_bgLayer").tap(function(){sportterySoccer.bonusOpt&&sportterySoccer.createBonusOptBottom(a,0),a.removeClass("showObj").hide(),$("#soccerMix_bgLayer").remove()}))},sportterySoccer.showNav=function(){if(this.navObj.hasClass("showObj"))this.navObj.removeClass("showObj"),this.navObj.hide(),this.removeBgLayer();else if(this.navObj.addClass("showObj"),this.navObj.show(),this.addBgLayer(this.navObj),this.updObj&&this.updObj.length>0&&"none"!=this.updObj.css("display")){var a=this.lotteryObj.find("span[data-t=showUpd]");this.showUpd(a)}},sportterySoccer.showBet=function(a){this.temScrollTop=document.body.scrollTop?document.body.scrollTop:document.documentElement.scrollTop;var b=a.attr("data-o");if(this.spTemData[b])return sportterySoccer.betData[b]&&(sportterySoccer.temBetData=sportterySoccer.cloneArr(sportterySoccer.betData[b])),sportterySoccer.temBetNum=sportterySoccer.betNum,sportterySoccer.temNoDanGuanVal=sportterySoccer.noDanGuanVal,this.createSpDom(b),!1;var c={lotteryType:this.showBetLotteryType,oid:b},d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Schedule.getOddsByOid",data:d,type:"post",dataType:"json",success:function(a){if(!a||!a.info)return!1;a.info=$.parseJSON(Global.crypt(a.info));var c=a.info[0];return c.oid==b&&(0!=Number(a.code)?($.alertMsg(a.str),!1):(sportterySoccer.betData[b]&&(sportterySoccer.temBetData=sportterySoccer.cloneArr(sportterySoccer.betData[b])),sportterySoccer.temBetNum=sportterySoccer.betNum,sportterySoccer.temNoDanGuanVal=sportterySoccer.noDanGuanVal,sportterySoccer.spTemData[b]=c,void sportterySoccer.createSpDom(b)))}})},sportterySoccer.subBet=function(){this.temBetData=new Array,this.temBetNum=0,this.temNoDanGuanVal=0,this.matchListObj.show(),this.betspObj.hide()},sportterySoccer.hideBet=function(a){window.scroll(0,this.temScrollTop);var b=a.attr("data-o");this.temBetData.length?this.betData[b]=this.cloneArr(this.temBetData):this.betData[b]&&delete this.betData[b],this.betNum=this.temBetNum,this.noDanGuanVal=this.temNoDanGuanVal,this.temBetData=new Array,this.temBetNum=0,this.temNoDanGuanVal=0,this.showLotteryInfo(),this.createBetMatchHtml(),this.deleteGGData(),this.createGGDom(),this.resetDD(),this.createGGDoor(),this.setBetNum(b),this.updateBetStyle(b),this.betspObj.hide()},sportterySoccer.updateBetStyle=function(a){var b=this.matchListObj.find("div[data-o='"+a+"']");if(!b.length)return!1;for(var c=0,d=this.betVal.length;c<d;c++){var e=b.find("div[data-i='"+c+"']");if(e.length)for(var f=0,g=this.betVal[c].length;f<g;f++){var h=e.children("div").filter('[data-k="'+f+'"]');this.betData[a]&&this.betData[a][1]&&this.betData[a][1][c]&&this.betData[a][1][c][f]?h.addClass("selected"):h.removeClass("selected")}}},sportterySoccer.selectBet=function(a){var b=!1,c=a.parent(),d=c.parent(),e=d.attr("data-o");if(!this.betData[e]&&this.betNum>=15)return $.alertMsg("最多只能选择15场比赛"),!1;a.hasClass("selected")?a.removeClass("selected"):(a.addClass("selected"),b=!0);var f=d.attr("data-n").split(","),g=d.attr("data-p").split(","),h=c.attr("data-i"),i=c.attr("data-s").split(","),j=c.attr("data-q"),k=a.attr("data-k"),l=c.attr("data-dg");this.createData(e,f,g,h,k,i,j,l,b)},sportterySoccer.betSpSelect=function(a){a.hasClass("selected")?a.removeClass("selected"):a.addClass("selected"),this.ddSelect(a)},sportterySoccer.createData=function(a,b,c,d,e,f,g,h,i){i?(this.betData[a]||(this.betNum+=1),this.betData[a]||(this.betData[a]=new Array),this.betData[a][0]||(this.betData[a][0]=a),this.betData[a][1]||(this.betData[a][1]=new Array),this.betData[a][1][d]||"0"!=h&&h||this.noDanGuanVal++,this.betData[a][1][d]||(this.betData[a][1][d]=new Array),this.betData[a][2]||(this.betData[a][2]=new Array),this.betData[a][2][d]||(this.betData[a][2][d]=f),this.betData[a][3]||(this.betData[a][3]=new Array),this.betData[a][3][d]||(this.betData[a][3][d]=0),this.betData[a][4]||(this.betData[a][4]=0),this.betData[a][5]||(this.betData[a][5]=b[0]),this.betData[a][6]||(this.betData[a][6]=b[1]),c[0]&&!this.betData[a][7]&&(this.betData[a][7]=c[0]),c[1]&&!this.betData[a][8]&&(this.betData[a][8]=c[1]),this.betData[a][9]||(this.betData[a][9]=!1),this.betData[a][10]||(this.betData[a][10]=g||0),this.betData[a][11]||(this.betData[a][11]=new Array),this.betData[a][11][d]||(this.betData[a][11][d]=h),this.betData[a][1][d][e]=this.betVal[d][e],this.betData[a][3][d]+=1,this.betData[a][4]+=1):(delete this.betData[a][1][d][e],this.betData[a][3][d]-=1,this.betData[a][4]-=1,0==this.betData[a][3][d]&&(delete this.betData[a][1][d],"0"!=h&&h||this.noDanGuanVal--),0===this.betData[a][4]&&(this.betNum-=1,delete this.betData[a])),this.setBetNum(a)},sportterySoccer.createGGDoor=function(){for(var a=new Array,b=0,c=this.ggSelectData.length;b<c;b++)this.noDanGuanVal>0&&"1_1"==this.ggSelectData[b]?this.deleteGGData("1_1"):this.ggSelectData[b]&&a.push(this.ggSelectData[b]);if(this.bonusOpt&&this.bonusOpt.hide(),a.length>0){var d=a[0].split("_");this.ggdoorObj.html('<span class="fontblue">'+this.ggMode[d[0]][a[0]]+(a.length>1?"...":"")+'</span><span class="num_dot">'+this.betNum+"</span>");for(var e=/_1$/,b=0,c=a.length;b<c&&e.test(a[b]);b++);b==c&&this.getDanNum()<1&&this.bonusOpt&&this.bonusOpt.show()}else{var f=this.getMaxGGVal();if(!this.ggMode[f])return!0;this.ggdoorObj.html('<span class="fontblue">'+this.ggMode[f][f+"_1"]+'</span><span class="num_dot">'+this.betNum+"</span>"),!(this.noDanGuanVal>0&&"1"==f)&&this.getDanNum()<1&&this.bonusOpt&&this.bonusOpt.show()}this.ddTitleObj.html("已选"+this.betNum+"场【设胆】")},sportterySoccer.createGGDom=function(){var a=this.getMaxGGVal(),b=[],c=[];for(var d in this.ggMode){if(d>a)break;b.push(this.createGGOneHtml(this.ggMode[d])),c.push(this.createGGOtherHtml(this.ggMode[d]))}this.oneGGObj.html(b.join(""));var e=c.join("");e?this.showOtherGGObj.show():this.showOtherGGObj.hide(),this.otherGGObj.html(e)},sportterySoccer.createGGOneHtml=function(a){var b=[],c=/_1$/;if(this.ggSelectData.length)var d=this.ggSelectData;else if(this.ggMode[this.getMaxGGVal()]&&this.ggMode[this.getMaxGGVal()][this.getMaxGGVal()+"_1"])var d=[this.getMaxGGVal()+"_1"];else var d="";for(var e in a)if(!(this.noDanGuanVal>0&&"1_1"==e)){var f="";this.ggSelectData.length||d[0]!=e?this.ggSelectData.length&&$.inArray(e,this.ggSelectData)>-1&&(f=' class="selected"'):f=' class="selected"',c.test(e)&&b.push("<span"+f+' data-t="gg" data-v="'+e+'">'+a[e]+'<em class="statebg"></em></span>')}return b.join("")},sportterySoccer.createGGOtherHtml=function(a){var b=[],c=/_1$/;for(var d in a)c.test(d)||b.push("<span"+($.inArray(d,this.ggSelectData)>-1?' class="selected"':"")+' data-t="gg" data-v="'+d+'">'+a[d]+'<em class="statebg"></em></span>');return b.join("")},sportterySoccer.getMaxGGVal=function(){if(1==this.maxModeLimite.length)return this.maxModeLimite[0]>this.betNum?this.betNum:this.maxModeLimite[0];var minVal=eval("Math.max("+this.maxModeLimite.join(",")+")");for(var o in this.betData)if(this.betData[o]&&this.betData[o][3])for(var i=0,ilen=this.betData[o][3].length;i<ilen;i++)this.betData[o][3][i]&&minVal>this.maxModeLimite[i]&&(minVal=this.maxModeLimite[i]);return minVal>this.betNum?this.betNum:minVal},sportterySoccer.createDDDom=function(){var a=[];for(var b in this.betData)if(this.betData[b]&&this.betData[b][1]&&this.betData[b][1].length){a.push(this.createTitleDDDom(b));for(var c=0,d=this.betData[b][1].length;c<d;c++)if(this.betData[b][3][c])switch(c){case 0:a.push(this.createWDLDDDom(b,c));break;case 1:a.push(this.createRWDLDDDom(b,c));break;case 2:a.push(this.createTotalGoalsDDDom(b,c));break;case 3:a.push(this.createHalfFullDDDom(b,c));break;case 4:a.push(this.createScoreDDDom(b,c))}a.push(this.createfootDDDom(b))}this.ddObj.html(a.join(""))},sportterySoccer.createTitleDDDom=function(a){return""},sportterySoccer.createWDLDDDom=function(a,b){return""},sportterySoccer.createRWDLDDDom=function(a,b){return""},sportterySoccer.createTotalGoalsDDDom=function(a,b){return""},sportterySoccer.createHalfFullDDDom=function(a,b){return""},sportterySoccer.createScoreDDDom=function(a,b){return""},sportterySoccer.createfootDDDom=function(a){return""},sportterySoccer.createSpDom=function(a){var b=[];b.push(this.createTitleSpDom(a)),b.push(this.createWDLSpDom(a)),b.push(this.createRWDLSpDom(a)),b.push(this.createTotalGoalsSpDom(a)),b.push(this.createHalfFullSpDom(a)),b.push(this.createScoreSpDom(a)),b.push(this.createFootSpdom(a)),this.betspObj.html(b.join(""));var c=document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;this.betspObj.length&&this.betspObj.css("height",c+100+"px"),this.betspObj.css("display","")},sportterySoccer.createTitleSpDom=function(a){return""},sportterySoccer.createWDLSpDom=function(a){return""},sportterySoccer.createRWDLSpDom=function(a){return""},sportterySoccer.createTotalGoalsSpDom=function(a){return""},sportterySoccer.createHalfFullSpDom=function(a){return""},sportterySoccer.createScoreSpDom=function(a){return""},sportterySoccer.createFootSpdom=function(a){return""},sportterySoccer.createDDDoor=function(){},sportterySoccer.herfFilter=function(){var a=this;"BSKFH"==a.lotteryType?(basketFilterObj.goBack=function(){basketFilterObj.destroy(),sportterySoccer.show()},basketFilterObj.show("reload",function(){basketFilterObj.setData({lotteryType:sportterySoccer.lotteryType,lotteryNo:sportterySoccer.lotteryNo,type:""})})):(sportteryFilterObj.goBack=function(){sportteryFilterObj.destroy(),sportterySoccer.show()},sportteryFilterObj.show("reload",function(){sportteryFilterObj.setData({lotteryType:sportterySoccer.lotteryType,lotteryNo:sportterySoccer.lotteryNo,type:2==a.manner?"2x1":"soccerMix"})}))},sportterySoccer.getMinGGVal=function(){return 0==this.betNum?0:this.ggSelectData.length?Number(this.ggSelectData.sort(function(a,b){return Number(a.split("_")[0])-Number(b.split("_")[0])})[0].split("_")[0]):this.betNum},sportterySoccer.getDanNum=function(){var a=0;for(var b in this.betData)this.betData[b]&&this.betData[b][9]&&a++;return a},sportterySoccer.resetDD=function(){if(0==this.betNum)return!0;var a=this.getMinGGVal(),b=this.getDanNum();if(b>a-1)for(var c in this.betData)this.betData[c]&&this.betData[c][9]&&(this.betData[c][9]=!1);this.createDDDom(),this.createDDDoor(),b>0&&this.bonusOpt&&this.bonusOpt.hide()},sportterySoccer.checkedDD=function(){if(0==this.betNum)return!0;for(var a=this.getMinGGVal(),b=this.getDanNum(),c=this.ddObj.children("div"),d=0,e=c.length;d<e;d++){var f=c.eq(d).find('span[data-t="dd"]'),g=f.attr("data-o");this.betData[g][9]||(b>=a-1?f.addClass("disable"):f.removeClass("disable"))}b>0&&this.bonusOpt&&this.bonusOpt.hide()},sportterySoccer.deleteOneSelect=function(a){for(var b=a.attr("data-o"),c=this.matchListObj.find("div[data-o='"+b+"']"),d=0,e=this.betData[b][1].length;d<e;d++)if(this.betData[b][1][d]){var f=c.find("div[data-i='"+d+"']");if(f.length){for(var g=f.children("div"),h=0,i=g.length;h<i;h++)g.eq(h).hasClass("selected")&&g.eq(h).removeClass("selected");var j=f.attr("data-dg");"0"!=j&&j||this.noDanGuanVal--}else{var k={2:"FTJQS",3:"FTBQC",4:"FTBF"},l=this.spTemData[b];l.danGuan[k[d]]||this.noDanGuanVal--}}delete this.betData[b],this.betNum-=1,this.showLotteryInfo(),this.createBetMatchHtml(),this.deleteGGData(),this.createGGDom(),this.resetDD(),this.createGGDoor(),this.setBetNum(b),this.createBonusOptBottom(this.ddDetailObj,1)},sportterySoccer.ddSelect=function(a){var b=a.attr("data-k"),c=a.parent().attr("data-o"),d=a.parent().attr("data-i"),e=this.matchListObj.find("div[data-o='"+c+"']"),f=e.find("div[data-i='"+d+"']");if(f.length){if(2==this.manner)var g=f.find(".item");else var g=f.children("div").filter("[data-k='"+b+"']");this.selectBet(g)}else{var h=a.parent().attr("data-dg");this.createData(c,"","",d,b,"","",h,!1)}this.showLotteryInfo(),this.createBetMatchHtml(),this.deleteGGData(),this.createGGDom(),this.resetDD(),this.createGGDoor(),this.createBonusOptBottom(this.ddDetailObj,1)},sportterySoccer.setDD=function(a){var b=a.attr("data-o");if(a.hasClass("disable"))return!0;a.hasClass("on")?(a.removeClass("on"),this.betData[b][9]=!1):(a.addClass("on"),this.betData[b][9]=!0)},sportterySoccer.setGG=function(a){var b=a.attr("data-v");if(a.hasClass("selected"))a.removeClass("selected"),this.deleteGGData(b);else{var c=this.oneGGObj.children("span").add(this.otherGGObj.children("span"));this.ggSelectData=new Array;for(var d=0,e=0,f=c.length;d<f;d++)c.eq(d).hasClass("selected")&&(this.ggSelectData.push(c.eq(d).attr("data-v")),e++);if(e>=5)return $.alertMsg("过关方式不能超过5个"),!1;a.addClass("selected"),this.ggSelectData.push(b)}},sportterySoccer.deleteGGData=function(a){for(var b=[],c=0,d=this.ggSelectData.length;c<d;c++)if(!a||this.ggSelectData[c]!=a){var e=this.ggSelectData[c].split("_");this.betNum<Number(e[0])||b.push(this.ggSelectData[c])}this.ggSelectData=b},sportterySoccer.setM=function(a){var b=Number(a.attr("data-v"));this.multipleVal=b,this.multipleValObj.html(this.multipleVal+"倍")},sportterySoccer.addM=function(a){this.checkTipsShow&&(this.multipleVal=0,this.checkTipsShow=!1);var b=a.attr("data-v");if("1"==this.multipleValObj.attr("data-newS")){var c=Number(b);this.multipleValObj.attr("data-newS","0")}else var c=Number(this.multipleVal+""+b);c>1e4&&(c=1e4),this.multipleVal=c,this.multipleValObj.html(this.multipleVal+"倍")},sportterySoccer.delM=function(a){this.multipleVal=Number(this.multipleVal.toString().slice(0,-1)),this.multipleValObj.html(this.multipleVal+"倍")},sportterySoccer.subM=function(a){0==this.multipleVal&&(this.multipleVal=1),this.multipleValObj.html(this.multipleVal+"倍"),this.hideMultiple(),this.createBonusOptBottom(this.multipleObj,1)},sportterySoccer.createGGData=function(){for(var a=this.oneGGObj.children("span").add(this.otherGGObj.children("span")),b=new Array,c=0,d=a.length;c<d;c++)a.eq(c).hasClass("selected")&&b.push(a.eq(c).attr("data-v"));return b},sportterySoccer.updateLotteryType=function(a){switch(a.attr("data-v")){case"spf":return sportterySoccer.goSoccerMix(),!0;case"2x1":return sportterySoccer.goSoccer2x1(),!0}},sportterySoccer.goSoccerMix=function(){2!=this.manner?this.updObj.hide():(soccer2x1Obj.destroy(),soccerMixObj.goBack=function(){soccerMixObj.destroy(),homeObj.show("reload")},soccerMixObj.show("reload",function(){soccerMixObj.getData()}))},sportterySoccer.goSoccer2x1=function(){2==this.manner?this.updObj.hide():(soccerMixObj.destroy(),soccer2x1Obj.goBack=function(){soccer2x1Obj.destroy(),homeObj.show("reload")},soccer2x1Obj.show("reload",function(){soccer2x1Obj.getData()}))},sportterySoccer.checkSelect=function(a,b,c){return!!this.betData[a]&&(!!this.betData[a][1]&&(!!this.betData[a][1][b]&&!!this.betData[a][1][b][c]))},sportterySoccer.setBetNum=function(a){var b=this.matchListObj.find("div[data-t='showBet'][data-o='"+a+"']");if(!b.length)return!0;this.getTipsBetNum(a)?b.html('<p class="selected"><span class="font12">已选</span><span>'+this.betData[a][4]+"</span></p>"):b.html('<p><span>+</span><span class="font12 gray">玩法</span></p>')},sportterySoccer.getTipsBetNum=function(a){var b=0;if(!this.betData[a])return b;if(!this.betData[a][3])return b;for(var c=2,d=this.betData[a][3].length;c<d;c++)this.betData[a][3][c]&&(b+=this.betData[a][3][c]);return b},sportterySoccer.createBetMatchHtml=function(){this.betNum>0?this.betOneTipsObj.html('<p class="center">至少选择'+this.betMinMatch+"场比赛</p>"):this.betOneTipsObj.html(this.betOneTipsText)},sportterySoccer.getMoney=function(){sportteryBonus.getMoney(this.createGGData(),this.betData,this.multipleVal)},sportterySoccer.createWargeData=function(){var a=[];for(var b in this.betData)if(this.betData[b]&&this.betData[b][1]){for(var c=[],d=0,e=this.betData[b][1].length;d<e;d++)if(this.betData[b][1][d]){for(var f=[],g=0,h=this.betData[b][1][d].length;g<h;g++)this.betData[b][1][d][g]&&f.push(this.betData[b][1][d][g]);c.push(this.postDataKey[d]+"@"+f.join(","))}a.push(b+":"+c.join("+"))}return a.join(";")},sportterySoccer.createOidData=function(){var a=[];for(var b in this.betData)this.betData[b]&&this.betData[b][4]&&a.push(b);return a.join(",")},sportterySoccer.createDDOidData=function(){var a=[];for(var b in this.betData)this.betData[b]&&this.betData[b][4]&&this.betData[b][9]&&a.push(b);return a.join(",")},sportterySoccer.createSubData=function(){var a=window.getBonusData();return{lotteryType:this.lotteryType,lotteryNo:this.lotteryNo,playType:"combin",passType:this.createGGData().join(","),wagerCount:a.zhushuVal,wagerMultiple:this.multipleVal,matches:this.createWargeData(),matchOrder:this.createOidData(),absMatchOrder:this.createDDOidData(),minHit:"",maxHit:"",openType:"open",money:a.moneyVal*this.multipleVal,source:"common",manner:this.manner?this.manner:0,consignType:"alone"}},sportterySoccer.submitBet=function(){var a=this.createSubData();if(a.wagerCount>this.maxZS)return $.alertMsg("单笔最大支持"+Math.floor(this.maxZS/1e4)+"万注"),!1;if(a.money>this.maxMoney)return $.alertMsg("单笔最大支持"+Math.floor(this.maxMoney/1e4)+"万元"),!1;if(""===a.passType)return $.alertMsg("请选择过关方式"),!1;if(a.wagerMultiple>this.maxMul)return $.alertMsg("最大倍数"+this.maxMul+"倍"),!1;if(0==a.wagerMultiple)return $.alertMsg("最小倍数1倍"),!1;var b=this;loginObj.isLogin?b.createPid():b.createWid(),Global.pv("zuodan",{lotteryType:sportterySoccer.lotteryType})},sportterySoccer.createPid=function(a){var b=this.createSubData();b.channel_number=ConfigObj.zdid;var c={para:Global.encrypt(b),access_token:loginObj.access_token},d=this;$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.sportteryprocess",data:c,dataType:"json",type:"post",success:function(a){if("0000"==a.code){a.info=$.parseJSON(Global.crypt(a.info));var b={lotteryType:d.lotteryType,lotteryNo:d.lotteryNo,product_id:a.info.productId,pay_amount:a.info.money,assure_amount:-1};d.pid=a.info.lotteryId,d.buyFun(b)}else $.alertMsg(a.code_str)}})},sportterySoccer.buyFun=function(a){var b=this;buyConfirmObj.goBack=function(){switch(b.lotteryType){case"FTFH":2==b.manner?soccer2x1Obj.show():soccerMixObj.show();break;case"SPF14":soccerTotoObj.show("reload",function(){soccerTotoObj.getData()}),soccerTotoObj.show();break;case"SPF9":soccerR9Obj.show("reload",function(){soccerR9Obj.getData()}),soccerR9Obj.show();break;default:homeObj.show()}buyConfirmObj.destroy()};var c=function(){buyConfirmObj.setData(a)};setTimeout(function(){buyConfirmObj.show("reload",c)},300)},sportterySoccer.createWid=function(){var a=this,b=this.createSubData();$.ajax({url:ConfigObj.localSite+"?m=lottery.trade.sportteryProcess",data:b,dataType:"json",type:"post",success:function(b){"0000"==b.code?(a.wid=b.info.wagerId,loginObj.goBack=function(){a.show()},loginObj.goForward=function(){a.show(),a.afterLoginCreatePid(a.wid)},registerObj.goForward=function(){},$.alertMsg("请先登录"),loginObj.show()):(loginObj.goBack=function(){a.show()},loginObj.goForward=function(){a.show(),$.alertMsg(b.code_str)},registerObj.goForward=function(){a.show(),$.alertMsg(b.code_str)},$.alertMsg("请先登录"),loginObj.show())}})},sportterySoccer.afterLoginCreatePid=function(a){var b=this,c={wagerId:a,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.trade.buylottery",data:c,dataType:"json",type:"post",success:function(a){if("0000"==a.code){b.pid=a.info.lotteryId;var c={lotteryType:b.lotteryType,lotteryNo:b.lotteryNo,product_id:a.info.lotteryId,pay_amount:a.info.money};b.pid=a.info.lotteryId,b.buyFun(c)}else $.alertMsg(a.code_str)}})},sportterySoccer.countdownTick=function(a){function b(){var a=Date.now();if(a>=c)$("#spfLottery_countdown").html("已截止"),sportterySoccer.lotteryNo="",sportterySoccer.getData(),clearInterval(window.__sportterySoccerCountdownInterval);else{a-=1e3;var b=(c-a)/1e3,d=Math.floor(b/3600);d=d<10?"0"+d:d;var e=Math.floor((b-3600*d)/60);e=e<10?"0"+e:e;var f=Math.floor(b-3600*d-60*e);f=f<10?"0"+f:f,$("#spfLottery_countdown").html("距离截止"+d+":"+e+":"+f)}}window.__sportterySoccerCountdownInterval&&clearInterval(window.__sportterySoccerCountdownInterval);var c=Date.parse(a.replace(/-/g,"/"));window.__sportterySoccerCountdownInterval=setInterval(function(){b()},1e3)},sportterySoccer.getData=function(){var a=this,b={lotteryType:this.lotteryType,lotteryNo:this.lotteryNo?this.lotteryNo:""},c="";switch(a.lotteryType){case"FTFH":c=2==a.manner?ConfigObj.localSite+"?m=Lottery.Jczq.jz2x1":ConfigObj.localSite+"?m=Lottery.Jczq.index";break;case"SPF14":c=ConfigObj.localSite+"?m=Lottery.zc.spf14";break;case"SPF9":c=ConfigObj.localSite+"?m=Lottery.zc.spf9";break;case"BSKFH":c=ConfigObj.localSite+"?m=Lottery.jclq"}var d={para:Global.encrypt(b)};$.ajax({url:c,data:d,type:"post",dataType:"json",success:function(b,c){if(null==b){var d='<div class="noact center"><p class="mb15"><span class="nomatch_1"></span></p><p class="font14 gray">暂时没有赛程啊~</p></div>';return a.matchListObj.html(d),!1}if("0000"==b.code)if(b.info=$.parseJSON(Global.crypt(b.info)),b.info.matchList)if("FTFH"==a.lotteryType)a.lotteryNo=b.info.lotteryNo,2==a.manner?a.format2x1Html(b.info.matchList):a.formatMixHtml(b.info.matchList);else if("SPF14"==a.lotteryType){$("#soccerToto_desc").html('<span class="gray mr10">第'+b.info.lotteryNo+'期</span><span class="fontred"><span id="spfLottery_countdown"></span></span>'),a.lotteryNo=b.info.lotteryNo,a.formatToToHtml(b.info.matchList),a.formatLotListHtml(b.info.lotteryNoList);var e=new Date,f=e.getFullYear();sportterySoccer.countdownTick(f+"-"+b.info.endTime+":00")}else if("SPF9"==a.lotteryType){$("#soccerR9_desc").html('<span class="gray mr10">第'+b.info.lotteryNo+'期</span><span class="fontred"><span id="spfLottery_countdown"></span></span>'),a.lotteryNo=b.info.lotteryNo,a.formatToToHtml(b.info.matchList),a.formatLotListHtml(b.info.lotteryNoList);var e=new Date,f=e.getFullYear();sportterySoccer.countdownTick(f+"-"+b.info.endTime+":00")}else"BSKFH"==a.lotteryType&&(a.lotteryNo=b.info.lotteryNo,a.formatBasketMixHtml(b.info.matchList));else{var d='<div class="noact center"><p class="mb15"><span class="nomatch_1"></span></p><p class="font14 gray">暂时没有赛程哦~</p></div>';a.matchListObj.html(d)}else $.alertMsg(b.code_str)}})},sportterySoccer.formatBasketMixHtml=function(a){var b="",c=this;if(!a||0==a.length)return void c.matchListObj.html(b);for(var d in a){if(b+='<p class="jzli showObj" data-t="showMatch"><span class="gray"><em class="mr10">'+d+a[d].week+"</em>"+a[d].count+'场比赛</span><span class="fr"><em class="arrow trans showtipsObj"></em></span></p><div class="jzwrap jzhg_wrap">',a[d].list)for(var e=0;e<a[d].list.length;e++){var f=a[d].list[e];b+='<div class="licon clearfix"><div class="center gray font12  pt85 w19 fl"><p><em class="block" style="background:#'+f.bgcolor+'"></em>'+f.leagueName+"</p><p>"+f.sno+"</p><p>"+f.betEndTime+'截止</p></div><div class="matchcon center w75 fr"><p class="jzvs mb10 clearfix"><span class="w40"><em class="font12 gray">'+f.guest_rank+"</em>"+f.guest_name_q+'</span><span class="w19">VS</span><span class="w40">'+f.host_name_q+'<em class="font12 gray">'+f.host_rank+'</em></span></p><div class="clearfix"><div class="vs_info lc_info fl" data-o="'+f.oid+'" data-n="'+f.homeName+","+f.awayName+'" data-p="123,234">',f.stopBuy.BSKSF?b+='<div class="match_detail center clearfix"><span class="rq">胜负</span><p class="opt_jz vs_none"><span class="font12 gray">未开售</span></p></div>':b+='<div class="match_detail center clearfix '+(f.danGuan.BSKSF?"m_single":"")+'" data-i="0" data-s="'+f.mixOdds.BSKSF[1]+","+f.mixOdds.BSKSF[0]+'" '+(f.danGuan.BSKSF?' data-dg="1"':"")+'><span class="rq r_red">胜负</span><div class="opt_jz" data-t="selectBet" data-k="0"><span><em class="font12 gray">客胜</em> '+f.mixOdds.BSKSF[1]+'</span></div><div class="opt_jz" data-t="selectBet" data-k="1"><span><em class="font12 gray">主胜</em> '+f.mixOdds.BSKSF[0]+"</span></div></div>",f.stopBuy.BSKRFSF?b+='<div class="match_detail center clearfix"><span class="rq '+(f.rq>0?"r_red":"r_green")+'">让分</em></span><p class="opt_jz vs_none"><span class="font12 gray">未开售</span></p></div>':b+='<div class="match_detail center clearfix '+(f.danGuan.BSKRFSF?"m_single":"")+'" data-i="1" data-s="'+f.mixOdds.BSKRFSF[1]+","+f.mixOdds.BSKRFSF[0]+'" data-q="'+f.rq+'" '+(f.danGuan.BSKRFSF?' data-dg="1"':"")+'><span class="rq r3">让分</span><div class="opt_jz" data-t="selectBet" data-k="0"><span><em class="font12 gray">客胜</em> '+f.mixOdds.BSKRFSF[1]+'</span></div><div class="opt_jz" data-t="selectBet" data-k="1"><span><em class="font12 gray">主<i class="'+(-1!=f.rq.indexOf("+")?"fontred":"fontgreen")+'">'+f.rq+"</i>胜</em> "+f.mixOdds.BSKRFSF[0]+"</span></div></div>",f.stopBuy.BSKDXF?b+='<div class="match_detail center clearfix"><span class="rq pt2">大小分</span><p class="opt_jz vs_none"><span class="font12 gray">未开售</span></p></div>':b+='<div class="match_detail center clearfix '+(f.danGuan.BSKDXF?"m_single":"")+'" data-i="2" data-s="'+f.mixOdds.BSKDXF[0]+","+f.mixOdds.BSKDXF[1]+'" data-q="'+f.rq+'" '+(f.danGuan.BSKRFSF?'data-dg="1"':"")+'><span class="rq r4">大小分</span><div class="opt_jz" data-t="selectBet" data-k="0"><span><em class="font12 gray">大于'+f.dxf+"</em> "+f.mixOdds.BSKDXF[0]+'</span></div><div class="opt_jz" data-t="selectBet" data-k="1"><span><em class="font12 gray">小于'+f.dxf+"</em> "+f.mixOdds.BSKDXF[1]+"</span></div></div>",f.stopBuy.BSKSFC?b+='<div class="match_detail center clearfix"><span class="rq pt2">胜分差</span><p class="opt_jz vs_none"><span class="font12 gray">未开售</span></p></div>':b+='<div class="match_detail lc-score center clearfix '+(f.danGuan.BSKDXF?"m_single":"")+'" data-t="showBet" data-o="'+f.oid+'"><span class="rq r5">胜分差</span><div class="opt_jz" data-t="showBet" data-o="'+f.oid+'"><span>点击选择胜分差</span></div></div>',b+="</div></div></div></div>"}b+="</div>"}b+='<div style="height:150px;"></div>',this.matchListObj.html(b),this.pullRefresh()},sportterySoccer.formatLotListHtml=function(a){var b=this;if(a&&a.length>0){b.lotArrowObj.show();for(var c="",d=0;d<a.length;d++)c+='<p data-t="changeLotNo" data-v="'+a[d]+'" class="'+(a[d]==b.lotteryNo?"selected":"")+'"><span class="botborder">第'+a[d]+'期</span><em class="sel-mark"><i class="icon-sm sel-sm"></i></em></p>';b.updObj.html(c)}else b.lotArrowObj.hide(),b.updObj.html("")},sportterySoccer.changeLotNo=function(a){var b=this;b.updObj.find("p").removeClass("selected"),a.addClass("selected");var c=b.lotteryObj.find("span[data-t=showUpd]");b.showUpd(c),b.clearMatch(),b.lotteryNo=a.attr("data-v"),b.getData()},sportterySoccer.clearMatch=function(){this.setDefConfig(),this.showLotteryInfo(),this.createBetMatchHtml()},sportterySoccer.formatToToHtml=function(a){var b="",c=this;if(!a||0==a.length)return void c.matchListObj.html('<p class="nomatch">当前无赛程，请稍后再来</p>');for(var d=0;d<a.length;d++){var e=a[d];""==e.odds&&(e.odds[0]="",e.odds[1]="",e.odds[2]=""),b+='<div class="licon clearfix matchObj" data-o="'+e.oid+'" data-n="'+e.homeName+","+e.awayName+'"data-p=""><div class="center gray font12  pt5 w22 fl"><p>第'+e.oid+"场</p><p>"+e.leagueCnName+"</p><p>"+e.matchTime_q+'</p></div><div class="matchcon center w78 fr" data-i="0" data-s="'+e.odds[0]+","+e.odds[1]+","+e.odds[2]+'"><div class="item w38 fl" data-t="selectBet" data-k="0"><p><span>'+e.homeName+'</span><span><em class="gray font12">主胜</em>'+e.odds[0]+'</span></p></div><div class="item w24 fl" data-t="selectBet" data-k="1"><p><span>VS</span><span><em class="gray font12">平</em>'+e.odds[1]+'</span></p></div><div class="item w38 fl" data-t="selectBet" data-k="2"><p><span>'+e.awayName+'</span><span><em class="gray font12">客胜</em>'+e.odds[2]+"</span></p></div></div></div>"}this.matchListObj.html(b),this.pullRefresh()},sportterySoccer.pullRefresh=function(){var a=this;a.matchListObj.dropload({scrollArea:window,distance:a.pullDistance,loadUpFn:function(a){sportterySoccer.setDefConfig(),sportterySoccer.bonusOpt&&sportterySoccer.bonusOpt.hide(),sportterySoccer.showLotteryInfo(),sportterySoccer.createBetMatchHtml(),sportterySoccer.getData(),a.resetload()}})},sportterySoccer.format2x1Html=function(a){var b="";for(var c in a){if(b+='<p class="jzli showObj" data-t="showMatch"><span class="gray"><em class="mr10">'+c+a[c].week+"</em>"+a[c].count+'场比赛</span><span class="fr"><em class="arrow trans showtipsObj"></em></span></p><div class="jzwrap jzhg_wrap">',a[c].list)for(var d in a[c].list){var e=a[c].list[d]
;b+='<div class="licon clearfix"><div class="center gray font12  pt5 w19 fl"><p><em class="block" style="background:#'+e.bgcolor+'"></em>'+e.leagueName+"</p><p>"+e.sno+"</p><p>"+e.betEndTime+'截止</p></div><div class="matchcon center w80 fr" data-o="'+e.oid+'" data-n="'+e.host_name_q+","+e.guest_name_q+'" data-p="123,234">',-1==e.rq?b+='<div data-i="0" data-s="'+e.mixOdds.FTBRQSPF[0]+",,"+e.mixOdds.FTSPF[2]+'" data-q="1"><div class="item w50 fl" data-t="selectBet" data-k="0"><p><span><em class="gray font12"></em>'+e.host_name_q+'</span><span><em class="gray font12">主胜</em>'+e.mixOdds.FTBRQSPF[0]+'</span></p></div></div><div data-i="1" data-s="'+e.mixOdds.FTBRQSPF[0]+",,"+e.mixOdds.FTSPF[2]+'" data-q="1"><div class="item w50 fl" data-t="selectBet" data-k="2"><p><span>'+e.guest_name_q+'<em class="gray font12"></em></span><span><em class="gray font12">主不胜</em>'+e.mixOdds.FTSPF[2]+"</span></p></div></div>":b+='<div data-i="1" data-s="'+e.mixOdds.FTSPF[0]+",,"+e.mixOdds.FTBRQSPF[2]+'" data-q="0"><div class="item w50 fl" data-t="selectBet" data-k="0"><p><span><em class="gray font12"></em>'+e.host_name_q+'</span><span><em class="gray font12">主不败</em>'+e.mixOdds.FTSPF[0]+'</span></p></div></div><div data-i="0" data-s="'+e.mixOdds.FTSPF[0]+",,"+e.mixOdds.FTBRQSPF[2]+'" data-q="0"><div class="item w50 fl" data-t="selectBet" data-k="2"><p><span>'+e.guest_name_q+'<em class="gray font12"></em></span><span><em class="gray font12">主败</em>'+e.mixOdds.FTBRQSPF[2]+"</span></p></div></div>",b+="</div></div>"}b+="</div>"}b||(b='<div class="noact center"><p class="mb15"><span class="nomatch_1"></span></p><p class="font14 gray">暂时没有赛程哦~</p></div>'),b+='<div style="height:60px;"></div>',this.matchListObj.html(b),this.pullRefresh()},sportterySoccer.formatMixHtml=function(a){var b="";for(var c in a){if(b+='<p class="jzli showObj" data-t="showMatch"><span class="gray"><em class="mr10">'+c+a[c].week+"</em>"+a[c].count+'场比赛</span><span class="fr"><em class="arrow trans showtipsObj"></em></span></p><div class="jzwrap jzhg_wrap">',a[c].list)for(var d=0;d<a[c].list.length;d++){var e=a[c].list[d];b+='<div class="licon clearfix"><div class="center gray font12  pt45 w19 fl"><p><em class="block" style="background:#'+e.bgcolor+'"></em>'+e.leagueName+"</p><p>"+e.sno+"</p><p>"+e.betEndTime+"截止</p></div>",b+='<div class="matchcon center w75 fr"><p class="jzvs mb10 clearfix"><span class="w40"><em class="font12 gray"></em>'+e.host_name_q+'</span><span class="w19">VS</span><span class="w40">'+e.guest_name_q+'<em class="font12 gray"></em></span></p><div class="clearfix"><div class="vs_info fl '+(!e.stopBuy.FTBRQSPF&&e.danGuan.FTBRQSPF&&!e.stopBuy.FTSPF&&e.danGuan.FTSPF?"m_single":"")+'" data-o="'+e.oid+'" data-n="'+e.homeName+","+e.awayName+'" data-p="123,234">',e.stopBuy.FTBRQSPF?b+='<div class="match_detail center clearfix"><span class="rq">让<em>0</em></span><p class="opt_jz vs_none"><span class="font12 gray">未开售</span></p></div>':b+='<div class="match_detail center clearfix '+(e.danGuan.FTBRQSPF&&!e.danGuan.FTSPF?"m_single":"")+'" data-i="0" data-s="'+e.mixOdds.FTBRQSPF[0]+","+e.mixOdds.FTBRQSPF[1]+","+e.mixOdds.FTBRQSPF[2]+'" '+(e.danGuan.FTBRQSPF?'data-dg="1"':"")+'><span class="rq">让<em>0</em></span><div class="opt_jz" data-t="selectBet" data-k="0"><span><em class="font12 gray">主胜</em>'+e.mixOdds.FTBRQSPF[0]+'</span></div><div class="opt_jz" data-t="selectBet" data-k="1"><span><em class="font12 gray">平</em>'+e.mixOdds.FTBRQSPF[1]+'</span></div><div class="opt_jz" data-t="selectBet" data-k="2"><span><em class="font12 gray">客胜</em>'+e.mixOdds.FTBRQSPF[2]+"</span></div></div>",e.stopBuy.FTSPF||void 0==e.rq||void 0==e.mixOdds.FTSPF[2]?b+='<div class="match_detail center clearfix"><span class="rq r_green">让<em>球</em></span><p class="opt_jz vs_none"><span class="font12 gray">未开售</span></p></div></div><div class="vs_more fl" data-t="showBet" data-o="'+e.oid+'"><p><span>+</span><span class="font12 gray">玩法</span></p></div></div></div></div>':b+='<div class="match_detail center clearfix '+(e.danGuan.FTSPF&&!e.danGuan.FTBRQSPF?"m_single":"")+'" data-i="1" data-s="'+e.mixOdds.FTSPF[0]+","+e.mixOdds.FTSPF[1]+","+e.mixOdds.FTSPF[2]+'" data-q="'+e.rq+'" '+(e.danGuan.FTSPF?'data-dg="1"':"")+'><span class="rq '+(e.rq>0?"r_red":"r_green")+'">让<em>'+e.rq+'</em></span><div class="opt_jz" data-t="selectBet" data-k="0"><span><em class="font12 gray">主胜</em>'+e.mixOdds.FTSPF[0]+'</span></div><div class="opt_jz" data-t="selectBet" data-k="1"><span><em class="font12 gray">平</em>'+e.mixOdds.FTSPF[1]+'</span></div><div class="opt_jz" data-t="selectBet" data-k="2"><span><em class="font12 gray">客胜</em>'+e.mixOdds.FTSPF[2]+'</span></div></div></div><div class="vs_more fl" data-t="showBet" data-o="'+e.oid+'"><p><span>+</span><span class="font12 gray">玩法</span></p></div></div></div></div>'}b+="</div>"}b+='<div style="height:60px;"></div>',this.matchListObj.html(b),this.pullRefresh()},sportterySoccer.filterMatch=function(a,b){this.lotteryNo=b,"BSKFH"==this.lotteryType?this.formatBasketMixHtml(a):2==this.manner?this.format2x1Html(a):this.formatMixHtml(a)},sportterySoccer.cloneArr=function(a){for(var b=new Array,c=0,d=a.length;c<d;c++)$.isArray(a[c])?b[c]=this.cloneArr(a[c]):b[c]=a[c];return b},sportterySoccer.bonusOptAjax=function(){var a=this.createSubData();if(a.wagerCount>500)return $.alertMsg("使用奖金优化，单注倍数不能超过500注，请重新设置"),!1;if(a.money>this.maxMoney)return $.alertMsg("单笔最大支持"+Math.floor(this.maxMoney/1e4)+"万元"),!1;if(""===a.passType)return $.alertMsg("请选择过关方式"),!1;for(var b=a.passType.split(","),c=/_1$/,d=0,e=b.length;d<e;d++)if(!c.test(b[d]))return $.alertMsg("奖金优化只支持n串1的过关方式。"),!1;a.wagerMultiple=1,a.manner=1,a.jctoolMoney=a.money,a.optimizeType="avg","2"==this.manner&&(a.subLotteryType="jz2x1",a.manner=3),prizeToolObj.goBack=function(){prizeToolObj.destroy(),sportterySoccer.show()},prizeToolObj.show("reload",function(){prizeToolObj.getData(a)})},sportterySoccer.getBonusDeil=function(){var a=this;if("none"!=a.bonusDeilObj.css("display"))return a.bonusDeilObj.hide(),a.removeBgLayer(),a.createBonusOptBottom(a.bonusDeilObj,0),!1;var b=this.createSubData();$.ajax({url:ConfigObj.localSite+"?m=lottery.jczq.getprizecomputesummary",data:b,type:"post",dataType:"json",success:function(b){if("0000"!==b.code)return $.alertMsg(b.code_str),!1;a.bonusDeilObj.addClass("showObj"),a.createBonusDeilDom(b.info.summary),a.bonusDeilObj.show(),a.ddDetailObj.hide(),a.ddDetailObj.removeClass("showObj"),a.hideMultiple(),a.addBgLayer(a.bonusDeilObj),a.bonusOpt&&a.createBonusOptBottom(a.bonusDeilObj,1)}})},sportterySoccer.createBonusDeilDom=function(a){for(var b=new Array,c=0,d=a.length;c<d;c++)b.push('<div class="clearfix"><span class="fl w30">'+a[c].tuoHit+'</span><span class="fl w70">'+a[c].min+'<em class="jgx">~</em>'+a[c].max+"</span></div>");this.bonusListObj.html(b.join(""))},sportterySoccer.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},sportterySoccer.init=function(){this.setDefConfig(),this.onloadExecution()},sportterySoccer}function getProvince(){var a=document.getElementById("province"),b=document.getElementById("city"),c=a.selectedIndex;bindBankObj.province=a.options[c].text;var d=arr[c].split(",");b.length=0;for(var e=0;e<d.length;e++)b[e]=new Option(d[e],d[e]);var f=b.selectedIndex;bindBankObj.city=b.options[f].text}function getCity(){var a=document.getElementById("city"),b=a.selectedIndex;bindBankObj.city=a.options[b].text}function getBank(){var a=document.getElementById("bindBank_cardWrap"),b=a.selectedIndex;bindBankObj.bank=a.options[b].value}ConfigObj&&(ConfigObj.local=!1,ConfigObj.appName="dianshicai",ConfigObj.appEnname="",ConfigObj.version="2.0.3",ConfigObj.umengChannel="",ConfigObj.appVersionCode="",ConfigObj.appVersionName="",ConfigObj.stationId="",ConfigObj.tel="13318747935",ConfigObj.a1="",ConfigObj.a2="",ConfigObj.display=!0,ConfigObj.last_time=3,ConfigObj.zdid="71D21F-DB3A-3101AC",ConfigObj.appkey="EF0D1335-20C7-1993-F970-A69DEE4A253F",ConfigObj.localSite="http://a.xxyya.cn:8269/api",ConfigObj.appDLUrl="http://www.huohuotuan.cn/game/langshisan.html",ConfigObj.local&&(ConfigObj.localSite="p.js"),ConfigObj.fastLotType="gd11x5",ConfigObj.fastLotApi={tjsyy:{scheme:"?m=lottery.Tjsyy.index",chart:"?m=Lottery.Tjsyy.getChartData"},gd11x5:{scheme:"?m=lottery.Gd11x5.index",chart:"?m=Lottery.Gd11x5.getChartData"},sd11x5:{scheme:"?m=lottery.sd11x5.index",chart:"?m=Lottery.sd11x5.getChartData"},xj11x5:{scheme:"?m=lottery.xj11x5.index",chart:"?m=Lottery.xj11x5.getChartData"},gx11x5:{scheme:"?m=lottery.gx11x5.index",chart:"?m=Lottery.gx11x5.getChartData"}},ConfigObj.fastK3Type="gxk3",ConfigObj.fastK3Api={gxk3:{scheme:"?m=lottery.gxk3.index",chart:"?m=Lottery.gxk3.getChartData"},jxk3:{scheme:"?m=lottery.jxk3.index",chart:"?m=Lottery.jxk3.getChartData"},jlk3:{scheme:"?m=lottery.jlk3.index",chart:"?m=Lottery.jlk3.getChartData"}},ConfigObj.syx5Type=["gd11x5","xj11x5","sd11x5","gx11x5"],"android"===ConfigObj.platForm&&"undefined"!=typeof android_obj?(ConfigObj.umengChannel=android_obj.getUmengChannel(),ConfigObj.version=android_obj.getAppVersionName(),ConfigObj.stationId=android_obj.getStationId(),ConfigObj.zdid=android_obj.getStationId()):"ios"===ConfigObj.platForm&&"undefined"!=typeof ios_obj&&(ios_obj.upLoadUMengChanelIdForLottery(),ConfigObj.zdid="71D21F-DB3A-3101AC",ConfigObj.version="2.0.3"));var homeObj=new PageController({name:"home",tpl:"template/home.html"});homeObj.defBannerImgProportion=640/280,homeObj.defLotteryData=[],homeObj.lotterySortData=window.localStorage.getItem("homeObj_lotteryStor_data"),homeObj.lotterySortData=homeObj.lotterySortData?$.parseJSON(homeObj.lotterySortData):{},homeObj.ajaxData=new Object,homeObj.createBannerHeight=function(){var a=$("body").width(),b=a/this.defBannerImgProportion;this.bannerImgObj.css("height",b+"px"),this.bannerDivObj.css("height",b+"px")},homeObj.createBanner=function(){var a=this.ajaxData.banner;if(a.length){var b=[],c=[];a.forEach(function(a,d){var e=a.url;"news"===e&&(e+="?newsId="+a.newsId),"/activity/regsend"===e&&(e+="?id="+a.id),"lotteryRules"===e&&(e+="?lotteryType="+a.lotteryType),b.push('<li data-v="'+e+'" data-webUrl="'+(a.webUrl?a.webUrl:"")+'"><a><img src="'+a.imgurl+'"></a></li>'),c.push('<a class="dot'+(0===d?" on":"")+'"></a>')}),console.log("46轮播图"+b),console.log("47轮播图"+c),this.bannerImgObj.html(b.join(""));var d=$("#home_bannerNavWarpObj").html(c.join(""));this.bannerNavObj=d.children("a"),this.bannerSwipeSlide(),delete this.ajaxData.banner}},homeObj.bannerSwipeSlide=function(){this.bannerDivObj.swipeSlide({continuousScroll:!0,speed:3e3,lazyLoad:!0,callback:function(a){homeObj.bannerNavObj.removeClass("on"),homeObj.bannerNavObj.eq(a).addClass("on")}})},homeObj.createLottery=function(){for(var a=homeObj.ajaxData.lottery,b=[],c=0;c<a.length;c++){var d=a[c].enName;void 0==homeObj.ajaxData.lotteryAddPrize&&(a[c].add=!1);var e='<li data-t="lottery" data-v="'+d+'"><a href="javascript:void(0)"><span class="lot_icon '+d+'01 fl"></span><div class="lot_name fl"><h3>'+a[c].cnName+"</h3>"+(a[c].bonus&&"-1元"!=a[c].bonusVal?'<p>奖池：<span class="money">'+a[c].bonusVal+" </span></p>":'<p style="overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+a[c].msg+"</p>")+(a[c].add?'<span class="acticon a-jiaj"></span>':"")+"</div>"+(a[c].open?'<span class="acticon a-kaij"></span>':"")+"</a></li>";a[c].first?b.unshift(e):b.push(e)}this.lotteryUlObj.html(b.join(""))},homeObj.newsEvent=function(a){var b=$.oto_checkEvent(a,"DL");if(b){var c=$(b);switch(c.attr("data-t")){case"detail":return this.goNewsDetail(c.attr("data-id")),!0}return!1}},homeObj.navEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){switch($(b).attr("data-t")){case"my":return this.goUserCenter(),!0;case"kaijiang":return this.goKaijiang(),!0;case"discover":return this.goDiscover(),!0;case"newuser":return this.goNewUser(),!0}return!1}},homeObj.footEvent=function(a){var b=$.oto_checkEvent(a,"DL");if(b){switch($(b).attr("data-t")){case"scorePrize":return homeObj.goScorePrize(),!0;case"chart":return homeObj.goChart(),!0}}},homeObj.goNewsDetail=function(a){newsDetailObj.goBack=function(){newsDetailObj.destroy(),homeObj.show()},newsDetailObj.show("",function(){newsDetailObj.getData(a)})},homeObj.goActivityIdx=function(){activityIdxObj.goBack=function(){activityIdxObj.destroy(),homeObj.show()},activityIdxObj.show("",function(){activityIdxObj.getData()})},homeObj.goScorePrize=function(){scorePrizeObj.goBack=function(){scorePrizeObj.destroy(),homeObj.show()},scorePrizeObj.show("",function(){scorePrizeObj.getData(-1)})},homeObj.goLocalSite=function(){localSiteObj.goBack=function(){localSiteObj.destroy(),homeObj.show()},localSiteObj.show()},homeObj.goUserCenter=function(){loginObj.isLogin?(userCenterObj.goBack=function(){userCenterObj.destroy(),homeObj.show()},userCenterObj.show("reload")):(loginObj.goForward=function(){userCenterObj.show("reload"),userCenterObj.goBack=function(){userCenterObj.destroy(),homeObj.show()}},loginObj.goBack=function(){homeObj.show()},loginObj.show())},homeObj.goKaijiang=function(){numKaijiangObj.goBack=function(){numKaijiangObj.destroy(),homeObj.show()},numKaijiangObj.show()},homeObj.goNewUser=function(){settingObj.goBack=function(){settingObj.destroy(),homeObj.show()},settingObj.show()},homeObj.goDiscover=function(){discoverObj.goBack=function(){discoverObj.destroy(),homeObj.show()},discoverObj.show()},homeObj.bannerEvent=function(a){var b=$.oto_checkEvent(a,"LI");if(b){var c=$(b),d=c.attr("data-v");if(0==d.indexOf("http://")||0==d.indexOf("https://"))Global.openUrl(d);else{var e=function(a){var b=a.split("?"),c=b[0],d={};if(b[1]&&b[1].length){b[1].split("&").forEach(function(a){var b=a.split("=");d[b[0]]=b[1]?b[1]:null})}return{path:c,args:d}}(d);ConfigObj.display&&("/jczq"==e.path?this.gotoJczqBet():"/dlt"==e.path?this.gotoDltBet():"/ssq"==e.path?this.gotoSsqBet():"/jxk3"==e.path?this.goFastK3Bet("jxk3"):"/d3"==e.path?this.gotoD3Bet():"/pl3"==e.path?this.gotoPl3Bet():"/pl5"==e.path?this.gotoPl5Bet():"/jc2x1"==e.path?this.goto2x1Bet():"/spf14"==e.path?this.goTotoBet():"/spf9"==e.path?this.goR9Bet():"helpDetail"==e.path?(helpDetailObj.goBack=function(){helpDetailObj.destroy(),homeObj.show()},helpDetailObj.show("reload",function(){helpDetailObj.setData(e.args.type)})):"lotteryRules"==e.path?(lotteryRulesObj.goBack=function(){lotteryRulesObj.destroy(),homeObj.show()},lotteryRulesObj.show("reload",function(){lotteryRulesObj.setData(e.args.lotteryType,"prize")})):"/activity/regsend"==e.path?(regsendBonusObj.goBack=function(){regsendBonusObj.destroy(),homeObj.show()},regsendBonusObj.show("",function(){regsendBonusObj.getData(e.args.id)})):"/activity/regnewBonus"==e.path?(regnewBonusObj.goBack=function(){regnewBonusObj.destroy(),homeObj.show()},regnewBonusObj.show()):"/activity/invsend"==e.path?(Global.bgColor=window.getComputedStyle(document.body).backgroundColor,invsendBonusObj.goBack=function(){document.body.style.backgroundColor=Global.bgColor,invsendBonusObj.destroy(),homeObj.show()},invsendBonusObj.show(!0,function(){document.body.style.backgroundColor="#f9ddb6",invsendBonusObj.getData("",e.args.id)})):"news"==e.path?homeObj.goNewsDetail(e.args.newsId):Global.open(d))}Global.pv("banner",{url:d})}},homeObj.goDownload=function(){},homeObj.goRegBonus=function(a){var b=a.attr("data-actId");regsendBonusObj.goBack=function(){regsendBonusObj.destroy(),homeObj.show()},regsendBonusObj.show("",function(){regsendBonusObj.getData(b)})},homeObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"LI");if(b){var c=$(b);switch(c.attr("data-t")){case"lottery":this.lotteryHref(c)}return!1}},homeObj.updateLotterySort=function(a){homeObj.lotterySortData[a]=homeObj.lotterySortData[a]?Number(homeObj.lotterySortData[a])+1:1,window.localStorage.setItem("homeObj_lotteryStor_data",$.stringifyJSON(homeObj.lotterySortData))},homeObj.lotteryHref=function(a,b){if(b&&"banner"==b)var c=a.attr("data-v").split("/"),d=c[c.length-1],e=a.attr("data-id"),f=a.attr("data-webUrl");else var d=a.attr("data-v").replace("/","");for(var g=homeObj.ajaxData.lottery,h=0;h<g.length;h++){if(d==g[h].enName&&!g[h].valid)return void $.alertMsg("该彩种暂停售票")}switch(d){case"dlt":this.gotoDltBet();break;case"ssq":this.gotoSsqBet();break;case"pl3":this.gotoPl3Bet();break;case"d3":this.gotoD3Bet();break;case"pl5":this.gotoPl5Bet();break;case"qxc":this.gotoQxcBet();break;case"jczq":this.gotoJczqBet();break;case"jz2x1":this.goto2x1Bet();break;case"spf14":this.goTotoBet();break;case"spf9":this.goR9Bet();break;case"tjsyy":this.goFastBet("tjsyy");break;case"gd11x5":this.goFastBet("gd11x5");break;case"gx11x5":this.goFastBet("gx11x5");break;case"tj11x5":this.goFastBet("tjsyy");break;case"sd11x5":this.goFastBet("sd11x5");break;case"gxk3":this.goFastK3Bet("gxk3");break;case"jxk3":this.goFastK3Bet("jxk3");break;case"hn4j1":this.goHn4j1Bet();break;case"jclq":this.goBasketMixBet();break;case"news":this.goNewsDetail(e);break;case"scorePrize":this.goScorePrize();break;case"link":Global.openUrl(f);default:ConfigObj.syx5Type.indexOf(d)&&this.goFastBet(d)}},homeObj.goBasketMixBet=function(){basketMixObj.goBack=function(){basketMixObj.destroy(),homeObj.show()},basketMixObj.show(!0,function(){basketMixObj.getData()})},homeObj.goHn4j1Bet=function(){hn4j1Obj.goBack=function(){hn4j1Obj.destroy(),hn4j1ConfirmObj.destroy(),homeObj.show()},hn4j1Obj.show(!0)},homeObj.goFastK3Bet=function(a){fastK3Obj.goBack=function(){fastK3Obj.destroy(),fastK3ConfirmObj.destroy(),homeObj.show()},ConfigObj.fastK3Type=a,fastK3Obj.show(!0,function(){})},homeObj.goFastBet=function(a){fastBetObj.goBack=function(){fastBetObj.destroy(),fastBetConfirmObj.destroy(),fastTrendObj.destroy(),homeObj.show()},ConfigObj.fastLotType=a,fastBetObj.show(!0,function(){fastBetObj.updatePlay("R2")})},homeObj.goR9Bet=function(){soccerR9Obj.goBack=function(){soccerR9Obj.destroy(),homeObj.show()},soccerR9Obj.show(!0,function(){soccerR9Obj.getData()})},homeObj.goTotoBet=function(){soccerTotoObj.goBack=function(){soccerTotoObj.destroy(),homeObj.show()},soccerTotoObj.show(!0,function(){soccerTotoObj.getData()})},homeObj.goto2x1Bet=function(){soccer2x1Obj.goBack=function(){soccer2x1Obj.destroy(),homeObj.show()},soccer2x1Obj.show(!0,function(){soccer2x1Obj.getData()})},homeObj.gotoJczqBet=function(){soccerMixObj.goBack=function(){soccerMixObj.destroy(),homeObj.show()},soccerMixObj.show(!0,function(){soccerMixObj.getData()})},homeObj.gotoDltBet=function(){dltObj.goBack=function(){dltObj.destroy(),dltConfirmObj.destroy(),homeObj.show()},dltObj.show(!0)},homeObj.gotoSsqBet=function(){ssqObj.goBack=function(){ssqObj.destroy(),ssqConfirmObj.destroy(),homeObj.show()},ssqObj.show(!0)},homeObj.gotoPl3Bet=function(){pl3Obj.goBack=function(){pl3Obj.destroy(),pl3ConfirmObj.destroy(),homeObj.show()},pl3Obj.show(!0)},homeObj.gotoD3Bet=function(){d3Obj.goBack=function(){d3Obj.destroy(),d3ConfirmObj.destroy(),homeObj.show()},d3Obj.show(!0)},homeObj.gotoPl5Bet=function(){pl5Obj.goBack=function(){pl5Obj.destroy(),pl5ConfirmObj.destroy(),homeObj.show()},pl5Obj.show(!0)},homeObj.gotoQxcBet=function(){qxcObj.goBack=function(){qxcObj.destroy(),qxcConfirmObj.destroy(),homeObj.show()},qxcObj.show(!0)},homeObj.getData=function(){function a(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),homeObj.ajaxData=a.info,homeObj.ajaxSuccessFun(),ConfigObj.platForm,a.info.analysis_cate_id&&(ConfigObj.analysis_cate_id=a.info.analysis_cate_id)):$.alertMsg(a.code_str),homeObj.pullLoad&&homeObj.pullLoad.resetload()}var b={appKey:ConfigObj.appkey,version:ConfigObj.version,platForm:ConfigObj.platForm,zdid:ConfigObj.zdid},c={para:Global.encrypt(b)};Global.getDataPrefCache("?m=system.FrontPage.getnewconf",c,function(b){console.log(b),a(b)},function(b){a(b)},1)},homeObj.ajaxSuccessFun=function(){this.createBanner(),this.createLottery(),this.createNews(),homeObj.ajaxData.showActivity,this.saveLocalData()},homeObj.saveLocalData=function(a){if(localStorage.setItem(ConfigObj.appName+"_topNews",$("#home_scrollBox").html()),ConfigObj.lotteryAddPrize=homeObj.ajaxData.lotteryAddPrize,void 0==homeObj.ajaxData.lotteryAddPrize)return void(ConfigObj.lotteryAddPrize=!1);localStorage.setItem("lotteryAddPrize",JSON.stringify(homeObj.ajaxData.lotteryAddPrize))},homeObj.initLocalNews=function(){var a=localStorage.getItem(ConfigObj.appName+"_topNews");a&&($("#home_scrollBox").html(a),homeObj.initScroll());var b=localStorage.getItem(ConfigObj.appName+"_botNews");b&&$("#home_botNews").html(b)},homeObj.createNews=function(){if(homeObj.ajaxData.header_news_top6){for(var a="",b=homeObj.ajaxData.header_news_top6,c=0;c<b.length;c++)a+='<li><a href="javascript:void(0)"><span class="hot_1">热议</span>  '+b[c]+"</a></li>";$("#home_topNews").find("ul").html(a),b.length>2&&homeObj.initScroll()}if(homeObj.ajaxData.news_top6){for(var a="",b=homeObj.ajaxData.news_top6,c=0;c<b.length;c++){var d=b[c];a+='<a href="javascript:void(0)"><dl class="clearfix" data-t="detail" data-id="'+d.uuid+'"><dt><img src="'+d.thumb+'"></dt><dd><h3>'+d.title+'</h3><p class="gray font12">'+d.description+"</p></dd></dl></a>"}$("#home_botNews").html(a)}},homeObj.initScroll=function(){var a=this,b=$("#home_scrollBox").find("ul");2==b.length&&(this.marque&&clearInterval(homeObj.marque),$(b).css("margin-top",0),this.marque=setInterval(function(){a.scrollFun()},4e3))},homeObj.scrollFun=function(){var a=$("#home_scrollBox").find("ul").get(0),b=$("#home_scrollBox").find("ul").get(1),c=parseInt($(a).css("margin-top"),10);if(c<=-parseInt($(a).css("height"),10))$(a).css("margin-top",0),$(b).animate({"margin-top":"-22px"},500),$("#home_scrollBox").append(a);else{var d=c-22;$(a).animate({"margin-top":d},500)}},homeObj.createDomObj=function(){this.bannerImgObj=$("#home_bannerImgObj"),this.bannerDivObj=this.bannerImgObj.parent(),this.lotteryUlObj=$("#home_lotteryUlObj"),this.footObj=$("#home_footObj"),this.chartObj=$("#home_goChart"),this.bonusObj=$("#home_regnewBonus")},homeObj.createEvent=function(){$("#home_wrap").dropload({scrollArea:window,distance:200,loadUpFn:function(a){homeObj.pullLoad=a,homeObj.getData()}}),this.bannerDivObj.unbind("tap").tap(function(a){homeObj.bannerEvent(a)}),this.lotteryUlObj.unbind("tap").tap(function(a){homeObj.lotteryEvent(a)}),$("#home_botNews").unbind("tap").tap(function(a){homeObj.newsEvent(a)}),$("#regnewBonus_no").unbind("tap").tap(function(a){$("#home_regnewBonus").hide()}),$("#regnewBonus_img").unbind("tap").tap(function(a){homeObj.goregnewBonus(),$("#home_regnewBonus").hide()}),$("#regnewBonus_btn").unbind("tap").tap(function(a){homeObj.goRegister(),$("#home_regnewBonus").hide()}),this.footObj.unbind("tap").tap(function(a){homeObj.footEvent(a)}),this.chartObj.unbind("tap").tap(function(){homeObj.goChart()}),$("#home_scorePrize").unbind("tap").tap(function(){homeObj.goScorePrize()}),$("#home_moreLot").unbind("tap").tap(function(){homeObj.goLotteryList()}),$("#home_moreNews").unbind("tap").tap(function(){homeObj.goNews()}),$("#home_topNews").unbind("tap").tap(function(){homeObj.goTopNews()}),$("#home_act1").unbind("tap").tap(function(){homeObj.goRegister()}),$("#home_act2").unbind("tap").tap(function(){homeObj.goScoreAct()}),$("#home_imWrap").unbind("tap").tap(function(){homeObj.goIm()}),$("#home_wifiImg").unbind("tap").tap(function(){homeObj.connectWifi()}),$("#home_actReg").on("tap",function(){var a=homeObj.ajaxData.activity.Register.url,b=a.substring(a.indexOf("?")+1).split("&"),c={};b.forEach(function(a){var b=a.split("=");c[b[0]]=b[1]}),c.c_event_id&&(regsendBonusObj.goBack=function(){regsendBonusObj.destroy(),homeObj.show()},regsendBonusObj.show("",function(){regsendBonusObj.getData(c.c_event_id)}))}),$("#home_actInv").on("tap",function(){var a=homeObj.ajaxData.activity.Invitation.url,b=a.substring(a.indexOf("?")+1).split("&"),c={};b.forEach(function(a){var b=a.split("=");c[b[0]]=b[1]}),c.event_id&&(Global.bgColor=window.getComputedStyle(document.body).backgroundColor,invsendBonusObj.goBack=function(){document.body.style.backgroundColor=Global.bgColor,invsendBonusObj.destroy(),homeObj.show()},invsendBonusObj.show(!0,function(){document.body.style.backgroundColor="#f9ddb6",invsendBonusObj.getData(c.c_event_id,c.event_id)}))})},homeObj.connectWifi=function(){"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.scanWifi():"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.gotoWifi()},homeObj.goregnewBonus=function(){regnewBonusObj.goBack=function(){regnewBonusObj.destroy(),homeObj.show()},regnewBonusObj.show()},homeObj.goIm=function(){loginObj.isLogin?"android"==ConfigObj.platForm?"undefined"!=typeof android_obj&&android_obj.intentConversationlist():"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.chatClick(loginObj.access_token):(loginObj.goBack=function(){homeObj.show()},loginObj.goForward=function(){homeObj.show()},loginObj.show())},homeObj.goTopNews=function(){newsListObj.goBack=function(){newsListObj.destroy(),homeObj.show()},newsListObj.show("",function(){var a=homeObj.ajaxData.header_news_cate_id||-1;newsListObj.getData(a,"天天中彩头条")})},homeObj.goRegister=function(){registerObj.goBack=function(){userCenterObj.show()},registerObj.goForward=function(){userCenterObj.show()},loginObj.goBack=function(){userCenterObj.show()},loginObj.goForward=function(){userCenterObj.show()},registerObj.show(!0)},homeObj.goScoreAct=function(){scoreActObj.goBack=function(){scoreActObj.destroy(),homeObj.show()},scoreActObj.show("",function(){scoreActObj.getData()})},homeObj.goNews=function(){newsIdxObj.goBack=function(){newsIdxObj.destroy(),homeObj.show()},newsIdxObj.show()},homeObj.goLotteryList=function(){lotteryListObj.goBack=function(){lotteryListObj.destroy(),homeObj.show()},lotteryListObj.show("",function(){lotteryListObj.setData(homeObj.ajaxData.lottery)})},homeObj.goChart=function(){chartIdxObj.goBack=function(){Global.GC(),chartIdxObj.destroy(),homeObj.show()},chartIdxObj.show("reload")},homeObj.onloadExecution=function(){$("#home_appName").html(ConfigObj.appName),setTimeout(function(){loginObj.isLogin||$("#home_regnewBonus").show()},500),this.createDomObj(),this.getData(),this.createEvent(),this.createBannerHeight(),this.initLocalNews(),ConfigObj.platForm},homeObj.setDefConfig=function(){},homeObj.init=function(){homeObj.onloadExecution(),homeObj.setDefConfig()};var awardObj=new PageController({name:"award"});awardObj.show=function(a){if(this.showFlag){this.showFlag=!1;var b=this,c=Global.getActivePage(),d=$("#"+b.name);0===d.length||a?b.url&&$.post(b.url,function(a){d.length>0&&d.remove();var e='<div class="page" style="display:none" id="'+b.name+'">'+a+"</div>";$(document.body).append(e),Global.pageSwitch($("#"+b.name),$(c)),b.showFlag=!0,b.jsurl&&$.post(b.jsurl,function(a){var b=document.createElement("script");b.text=a,b.setAttribute("type","text/javascript"),document.body.appendChild(b)},"text")},"text"):(Global.pageSwitch($("#"+b.name),$(c)),b.showFlag=!0),Global.pv("award",{})}},awardObj.dirShow=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);awardObj.show(!0)};var invsendBonusObj=new PageController({name:"invsendBonus",tpl:"template/activity/invsendBonus.html"});invsendBonusObj.createDomObj=function(){this.wrapObj=$("#invsendBonus_wrapper")},invsendBonusObj.createEvent=function(){this.wrapObj.on("tap",function(a){var b=$.oto_checkEvent(a,"P");if(b)switch(b=$(b),b.attr("data-t")){case"back":this.goBack();break;case"share":this.share()}var c=$.oto_checkEvent(a,"A");if(c)switch(c=$(c),c.attr("data-t")){case"invite":this.invite();break;case"detail":this.goInvSendBonusDetail()}}.bind(this))},invsendBonusObj.share=function(a){Global.socialShare({domId:"invsendBonus",title:"新人有好礼，好友加入再送20元",content:"上天天中彩，领新人红包，中百万大奖，享美好人生",url:a?this.shareObj.url:this.shareObj.curl,imagePath:this.shareObj.imagePath})},invsendBonusObj.invite=function(){loginObj.isLogin?this.data.is_valid?this.share(1):($.alertMsg("红包已派完，您仍可邀请好友",!0),this.share(1)):($.alertMsg("请先登录"),invsendBonusObj.bgColor=window.getComputedStyle(document.body).backgroundColor,setTimeout(function(){loginObj.goBack=function(){loginObj.destroy(),document.body.style.backgroundColor=invsendBonusObj.bgColor,invsendBonusObj.show()},loginObj.goForward=function(){document.body.style.backgroundColor=invsendBonusObj.bgColor,invsendBonusObj.show()},document.body.style.backgroundColor=Global.bgColor,loginObj.show()},2e3))},invsendBonusObj.goInvSendBonusDetail=function(){loginObj.isLogin?(invsendBonusObj.bgColor=window.getComputedStyle(document.body).backgroundColor,invsendBonusDetailObj.goBack=function(){document.body.style.backgroundColor=invsendBonusObj.bgColor,invsendBonusDetailObj.destroy(),invsendBonusObj.show()},invsendBonusDetailObj.show(!0,function(){document.body.style.backgroundColor="#fff7ec",invsendBonusDetailObj.dirShow(invsendBonusObj.eid,invsendBonusObj.inviteUrl,invsendBonusObj.inviteIamgeUrl)})):($.alertMsg("请先登录"),invsendBonusObj.bgColor=window.getComputedStyle(document.body).backgroundColor,setTimeout(function(){loginObj.goBack=function(){loginObj.destroy(),document.body.style.backgroundColor=invsendBonusObj.bgColor,invsendBonusObj.show()},loginObj.goForward=function(){document.body.style.backgroundColor=invsendBonusObj.bgColor,invsendBonusObj.show()},document.body.style.backgroundColor=Global.bgColor,loginObj.show()},2e3))},invsendBonusObj.getData=function(a,b){var c={c_event_id:a,event_id:b},d=this;d.cid=a,d.eid=b;var e={para:Global.encrypt(c),access_token:loginObj.access_token};$.post(ConfigObj.localSite+"?m=user.activity.inviteSendBonus",e,function(a){"0000"==a.code&&(a.data_info=$.parseJSON(Global.crypt(a.data_info)),d.data=a.data_info,d.shareObj.url=a.data_info.share_info.share_url,d.shareObj.curl=a.data_info.share_info.share_c_url,d.shareObj.title=a.data_info.share_info.share_title,d.shareObj.content=a.data_info.share_info.share_text,d.shareObj.imagePath=a.data_info.share_info.share_pic_url,d.formatHtml(a.data_info))},"json")},invsendBonusObj.formatHtml=function(a){a.is_valid?$("#invsendBonus_datecontext").html("活动时间：<span>"+a.event_begindate+"至"+a.event_enddate+"</span>"):$("#invsendBonus_datecontext").html("来晚啦，活动已结束"),Number(a.bonus_count)&&$("#invsendBonus_receiveNum").append('<em class="dot">'+a.bonus_count+"</em>")},invsendBonusObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},invsendBonusObj.init=function(){this.onloadExecution(),this.setDefConfig()},invsendBonusObj.setDefConfig=function(){this.cid="",this.eid="",this.inviteUrl="",this.inviteIamgeUrl="",this.shareObj={}};var invsendBonusDetailObj=new PageController({name:"invsendBonusDetail",tpl:"template/activity/invsendBonusDetail.html"});invsendBonusDetailObj.createDomObj=function(){this.wrapObj=$("#invsendBonusDetail_wrapper"),this.tbodyObj=$("#invsendBonusDetail_tbody"),this.wrapObj[0].style.backgroundColor="#fff7ec"},invsendBonusDetailObj.createEvent=function(){this.wrapObj.on("tap",function(a){var b,c=$.oto_checkEvent(a,"P");if(c)switch(c=$(c),b=c.attr("data-t")){case"back":this.goBack();break;case"myBonus":this.goBonusRecord();break;case"invite":this.invite()}var d=$.oto_checkEvent(a,"LI");if(d){d=$(d),b=d.attr("data-t");var e=d.attr("data-v");switch(b){case"changeStatus":this.changeStatus(d,e)}}var f=$.oto_checkEvent(a,"A");if(f)switch(f=$(f),b=f.attr("data-t")){case"invite":this.invite();break;case"receive":this.goInvSendBonusDetail()}var g=$.oto_checkEvent(a,"DIV");if(g)switch(g=$(g),b=g.attr("data-t")){case"receive":this.receive(g.attr("data-eid"),g.attr("data-uid"))}var h=$.oto_checkEvent(a,"TD");if(h)switch(h=$(h),b=h.attr("data-t")){case"receive":this.receive(h.attr("data-eid"),h.attr("data-uid"))}}.bind(this)),window.onscroll=function(){if(0!==window.scrollY&&(this.scrollTop=window.scrollY),!this.checkPage)return!1;this.updatePage()}.bind(this);var a=invsendBonusDetailObj;$("#invsendBonusDetail_wrapper").dropload({scrollArea:window,distance:200,loadUpFn:function(b){a.getData(a.eid),a.changeStatus(a.curTab,a.status,!0),setTimeout(function(){b.resetload()},2e3)}})},invsendBonusDetailObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapObj.height()
;a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},invsendBonusDetailObj.changeStatus=function(a,b,c){this.curTab=a,a.hasClass("on")&&!c||(a.parent().find("li").removeClass("on"),a.addClass("on"),b=b||"",this.tbodyObj.empty(),this.page=1,this.status=b,this.getListData(this.eid,b))},invsendBonusDetailObj.goBonusRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;document.body.style.backgroundColor=Global.bgColor?Global.bgColor:"#f2f3f7",bonusRecordObj.goBack=function(){bonusRecordObj.destroy(),invsendBonusDetailObj.show()},bonusRecordObj.show()},invsendBonusDetailObj.receive=function(a,b){if(a&&b){var c=ConfigObj.localSite+"?m=user.activity.inviteReceive",d={event_id:a,invitee_uid:b,access_token:loginObj.access_token};$.post(c,d,function(b){"0000"==b.code?(this.dirShow(a,this.inviteUrl),$.alertMsg(b.code_str,!0)):$.alertMsg(b.code_str)}.bind(this),"json")}},invsendBonusDetailObj.share=function(){Global.socialShare({domId:"invsendBonusDetail",title:this.shareInfo.share_title,content:this.shareInfo.share_text,url:this.shareInfo.share_url,imagePath:this.shareInfo.share_pic_url})},invsendBonusDetailObj.invite=function(){this.share()},invsendBonusDetailObj.goInvSendBonusDetail=function(){},invsendBonusDetailObj.getData=function(a){var b={event_id:a,access_token:loginObj.access_token};$.post(ConfigObj.localSite+"?m=user.activity.inviteManagement",b,function(a){"0000"==a.code&&(a.data_info.share_info&&(this.shareInfo=a.data_info.share_info),this.formatPageHtml(a.data_info))}.bind(this),"json")},invsendBonusDetailObj.getListData=function(a,b){var c={event_id:a,status:b||"",page:this.page,pageSize:this.pageSize,access_token:loginObj.access_token},d=this;this.page>this.maxPage||$.post(ConfigObj.localSite+"?m=user.activity.getInfoByInviter",c,function(a){a.data_info.status==this.status&&"0000"==a.code&&(this.maxPage=Math.ceil(a.data_info.count/this.pageSize),0==this.maxPage&&(this.maxPage=1),d.formatIvTableHtml(b,a.data_info),this.page==this.maxPage&&0!==Number(a.data_info.count)&&this.tbodyObj.append('<tr><td colspan="6"><p class="all-text gray">已显示全部</p></td></tr>'))}.bind(this),"json")},invsendBonusDetailObj.formatPageHtml=function(a){if(Number(a.betting_count)<1){$("#invsendBonusDetail_top").addClass("iv-none");$("#invsendBonusDetail_bubble").html('<div class="center iv-slogan"><p class="iv-none-txt"><img src="images/activity/iv-none-txt.png"></p><p class="mb15">邀请大家一起领红包！</p><p data-t="invite"><a href="#" class="iv-btn iv-icon">立即邀请</a></p></div>'),$("#invsendBonusDetail_num").html("可领取")}else{var b=a.betting_info.count,c=a.betting_info.info;if(Number(b)){$("#invsendBonusDetail_num").append('<em class="dot">'+b+"</em>");var d=[[130,100],[60,120],[50,20]],e=[];c.forEach(function(a,b){var c='<div class="bubble-item" style="top: '+d[b][0]+"px; left: "+d[b][1]+'px;"><div class="bubble iv-icon"><div class="vcenter" data-t="receive" data-eid="'+a.activity_id+'" data-uid="'+a.invitee_uid+'"><span class="vcenter-child">'+a.invitee_name+'</span></div></div><span class="txt">可领取</span></div>';e.push(c)}),$("#invsendBonusDetail_bubble").html(e.join(""))}}},invsendBonusDetailObj.formatIvTableHtml=function(a,b){var c={betting:"可领取",receive:"已领取",expired:"已过期"},d=a?c[a]:"已邀请";if(this.status=a,$("#invsendBonusDetail_inviteNum").html(d+b.count+"个"),1==this.page&&0==Number(b.count))return void this.tbodyObj.append('<tr><td colspan="6"><p class="no-text gray">暂无记录</p></td></tr>');var e=[];b.info.forEach(function(a,b){var c=["register","recharge","betting","receive","expired"],d=c.indexOf(a.status)+1,f="<td>"+(b+1)+"</td>",g="<td>"+a.invitee_name+"</td>",h="<td><em>"+(d>0?"√":"×")+"</em></td>",i="<td><em>"+(d>1?"√":"×")+"</em></td>",j="<td><em>"+(d>2?"√":"×")+"</em></td>",k="<td><em>×</em></td>";3==d?k='<td data-t="receive" data-eid="'+a.activity_id+'" data-uid="'+a.invitee_uid+'"><em><span>可领</span><span class="font10 gray">30日内有效</span> <i class="iv-hand iv-icon"></i></em></td>':4==d?k="<td><em>√</em></td>":5==d&&(k='<td><em><span class="gray">过期</span></em></td>'),e.push("<tr>"+f+g+h+i+j+k+"</tr>")}),1==b.page?this.tbodyObj.html(e.join("")):this.tbodyObj.append(e.join(""))},invsendBonusDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},invsendBonusDetailObj.init=function(){this.onloadExecution()},invsendBonusDetailObj.setConfigData=function(a){this.eid=a.eid?a.eid:"",this.inviteUrl=a.inviteUrl,this.status=a.status?a.status:"",this.curTab="",this.checkPage=!0,this.clientHeight=document.documentElement.clientHeight,this.page=1,this.pageSize=20,this.maxPage=1},invsendBonusDetailObj.dirShow=function(a,b,c,d){this.setConfigData({eid:a,inviteUrl:b,inviteIamgeUrl:c,status:d}),this.getData(a),this.changeStatus($("#invsendBonusDetail_statusA"))};var redBagObj=new PageController({name:"redBag",tpl:"template/activity/redBag.html",initScrollTop:!0});redBagObj.createDomObj=function(){this.activeObj=$("#redBag_activeObj"),this.getObj=$("#redBag_getObj"),this.succObj=$("#redBag_succObj"),this.backBtn=$("#redBag_back"),this.wrapCObj=$("#redBag_wrapC"),this.wrapTotal=$("#redBag_wrapTotal")},redBagObj.createEvent=function(){$("#redBag_share").unbind("tap").tap(function(){var a={url:ConfigObj.touchWebSite+"activity/info/"+redBagObj.id+"?sharefrom=app",domId:"redBag"};Global.socialShare(a)}),$("#redBag_close").unbind("tap").tap(function(){redBagObj.switchPanel(),$("#redBag_shareWrap").hide()}),this.backBtn.unbind("tap").tap(function(){redBagObj.goBack()}),this.wrapTotal.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b);switch(c.attr("data-t")){case"get":return redBagObj.getAjax(),!0;case"url":return redBagObj.hrefUrl(c),!0;case"use":return redBagObj.goHome(c),!0;case"stationUse":return redBagObj.showUseTip(c),!0;case"target":return redBagObj.goTarget(c),!0}}})},redBagObj.hrefUrl=function(a){var b=this;switch(a.attr("data-v")){case"record":if(a.hasClass("disabled"))return;bonusRecordObj.goBack=function(){bonusRecordObj.destroy(),b.show()},bonusRecordObj.show();break;case"home":Global.GC(),homeObj.show()}},redBagObj.getData=function(a,b){this.id=a,this.from=b;var c="?m=user.activity.info";"record"===b&&(c="?m=user.record.bonusDetail");var d={access_token:loginObj.access_token,id:a},e=this;$.ajax({url:ConfigObj.localSite+c,data:d,type:"post",dataType:"json",success:function(a){"0000"==a.code?(e.formatHtmlA(a.info.event),e.formatHtmlB(a.info.event),e.formatHtmlC(a.info.bonus_detail),e.toggleBottom(a.info.event),"yes"==a.type?($("#redBag_get").css("background","gray"),$("#redBag_get").css("color","#fff"),$("#redBag_get").text("已领取")):($("#redBag_get").css("background","#fcdd52"),$("#redBag_get").css("color","#333"),$("#redBag_get").text("立即领取")),redBagObj.flag&&(loginObj.goBack=function(){homeObj.show()},stationDetailObj.goBack=function(){Global.GC(),homeObj.show()})):$.alertMsg(a.code_str)}})},redBagObj.formatHtmlA=function(a){var b="";"N"==a.is_enable?"【已结束】":2==a.time_status||0==a.time_status&&"【已结束】",b+='<div class="act_li"><div class="act_bg" id="act_bg"><div class="act_inbg clearfix" id="act_inbg"><div class="act_money fl"><p>¥</p><span>'+a.single_bagmoney+'</span></div><div class="act_content fl"><h4>'+a.rule_title+"</h4><p>"+a.bonus_conditions_text.amount+"</p><span>活动时间："+a.begin_time.substr(0,10)+"至"+a.end_time.substr(0,10)+'</span></div></div><div class="act_pt"><p>平台</br>通用</p></div></div></div>',$("#redBag_wrapA").html(b)},redBagObj.formatHtmlB=function(a){var b="";b+='<h2 class="font16"　>红包规则</h2><div class="rules-txt" ><b class="dot">·</b> 有效时间：'+a.bonus_conditions_text.datetime+'<br/><b class="dot">·</b> 领取用户：'+a.bonus_property_text+'<br/><b class="dot">·</b> 彩种限制：购买'+a.bonus_conditions_text.lottery+'可用<br/><b class="dot">·</b> 订单金额：'+a.bonus_conditions_text.amount+'<br/><b class="dot">·</b> 使用次数：'+a.bonus_conditions_text.times+'<br/><b class="dot">·</b> 红包描述：'+a.bonus_content+"<br/></div>",$("#redBag_wrapB").html(b),$("#redBag_wrapB").get(0).className="hbrule coup-"+a.bonus_scene,"yes"==a.attended?$("#redBag_get").text("已领取").addClass("got"):0==a.time_status||2==a.time_status?($("#redBag_get").text("立即领取").addClass("got"),0==a.time_status&&$("#redBag_wrapB").addClass("disable_rb")):$("#redBag_get").text("立即领取").removeClass("got")},redBagObj.formatHtmlC=function(a){if(void 0==this.from)return $("#redBag_Record").hide(),!1;if(a.info.length){var b='<tr><th width="30%">时间</th><th width="22%">使用金额</th><th width="22%">退回金额</th><th>状态</th></tr>';a.info.forEach(function(a){b+="<tr><td>"+a.create_time+"</td><td>"+a.coin_out+"</td><td>"+a.coin_in+'</td><td><a  data-t="target" data-type="'+a.target_type+'" data-id="'+a.target_id+'">成功<em class="r-arrow"></em></a></td></tr>'}),c='<table cellpadding="0" cellspacing="0" border="0" width="100%" class="center"><tbody>'+b+"</tbody></table>"}else var c='<p class="gray norecord">暂无使用记录</p>';$("#redBag_useRecord").html(c)},redBagObj.getAjax=function(){if($("#redBag_get").hasClass("got"))return!1;if(!loginObj.isLogin){loginObj.goBack=function(){redBagObj.show()};var a=redBagObj.id,b=redBagObj.from;return loginObj.goForward=function(){redBagObj.show("reload",function(){redBagObj.flag=!0,redBagObj.getData(a,b)})},$.alertMsg("请先登录",!1),void loginObj.show()}var c={id:redBagObj.id,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.receive",data:c,type:"post",dataType:"json",success:function(a){"0000"==a.code?($.alertMsg(a.code_str,!0),$("#redBag_get").addClass("got")):$.alertMsg(a.code_str)}})},redBagObj.toggleBottom=function(a){if("record"==this.from){var b="";if(b+='<span class="first gray">还剩<em class="fontred">'+a.use_money+"元</em></span>","yes"==a.get_bonus_status&&Number(a.use_money)>0?(b+="<a>&nbsp;</a>",b+='<a data-t="use" href="javascript:void(0)" class="act-btn fr">立即使用</a>'):(b+="<a>&nbsp;</a>",b+='<a data-t="use" href="javascript:void(0)" class="disabled fr">立即使用</a>'),a.bonus_type&&"QRCode"==a.bonus_type){var c='<img src="'+a.QrCode+'" />';$("#redBag_stationTip").find("p").html(c)}else if(a.key_code){var c="";c+='<span class="mr10">序列号:'+a.key_code.key+"</span><span>验证码:"+a.key_code.code+"</span>",$("#redBag_stationTip").find("p").html(c)}$("#redBag_wrapD").html(b),$("#redBag_wrapC").hide(),$("#redBag_wrapD").show()}else $("#redBag_wrapC").show(),$("#redBag_wrapD").hide();loginObj.isLogin?$("#redBag_my").removeClass("disabled"):$("#redBag_my").addClass("disabled")},redBagObj.goHome=function(a){a.hasClass("disabled")||(Global.GC(),homeObj.show())},redBagObj.goTarget=function(a){var b=a.attr("data-type").toLowerCase(),c=a.attr("data-id");redBagObj.id;switch(b){case"plan":planDetailObj.goBack=function(){redBagObj.show(),planDetailObj.destroy()},planDetailObj.show("reload",function(){planDetailObj.getData(c)});break;case"project":projectDetailObj.goBack=function(){redBagObj.show(),projectDetailObj.destroy()},projectDetailObj.show("reload",function(){projectDetailObj.getData(c)})}},redBagObj.showUseTip=function(a){a.hasClass("disabled")||("none"==$("#redBag_stationTip").css("display")?($("#redBag_stationTip").show(),redBagObj.addBgLayer($("#redBag_stationTip"))):($("#redBag_stationTip").hide(),redBagObj.removeBgLayer(),redBagObj.switchPanel()))},redBagObj.addBgLayer=function(a){0==$("#redBag_bgLayer").length&&($("#redBag").append('<div style="width:100%;height:100%;background:transparent;position:absolute;left:0;top:0;z-index:99" id="redBag_bgLayer"></div>'),$("#redBag_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#redBag_bgLayer").unbind("tap").tap(function(){a.hide(),$("#redBag_bgLayer").remove()}))},redBagObj.removeBgLayer=function(){$("#redBag_bgLayer").remove()},redBagObj.switchPanel=function(){"record"==redBagObj.from?($("#redBag_wrapC").hide(),$("#redBag_wrapD").show()):($("#redBag_wrapC").show(),$("#redBag_wrapD").hide())},redBagObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},redBagObj.init=function(){redBagObj.setDefConfig(),redBagObj.onloadExecution()},redBagObj.setDefConfig=function(){this.id="",this.from="",this.flag=!1},redBagObj.dirShow=function(a){var b=this;b.show(!0,function(){b.getData(a.id,"record")})},redBagObj.goBack=function(){this.popRoute()},redBagObj.destroy=function(){this.setDefConfig(),$("#redBag").html("").remove(),this.routeArr=[]};var regnewBonusObj=new PageController({name:"regnewBonus",tpl:"template/activity/regnewBonus.html"});regnewBonusObj.createDomObj=function(){this.backBtn=$("#regnewBonus_backbtn"),this.shareObj=$("#regnewBonus_shareObj")},regnewBonusObj.createEvent=function(){$("#regnewBonus_act").unbind("tap").tap(function(a){regnewBonusObj.getReg()}),$("#regnewBonus_backbtn").tap(function(){regnewBonusObj.goBack()}),$("#regnewBonus_shareObj").tap(function(){regnewBonusObj.share()})},regnewBonusObj.share=function(){Global.socialShare({domId:"regnewBonus",title:"新人礼688元红包免费领",content:"上天天中彩，领新人红包，中百万大奖，享美好人生",url:"",imagePath:""})},regnewBonusObj.getReg=function(){if(!loginObj.isLogin)return $.alertMsg("请注册后领取红包"),void setTimeout(function(){registerObj.goBack=function(){userCenterObj.show()},registerObj.show()},2e3);if(""==loginObj.userInfo.mobile)return $.alertMsg("请绑定手机后领取红包"),void setTimeout(function(){bindPhoneObj.goBack=function(){userCenterObj.show()},bindPhoneObj.show()},2e3);var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.activityInfo",data:a,type:"post",dataType:"json",success:function(a){$.alertMsg(a.code_str,!0),setTimeout(function(){Global.GC(),homeObj.show()},2e3)}})},regnewBonusObj.onloadExecution=function(){this.createEvent(),this.createDomObj()},regnewBonusObj.init=function(){regnewBonusObj.onloadExecution()};var regsendBonusObj=new PageController({name:"regsendBonus",tpl:"template/activity/regsendBonus.html"});regsendBonusObj.createDomObj=function(){this.activeObj=$("#regsendBonus_activeObj"),this.getObj=$("#regsendBonus_getObj"),this.succObj=$("#regsendBonus_succObj"),this.backBtn=$("#regsendBonus_backbtn"),this.shareObj=$("#regsendBonus_shareObj")},regsendBonusObj.createEvent=function(){this.backBtn.unbind("tap").tap(function(){regsendBonusObj.goBack()}),this.shareObj.on("tap",function(){regsendBonusObj.share()}),this.activeObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b);switch(c.attr("data-t")){case"gethb":return regsendBonusObj.getAjax(),!0;case"href":return regsendBonusObj.hrefUrl(c),!0;case"mybonus":return regsendBonusObj.goBonusRecord(),!0}}})},regsendBonusObj.goBonusRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;document.body.style.backgroundColor=Global.bgColor?Global.bgColor:"#f2f3f7",bonusRecordObj.goBack=function(){bonusRecordObj.destroy(),regsendBonusObj.show()},bonusRecordObj.show()},regsendBonusObj.hrefUrl=function(a){var b=this;switch(a.attr("data-h")){case"record":bonusRecordObj.goBack=function(){bonusRecordObj.destroy(),b.show()},bonusRecordObj.show();break;case"home":Global.GC(),homeObj.show()}},regsendBonusObj.share=function(){Global.socialShare({domId:"regsendBonus",title:"新人礼3元红包免费领",content:"上天天中彩，领新人红包，中百万大奖，享美好人生",url:this.shareObj.url,imagePath:this.shareObj.imagePath})},regsendBonusObj.getData=function(a){var b={c_event_id:a},c=this;c.id=a;var d={para:Global.encrypt(b),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.regSendBonus",data:d,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.data_info=$.parseJSON(Global.crypt(a.data_info)),c.shareObj={},c.shareObj.url=a.data_info.share_info.share_url,c.shareObj.title=a.data_info.share_info.share_title,c.shareObj.content=a.data_info.share_info.share_text,c.shareObj.imagePath=a.data_info.share_info.share_pic_url,c.formatHtml(a.data_info)):($.alertMsg(a.code_str),c.getObj.show(),c.succObj.hide())}})},regsendBonusObj.formatHtml=function(a){a.is_valid?($("#regsendBonus_date").html("活动时间："+(a.event_begindate||"2017.04.01")+"至"+a.event_enddate),$("#regsendBonus_act").attr("data-t","gethb").html("立即领取")):($("#regsendBonus_date").html("来晚啦，活动已结束"),$("#regsendBonus_act").attr("data-t","mybonus").html("我的红包")),$("#regsendBonus_rules").html(a.rule.Register)},regsendBonusObj.getAjax=function(){if(!loginObj.isLogin){var a=regsendBonusObj.id;return registerObj.goBack=function(){regsendBonusObj.show(!0,function(){regsendBonusObj.getData(a)})},$.alertMsg("请注册后领取红包"),void registerObj.show()}if(""==loginObj.userInfo.mobile){var a=regsendBonusObj.id;return bindPhoneObj.goBack=function(){regsendBonusObj.show(!0,function(){regsendBonusObj.getData(a)})},$.alertMsg("请绑定手机后领取红包"),void bindPhoneObj.show()}if(this.checkAjax)return!1;this.checkAjax=!0;var b={c_event_id:regsendBonusObj.id},c={para:Global.encrypt(b),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.regReceive",data:c,type:"post",dataType:"json",success:function(a){if("0000"==a.code)return $.alertMsg("您已成功领取红包",!0),setTimeout(function(){Global.GC(),homeObj.show()},2e3),!1;"-1007"==a.code?($.alertMsg(a.code_str),regsendBonusObj.checkAjax=!1,setTimeout(function(){Global.GC(),userCenterObj.show("reload")},2e3)):($.alertMsg(a.code_str),regsendBonusObj.checkAjax=!1)}})},regsendBonusObj.getSucc=function(){this.getObj.hide(),this.succObj.show()},regsendBonusObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},regsendBonusObj.init=function(){regsendBonusObj.setDefConfig(),regsendBonusObj.onloadExecution()},regsendBonusObj.setDefConfig=function(){this.checkAjax=!1,this.id="",this.shareImgUrl=""},regsendBonusObj.dirShow=function(a){var b=this;b.show("reload",function(){b.id=a&&a.id?a.id:"",b.getData(b.id)})};var scoreActObj=new PageController({name:"scoreAct",tpl:"template/activity/scoreAct.html"});scoreActObj.createDomObj=function(){this.wrapperObj=$("#scoreAct_wrapperObj")},scoreActObj.createEvent=function(){var a=this;this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){switch($(b).attr("data-t")){case"back":return scoreActObj.goBack(),!0}}}),$("#scoreAct_reg").unbind("tap").tap(function(){a.checkRegScore($("#scoreAct_reg"))}),$("#scoreAct_real").unbind("tap").tap(function(){a.checkRealScore($("#scoreAct_real"))}),$("#scoreAct_login").unbind("tap").tap(function(){a.checkLoginScore($("#scoreAct_login"))}),$("#scoreAct_share").unbind("tap").tap(function(){a.goScorePrize()})},scoreActObj.goScorePrize=function(){scorePrizeObj.goBack=function(){scorePrizeObj.destroy(),scoreActObj.show()},scorePrizeObj.show("",function(){scorePrizeObj.getData(-1)})},scoreActObj.goLogin=function(){loginObj.goForward=function(){setTimeout(function(){scoreActObj.show("reload",function(){scoreActObj.getData()})},1200)},loginObj.goBack=function(){scoreActObj.show()},loginObj.show()},scoreActObj.checkRegScore=function(a){if(loginObj.isLogin){"已领取"!=a.attr("data-status")&&loginObj.addScore("register","",function(){scoreActObj.getData()})}else scoreActObj.goLogin()},scoreActObj.checkRealScore=function(a){if(loginObj.isLogin){"已领取"!=a.attr("data-status")&&(loginObj.userInfo&&"N"==loginObj.userInfo.real_status?(regRealNameObj.goBack=function(){regRealNameObj.destroy(),scoreActObj.show()},regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"scoreAct"};regRealNameObj.setData(a)})):loginObj.userInfo&&"Y"==loginObj.userInfo.real_status&&loginObj.addScore("real","",function(){scoreActObj.getData()}))}else scoreActObj.goLogin()},scoreActObj.checkLoginScore=function(a){if(loginObj.isLogin){var b=a.attr("data-status"),c=a.attr("data-subSts");if("已领取"!=b)if(c){$.alertMsg("注册首日不赠送登录积分")}else loginObj.addScore("login","",function(){scoreActObj.getData()})}else scoreActObj.goLogin()},scoreActObj.getData=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Activity.scoreList",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?($("#scoreAct_content").show(),$("#scoreAct_load").hide(),scoreActObj.formatHtml(a.info)):($("#scoreAct_content").show(),$("#scoreAct_load").hide())}})},scoreActObj.formatHtml=function(a){$("#scoreAct_reg").attr("data-status",a.register.status),$("#scoreAct_reg").find("span[data-t=coin]").html(a.register.coin+"积分"),$("#scoreAct_reg").find("span[data-t=desc]").html(a.register.desc),$("#scoreAct_reg").find("a[data-t=status]").html(a.register.status),"已领取"==a.register.status?$("#scoreAct_reg").find("a[data-t=status]").addClass("over"):$("#scoreAct_reg").find("a[data-t=status]").removeClass("over"),$("#scoreAct_real").attr("data-status",a.perfectInfo.status),$("#scoreAct_real").find("span[data-t=coin]").html(a.perfectInfo.coin+"积分"),$("#scoreAct_real").find("span[data-t=desc]").html(a.perfectInfo.desc),$("#scoreAct_real").find("a[data-t=status]").html(a.perfectInfo.status),"已领取"==a.perfectInfo.status?$("#scoreAct_real").find("a[data-t=status]").addClass("over"):$("#scoreAct_real").find("a[data-t=status]").removeClass("over"),$("#scoreAct_login").attr("data-status",a.everydayLogin.status),$("#scoreAct_login").attr("data-subSts",a.everydayLogin.false_status),$("#scoreAct_login").find("span[data-t=coin]").html(a.everydayLogin.coin+"积分"),$("#scoreAct_login").find("span[data-t=desc]").html(a.everydayLogin.desc),$("#scoreAct_login").find("a[data-t=status]").html(a.everydayLogin.status),"已领取"==a.everydayLogin.status?$("#scoreAct_login").find("a[data-t=status]").addClass("over"):$("#scoreAct_login").find("a[data-t=status]").removeClass("over"),$("#scoreAct_7dayslogin").find("span[data-t=coin]").html(a.login7.coin+"积分"),$("#scoreAct_7dayslogin").find("span[data-t=desc]").html(a.login7.desc),$("#scoreAct_7dayslogin").find("a[data-t=status]").html(a.login7.status),"已领取"==a.login7.status?($("#scoreAct_7dayslogin").find("a[data-t=status]").removeClass("ongoing"),$("#scoreAct_7dayslogin").find("a[data-t=status]").addClass("over")):($("#scoreAct_7dayslogin").find("a[data-t=status]").removeClass("over"),$("#scoreAct_7dayslogin").find("a[data-t=status]").addClass("ongoing")),$("#scoreAct_share").find("span[data-t=coin]").html(a.share.coin+"积分"),$("#scoreAct_share").find("span[data-t=desc]").html(a.share.desc),$("#scoreAct_share").find("a[data-t=status]").html(a.share.status)},scoreActObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},scoreActObj.init=function(){scoreActObj.onloadExecution()},scoreActObj.goBack=function(){},scoreActObj.dirShow=function(){scoreActObj.show()};var scorePrizeObj=new PageController({name:"scorePrize",tpl:"template/activity/scorePrize.html"});scorePrizeObj.createDomObj=function(){this.wrapperObj=$("#scorePrize_wrapperObj")},scorePrizeObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return scorePrizeObj.goBack(),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"start":return scorePrizeObj.checkLogin(),!0;case"closeTip":return $("#scorePrize_alertTip").html("").hide(),!0;case"sendPrize":return scorePrizeObj.goSendPrize(c),!0;case"myPrize":return scorePrizeObj.goScorePrizeRecord(),!0;case"share":return scorePrizeObj.share(),!0;case"sharePrize":return scorePrizeObj.sharePrize(),!0}}})},scorePrizeObj.goScorePrizeRecord=function(){loginObj.isLogin?(scorePrizeRecordObj.goBack=function(){scorePrizeRecordObj.destroy(),scorePrizeObj.show()},scorePrizeRecordObj.show()):($.alertMsg("请先登录"),loginObj.goForward=function(){scorePrizeObj.show("reload",function(){scorePrizeObj.getData(-1)})},loginObj.goBack=function(){scorePrizeObj.show()},loginObj.show())},scorePrizeObj.share=function(){var a={content:"套路少一点，真诚多一点，现在注册就送抽奖积分，快来试试手气吧！ ",title:"幸运大转盘，好礼送不断。",imagePath:ConfigObj.touchWebSite+"Public/images/luckydraw_1.png",domId:"scorePrize"};Global.socialShare(a)},scorePrizeObj.sharePrize=function(){var a={content:"我在广东体彩云客户端参加积分抽奖中奖啦，小伙伴们速速来围观! ",title:"幸运大转盘，我中奖啦！",imagePath:ConfigObj.touchWebSite+"Public/images/luckydraw_1.png",domId:"scorePrize"};Global.socialShare(a)},scorePrizeObj.goSendPrize=function(a){var b=this;$("#scorePrize_alertTip").hide();var c=b.prizeInfo;sendPrizeObj.goBack=function(){sendPrizeObj.destroy(),b.show()},sendPrizeObj.show("",function(){sendPrizeObj.getData(c)})},scorePrizeObj.getData=function(a){var b=this;b.id=a,$.ajax({url:ConfigObj.localSite+"?m=user.activity.luckyDrawInfo",data:{id:a,access_token:loginObj.access_token},dataType:"json",type:"post",success:function(a){scorePrizeObj.hideLoading(),"0000"==a.code?(b.id=a.info.activeId,b.info=a.info,b.chance=a.info.chance,b.formatHtml(a.info,!0),$("#scorePrize_share").show()):($.alertMsg(a.code_str),$("#scorePrize_share").hide())},failure:function(){scorePrizeObj.hideLoading()}})},scorePrizeObj.formatHtml=function(a,b){if(loginObj.isLogin?($("#scorePrize_chance").html(a.chance+"次机会").show(),$("#scorePrize_title").addClass("multirow")):($("#scorePrize_chance").hide(),$("#scorePrize_title").removeClass("multirow")),b&&a.prizeLevel){for(var c="",d=0;d<a.prizeLevel.length;d++){var e=a.prizeLevel[d];c+='<p class="g-pos g'+(d+1)+'">',"0"==e.prizeName?c+="<em>"+e.prizeLevelText+"</em>":c+="<span>"+e.prizeLevelText+"</span><span>"+e.prizeName+("实物"!=e.prizeTypeText?e.prizeTypeText:"")+"</span>",c+="</p>"}$("#scorePrize_circle").html(c)}if(a.rule&&($("#scorePrize_rules").html(a.rule),"ios"==ConfigObj.platForm&&$("#scorePrize_rules").append("<p>本次活动由天天中彩发起，与苹果公司(apple.com)无关</p>")),a.recentPrizeList&&a.recentPrizeList.length){for(var c="",f=a.recentPrizeList,d=0;d<f.length;d++)c+="<li>"+f[d]+"</li>";$("#scorePrize_list1").html(c),f.length>=3&&setTimeout(function(){scorePrizeObj.initScroll()},1500)}},scorePrizeObj.initScroll=function(){var a=this;this.box=document.getElementById("scorePrize_box"),this.list1=document.getElementById("scorePrize_list1"),this.list2=document.getElementById("scorePrize_list2"),this.list1&&this.list2&&(this.list2.innerHTML=this.list1.innerHTML,this.marque&&clearInterval(scorePrizeObj.marque),this.marque=setInterval(function(){a.scrollFun()},a.speed))},scorePrizeObj.scrollFun=function(){this.list2.offsetTop-this.box.scrollTop<=24?this.box.scrollTop-=this.list1.offsetHeight:this.box.scrollTop+=1},scorePrizeObj.checkLogin=function(){var a=this;loginObj.isLogin?(a.startFun(),$("#scorePrize_btn").addClass("disabled")):($.alertMsg("请先登录"),loginObj.goForward=function(){a.show("reload",function(){a.getData(-1)})},loginObj.goBack=function(){a.show()},loginObj.show())},scorePrizeObj.hideLoading=function(){$("#scorePrize_loading").hide(),$("#scorePrize_content").show()},scorePrizeObj.startFun=function(){var a=this;if($("#scorePrize_btn").hasClass("disabled"))return!1;$.ajax({url:ConfigObj.localSite+"?m=user.activity.luckyDrawJoin",data:{id:a.id,access_token:loginObj.access_token},dataType:"json",type:"post",success:function(b){"0000"==b.code?(a.chance=b.info.chance,a.prizeInfo=b.info,a.rotate(b.info.prizeLevel),a.rotNum+=1,setTimeout(function(){$("#scorePrize_btn").removeClass("disabled"),$("#scorePrize_chance").html(b.info.chance+"次机会").show(),6==b.info.prizeLevel&&0==b.info.win?a.showFailTip(b.info):a.showSucTip(b.info),a.formatHtml(b.info)},6700)):($("#scorePrize_btn").removeClass("disabled"),"-1002"==b.code?a.showErrorTip("积分余额不足"):"-1013"==b.code?a.showErrorTip("抽奖活动已经结束"):$.alertMsg(b.code_str))}})},scorePrizeObj.showSucTip=function(a){var b="";b="score"!=a.prizeType?'<div class="coupon-box mb10"><span class="cop1">'+a.prizeLevelText+'</span><span class="cop2">'+a.prizeName+'</span></div><p class="gray mb10 font12">已放入【我的奖品】</p><a href="javascript:void(0);" class="btn btn_big sm" data-t="sendPrize" data-prizeid="'+a.prizeid+'" data-getprizeid="'+a.getprizeid+'" data-status="'+a.status+'">马上领取</a>':'<div class="coupon-box mb30"><span class="cop1">'+a.prizeLevelText+'</span><span class="cop2">'+a.prizeName+a.prizeTypeText+'</span></div><a href="javascript:void(0);" class="btn btn_big sm" data-t="sharePrize">晒中奖</a>';var c='<div class="tckwrap"><div class="tckbox winbox"><a href="javascript:void(0)" data-t="closeTip"><span class="close">×</span></a><div class="tit"><p>中奖啦 !</p></div><div class="tckcon center">'+b;$("#scorePrize_alertTip").html(c).show()},scorePrizeObj.showFailTip=function(){$("#scorePrize_alertTip").html('<div class="tckwrap"><div class="tckbox winbox"><a href="javascript:void(0)" data-t="closeTip"><span class="close">×</span></a><div class="tit"><p>未中奖 !</p></div><div class="tckcon center"><span class="sad-img"></span><p class="sad-txt">谢谢参与</p></div></div></div>').show()},scorePrizeObj.showErrorTip=function(a){var b="";b='<div class="tckwrap"><div class="tckbox"><a href="javascript:void(0)" data-t="closeTip"><span class="close">×</span></a><div class="tckcon center"><p>'+a+'</p><div class="waybox font12"><p class="tit">赚取积分方法：</p><p>1、每天登录APP奖励积分<br />2、连续7天登录会额外奖励积分<br />3、分享活动页面奖励积分</p></div><a href="javascript:void(0);" class="btn btn_big sm" data-t="closeTip">知道啦</a></div></div></div>',$("#scorePrize_alertTip").html(b).show()},scorePrizeObj.rotate=function(a){void 0===a&&(a=6);var b=this,c=b.getAngles(a),d="rotate("+c+"deg)";$("#scorePrize_circle").css("-o-transform",d),$("#scorePrize_circle").css("-moz-transform",d),$("#scorePrize_circle").css("-webkit-transform",d),$("#scorePrize_circle").css("transform",d)},scorePrizeObj.getAngles=function(a){var b=this,c=2160;return 1==a?c=2160*b.rotNum+1800:6==a?c=2160*b.rotNum+1860:5==a?c=2160*b.rotNum+1920:4==a?c=2160*b.rotNum+1980:3==a?c=2160*b.rotNum+2040:2==a&&(c=2160*b.rotNum+2100),c},scorePrizeObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent()},scorePrizeObj.init=function(){scorePrizeObj.onloadExecution()},scorePrizeObj.goBack=function(){},scorePrizeObj.setDefConfig=function(){this.id="",this.info="",this.chance=0,this.prizeInfo={},this.rotNum=0,this.marque&&clearInterval(scorePrizeObj.marque),this.marque="",this.speed=80},scorePrizeObj.dirShow=function(a){var b=this;b.show("reload",function(){b.getData(a.id)})};var sendPrizeObj=new PageController({name:"sendPrize",tpl:"template/activity/sendPrize.html"});sendPrizeObj.createDomObj=function(){this.wrapperObj=$("#sendPrize_wrapperObj")},sendPrizeObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return sendPrizeObj.goBack(),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"check":return sendPrizeObj.checkFun(),!0;case"cancel":return $("#sendPrize_confirmTip").hide(),!0;case"commit":return sendPrizeObj.sendFun(),!0;case"share":return sendPrizeObj.share(),!0;case"continue":return sendPrizeObj.continueFun(),!0}}}),$("#sendPrize_get").unbind("tap").tap(function(){$("#sendPrize_info").show()}),$("#sendPrize_info").unbind("tap").tap(function(){$("#sendPrize_info").hide()})},sendPrizeObj.continueFun=function(){Global.GC(),scorePrizeObj.goBack=function(){scorePrizeObj.destroy(),homeObj.show()},scorePrizeObj.show("",function(){scorePrizeObj.getData(-1)})},sendPrizeObj.share=function(){var a={domId:"sendPrize"};Global.socialShare(a)},sendPrizeObj.sendFun=function(){$("#sendPrize_confirmTip").hide();var a=this,b={getprizeid:a.getprizeid,prizeid:a.prizeid,realName:$("#sendPrize_username").val(),mobile:$("#sendPrize_phone").val(),address:$("#sendPrize_address").val(),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.addContactInfo",data:b,dataType:"json",type:"post",success:function(a){"0000"==a.code?($("#sendPrize_notGet").hide(),sendPrizeObj.getSendStatus()):$.alertMsg(a.code_str)}})},sendPrizeObj.checkFun=function(){return""==$("#sendPrize_username").val()?($.alertMsg("请填写真实姓名"),!1):""==$("#sendPrize_phone").val()?($.alertMsg("请填写手机号码"),!1):""==$("#sendPrize_address").val()?($.alertMsg("请填写详细收件地址"),!1):void $("#sendPrize_confirmTip").show()},sendPrizeObj.getData=function(a){if(a){var b='<span class="cop1">'+a.prizeLevelText+'</span><span class="cop2">'+a.prizeName+"</span>";$("#sendPrize_prizeInfo").html(b),this.getprizeid=a.getprizeid,this.prizeid=a.prizeid,this.status=a.status,
"prize"==this.status?($("#sendPrize_notGet").hide(),this.getSendStatus()):($("#sendPrize_notGet").show(),$("#sendPrize_get").hide())}},sendPrizeObj.getSendStatus=function(){var a=this,b={getprizeid:a.getprizeid,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.myContactInfo",data:b,dataType:"json",type:"post",success:function(a){if("0000"==a.code){$("#sendPrize_get").show();var b="";b+=a.info.realName+" "+a.info.mobile+"<br>"+a.info.address,$("#sendPrize_infoCon").html(b),"prize"==a.info.status?($("#sendPrize_sendImg").removeClass("over"),$("#sendPrize_sendTxt").html("等待发出")):"onsend"==a.info.status&&($("#sendPrize_sendImg").addClass("over"),$("#sendPrize_sendTxt").html("已发出"))}else $.alertMsg(a.code_str)}})},sendPrizeObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},sendPrizeObj.init=function(){this.setDefConfig(),sendPrizeObj.onloadExecution()},sendPrizeObj.goBack=function(){},sendPrizeObj.setDefConfig=function(){this.getprizeid="",this.prizeid="",this.status=""},sendPrizeObj.dirShow=function(){};var buyConfirmObj=new PageController({name:"buyConfirm",tpl:"template/confirm/buyConfirm.html"});buyConfirmObj.setDefConfig=function(){this.money=0,this.hbVal=0,this.cjVal=0,this.yeVal=0,this.useYeVal=0,this.hbId=new Array,this.cjId=new Array,this.payVal=0,this.pay_id="",this.payType="",this.nopwdswitch_status="N",this.product_id="",this.product_type="project",this.is_fit_nopwdrules="",this.show_pwd="Y",this.useOtherChannel="",this.lotteryCn="",this.lotteryNo="",this.product_info="",this.subMoney="",this.assure_amount=""},buyConfirmObj.setData=function(a){var b=this;b.data=a,b.product_id=a.product_id,b.lotteryType=a.lotteryType,b.lotteryNo=a.lotteryNo?a.lotteryNo:"",b.lotteryCn=Global.lotteryTypeCn[b.lotteryType.toLowerCase()]?Global.lotteryTypeCn[b.lotteryType.toLowerCase()]:"",b.product_type="plan"==a.product_type?"plan":"project",b.subMoney=a.pay_amount,b.assure_amount=a.assure_amount,b.product_id&&b.setProjectData()},buyConfirmObj.setProjectData=function(){var a=this,b={product_id:a.product_id,product_type:a.product_type,money:a.subMoney,assure_amount:a.assure_amount,channel_number:ConfigObj.zdid},c={para:Global.encrypt(b),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=cashier.pay.init",data:c,dataType:"json",type:"post",success:function(b){"0000"==b.code?(b.info=$.parseJSON(Global.crypt(b.info)),a.initShadow.hide(),a.initObj.show(),b.info.lotteryTypeCn&&(a.lotteryCn=b.info.lotteryTypeCn),b.info.product_info&&(a.product_info=b.info.product_info),a.initPayData(b.info),a.formatHtml(b.info),a.calPayMoney(),a.checkDom()):$.alertMsg(b.code_str)}})},buyConfirmObj.initPayData=function(obj){this.money=obj.total_pay_amount,this.assure_amount=obj.account_channel.pay_assure_amount,this.cjVal=obj.account_channel.pay_handsel_amount,this.hbVal=obj.account_channel.pay_bonus_amount,this.hbId=eval("("+obj.bonus_id_json+")"),this.yeVal=obj.account_channel.available_cash_remain,this.useYeVal=obj.account_channel.pay_cash_amount,this.payVal=obj.account_channel.other_pay_amount,this.nopwdswitch_status=obj.nopwdswitch_status,this.payType=obj.default_other_channel,this.pay_id=obj.pay_id,this.is_fit_nopwdrules=obj.is_fit_nopwdrules,this.product_id=obj.product_id,this.show_pwd=obj.show_pwd,this.otherChannel=obj.other_channel,this.hmhb=obj.account_channel.pay_bonus_amount},buyConfirmObj.formatHtml=function(a){var b=this,c="",d="";if(a.account_channel.pay_assure_amount>0?(d+='<span class="buyConfirm_tzmoney font16 fl" style="width:50%;">投注金额 : <em class="fontred">'+b.money+'元</em><p class="buyConfirm_bdmoney">其中保底金额：<em class="fontred">'+a.account_channel.pay_assure_amount+'元</em></p></span><span class="fr gray font12">'+a.product_info.lottery_no+"期  "+a.product_info.lottery_type_cn+"</span>",this.MoneyObj.html(d),$("#hemai_options").show()):("plan"==this.product_type?d+='<div style="line-height:16px;padding-top:10px;"><span class="gray font12">'+(a.product_info?a.product_info.begin_lottery_no+"-"+a.product_info.end_lottery_no+"期  "+a.product_info.lottery_type_cn:"")+'</span></div><div style="line-height:30px"><span class="buyConfirm_tzmoney font16 fl">投注金额 :'+b.money+'元<em class="fontred"></em></span></div>':d+='<span class="buyConfirm_tzmoney font16 fl">投注金额 :'+b.money+'元<em class="fontred"></em></span><span class="fr gray font12">'+(a.product_info?a.product_info.lottery_no+"期  "+a.product_info.lottery_type_cn:"")+"</span>",this.MoneyObj.html(d)),a.account_channel.usable_bonus_info.count>0){for(var e=0;e<a.account_channel.usable_bonus_info.valid_list.length;e++){var f=a.account_channel.usable_bonus_info.valid_list[e],g=-1!=$.inArray(f.bag_account_id,a.bonus_id_list)?"sel_bank":"";c+='<dl class="clearfix '+g+'"  data-t="selecthb" data-id="'+f.bag_account_id+'" data-v="'+f.use_money+'"><dt><p class="handsel_bg font12"><span class="font14">'+f.bonus_money+'</span>元</p></dt><dd><p class="clearfix"><span class="fl">'+f.bag_activity_name+'</span><span class="fr gray font12">还剩<em class="fontred">'+f.use_money+'元</em></span></p><p class="clearfix"><span class="fl font12 gray">有效期：'+f.expire_date+'</span><span class="selctedicon icon"></span></p></dd></dl>'}this.hbWrap.html(c)}var h="";for(var e in a.other_channel){var f=a.other_channel[e],g="Y"==f.is_default?"sel_bank":"";h+='<dl class="clearfix '+g+'" data-t="payType" data-v="'+e+'"><dt><span class="'+e+' payicon"></span></dt><dd><p class="font16">'+f.channel_cn+'</p><p class="font12 gray">描述'+f.channel_desc+'</p><span class="selctedicon icon"></span></dd></dl>'}this.payTypeList.html(h)},buyConfirmObj.createDomObj=function(){this.payconfirmObj=$("#buyConfirm_wrapObj"),this.hbObj=$("#buyConfirm_hbObj"),this.cjObj=$("#buyConfirm_cjObj"),this.yeObj=$("#buyConfirm_yeObj"),this.payObj=$("#buyConfirm_payObj"),this.payTypeObj=$("#buyConfirm_payTypeObj").hide(),this.pwdObj=$("#buyConfirm_pwdObj"),this.betMoneyObj=$("#buyConfirm_betMoneyObj"),this.initObj=$("#buyConfirm_initCon"),this.payTipsObj=$("#buyConfirm_payTipsObj"),this.hideTipsObj=$("#buyConfirm_hideTipsObj"),this.hbWrap=$("#buyConfirm_hbListWrap"),this.payTypeList=$("#buyConfirm_paytypeList"),this.betInfoObj=$("#buyConfirm_betInfo"),this.authTipsObj=$("#buyConfirm_authTipsObj"),this.initShadow=$("#buyConfirm_initShadow"),this.MoneyObj=$("#buyConfirm_MoneyObj")},buyConfirmObj.createEvent=function(){this.payconfirmObj.unbind("tap").tap(function(a){buyConfirmObj.confirmEvent(a)}),this.pwdObj.unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.pwdObj.unbind("blur").blur(function(){$(this).parent().removeClass("focus")})},buyConfirmObj.confirmEvent=function(a){var b=$.oto_checkEvent(a,"EM");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"hidePwd":return this.hidePwd(c),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"sub":return this.checkReal(),!0;case"clearTips":return this.hideTipsObj.hide(),!0;case"subTips":return this.checkReal(),this.hideTipsObj.hide(),!0;case"clearAuthTips":return this.authTipsObj.hide(),!0;case"toAuthTips":return this.goRegRealName(),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"backbtn":return this.goBack(),!0;case"showhb":return this.showhb(c),!0}}var g=$.oto_checkEvent(a,"DL");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"selecthb":return this.selectHB(c),this.calPayMoney(),!0;case"payType":return this.updatePayType(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){if("nohide"==$(h).attr("data-t"))return!0;buyConfirmObj.hideTipsObj.hide()}},buyConfirmObj.selectHB=function(a){var b=Number(a.attr("data-v")),c=a.attr("data-id");if(a.hasClass("sel_bank")){a.removeClass("sel_bank"),this.hbVal=0;for(var d=[],e=0,f=this.hbId.length;e<f;e++)this.hbId[e]!==c&&d.push(this.hbId[e]);this.hbId=d}else this.assure_amount>0?this.hbVal=this.hmhb:this.hbVal=b,a.siblings().removeClass("sel_bank"),a.addClass("sel_bank"),this.hbId=[c]},buyConfirmObj.calPayMoney=function(){this.cjObj.html(this.cjVal+"元");var a=this.hbVal>this.money?this.money:this.hbVal;this.hbObj.html(a+"元");var b=this.money-this.cjVal-a<this.yeVal?this.money-this.cjVal-a:this.yeVal;this.yeObj.html(b+"元"),this.useYeVal=b,b?this.yeObj.parent().show():this.yeObj.parent().hide();var c=(this.money-this.cjVal-a-b).toFixed(2);0==c?(this.payObj.parent().hide(),this.payTypeObj.hide(),this.pwdObj.parent().hide(),this.pwdObj.parent().next().hide(),this.useOtherChannel=""):(this.payObj.parent().show(),this.payTypeObj.show(),this.pwdObj.parent().hide(),this.pwdObj.parent().next().hide(),this.useOtherChannel=this.payType),this.payVal=c,this.payObj.html(c+"元"),0==this.otherChannel.length&&this.payTypeObj.hide()},buyConfirmObj.hidePwd=function(a){a.hasClass("checked")?(a.removeClass("checked"),this.nopwdswitch_status="N"):(a.addClass("checked"),this.nopwdswitch_status="Y")},buyConfirmObj.updatePayType=function(a){if(a.hasClass("sel_bank"))return!0;a.siblings().removeClass("sel_bank"),a.addClass("sel_bank"),this.payType=a.attr("data-v")},buyConfirmObj.showhb=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),a.next().hide(),a.find("em").eq(1).removeClass("trans")):(a.addClass("showObj"),a.next().show(),a.find("em").eq(1).addClass("trans"))},buyConfirmObj.checkReal=function(){this.subData()},buyConfirmObj.subData=function(){var a=this;if(window.localStorage.removeItem(a.lotteryType+"lotteryBetData"),window.localStorage.removeItem(a.lotteryType+"lotteryAllBetData"),window.localStorage.removeItem(a.lotteryType+"MulAndPer"),this.payVal>0)return $.alertMsg("余额不足，请充值"),setTimeout(function(){wechatpayWebObj.goBack=function(){wechatpayWebObj.destroy(),buyConfirmObj.dirShow()},wechatpayWebObj.dirShow({from:"buyConfirm"})},2e3),!1;if(this.payTipsObj.hasClass("paying_txt"))return!0;this.payTipsObj.html("正在支付"),this.payTipsObj.addClass("paying_txt");var b={pay_id:this.pay_id,product_id:this.product_id,handsel_amount:this.cjVal,bonus_amount:this.hbVal,bonus_id:this.hbId.join(","),cash_amount:this.useYeVal,channel_type:this.payType,channel_amount:this.payVal,nopwdswitch_status:this.nopwdswitch_status,assure_amount:this.assure_amount,pwd_val:""},c={para:Global.encrypt(b),access_token:loginObj.access_token};console.log(b),$.ajax({url:ConfigObj.localSite+"?m=cashier.pay.pay",data:c,type:"post",dataType:"json",success:function(b){if(console.log(1011),"-6008"===b.code||"-6106"===b.code)return a.hideTipsObj.show(),a.payTipsObj.html("确认支付"),a.payTipsObj.removeClass("paying_txt"),!1;if("-1003"==b.code)return Global.GC(),$.alertMsg(b.code_str),loginObj.logout(),!1;if("0000"==b.code)if(b.info=$.parseJSON(Global.crypt(b.info)),"alipayWap"==a.useOtherChannel)location.href=b.info.return_url;else{a.payTipsObj.html("确认支付"),a.payTipsObj.removeClass("paying_txt"),cashierObj.goBack=function(){Global.GC(),homeObj.show()};var c={pay_id:a.pay_id,product_id:a.product_id,product_type:a.product_type,lotteryType:a.lotteryType,lotteryCn:a.lotteryCn};cashierObj.show(!0,function(){cashierObj.setData(c)})}else a.payTipsObj.html("确认支付"),a.payTipsObj.removeClass("paying_txt"),$.alertMsg(b.code_str)}})},buyConfirmObj.checkDom=function(){0==this.cjVal&&this.cjObj.parent().parent().parent().hide(),0==this.hbVal&&this.hbObj.parent().parent().parent().hide(),0==this.useYeVal&&this.yeObj.parent().hide()},buyConfirmObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},buyConfirmObj.init=function(){this.setDefConfig(),buyConfirmObj.onloadExecution()},buyConfirmObj.dirShow=function(a){a=a||{};var b=Global.getCache("confirm_product");b||(b=Global.cache.confirm_product);for(var c in b)a[c]=b[c];console.clear(),a&&"ios"==a.from&&(ConfigObj.from="ios",buyConfirmObj.goBack=function(){ConfigObj.from="",location.href=ConfigObj.iosAppSite}),buyConfirmObj.show("reload",function(){buyConfirmObj.setData(a)})};var d3ConfirmObj=new BetConfirm({name:"d3Confirm",tpl:"template/confirm/betlist.html"});d3ConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.saveBetData=!0,this.lotteryMinNum=new Array(1,1,1),this.lotteryBallNum=new Array(10,10,10),this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.ballClassName=new Array("fontred","fontred","fontred"),this.offCheckNum0=!0,this.lotteryOneMoney=2,this.lotteryPlay="IP",this.lotteryType="d3",this.lotteryNo="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=999,this.overNum=1e3,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.wid="",this.pid=""},d3ConfirmObj.setLotteryPlayData=function(){"IP"==this.lotteryPlay?(this.lotteryMinNum=new Array(1,1,1),this.lotteryBallNum=new Array(10,10,10),this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9))):"UP3"==this.lotteryPlay?(this.lotteryMinNum=[2],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9))):"UP6"==this.lotteryPlay?(this.lotteryMinNum=[3],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9))):"IH"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[28],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27))):"UH3"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[26],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26))):"UH6"==this.lotteryPlay&&(this.lotteryMinNum=[1],this.lotteryBallNum=[22],this.lotteryBetVal=new Array(new Array(3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24)))},d3ConfirmObj.destroy=function(){this.setDefConfig(),$("#d3Confirm").html("").remove(),window.localStorage.removeItem("d3lotteryBetData"),window.localStorage.removeItem("d3lotteryAllBetData"),window.localStorage.removeItem("d3MulAndPer")};var dltConfirmObj=new BetConfirm({name:"dltConfirm",tpl:"template/confirm/betlist.html"});dltConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.checkedZJ=!1,this.saveBetData=!0,this.lotteryMinNum=new Array(5,2),this.lotteryBallNum=new Array(35,12),this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35),new Array(1,2,3,4,5,6,7,8,9,10,11,12)),this.ballClassName=new Array("fontred","fontblue","fontblack"),this.lotteryOneMoney=2,this.lotteryPlay="P",this.lotteryType="dlt",this.lotteryNo="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=300,this.overNum=3e3,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.checkP=!1,this.wid="",this.pid=""},dltConfirmObj.destroy=function(){this.setDefConfig(),$("#dltConfirm").html("").remove(),window.localStorage.removeItem("dltlotteryBetData"),window.localStorage.removeItem("dltlotteryAllBetData"),window.localStorage.removeItem("dltMulAndPer")};var fastBetConfirmObj=new BetConfirm({name:"fastBetConfirm",tpl:"template/confirm/betlist.html"});fastBetConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.saveBetData=!0,this.lotteryPlay,this.lotteryMinNum=[2],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11)),this.ballClassName=new Array("fontred","fontred","fontred","fontred","fontred","fontred","fontred"),this.lotteryOneMoney=2,this.lotteryType=ConfigObj.fastLotType,this.lotteryNo="",this.checkP=!0,this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=999,this.overNum=19,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.wid="",this.pid=""},fastBetConfirmObj.setLotteryPlayData=function(){"R2"==this.lotteryPlay?(this.lotteryMinNum=[2],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"R3"==this.lotteryPlay?(this.lotteryMinNum=[3],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"R4"==this.lotteryPlay?(this.lotteryMinNum=[4],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"R5"==this.lotteryPlay?(this.lotteryMinNum=[5],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"R6"==this.lotteryPlay?(this.lotteryMinNum=[6],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"R7"==this.lotteryPlay?(this.lotteryMinNum=[7],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"R8"==this.lotteryPlay?(this.lotteryMinNum=[8],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"FP1"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"FP2"==this.lotteryPlay?(this.lotteryMinNum=[1,1],this.lotteryBallNum=[11,11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11),new Array(1,2,3,4,5,6,7,8,9,10,11))):"FC2"==this.lotteryPlay?(this.lotteryMinNum=[2],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11))):"FP3"==this.lotteryPlay?(this.lotteryMinNum=[1,1,1],this.lotteryBallNum=[11,11,11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11),new Array(1,2,3,4,5,6,7,8,9,10,11),new Array(1,2,3,4,5,6,7,8,9,10,11))):"FC3"==this.lotteryPlay&&(this.lotteryMinNum=[3],this.lotteryBallNum=[11],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11)))},fastBetConfirmObj.destroy=function(){this.setDefConfig(),$("#fastBetConfirm").html("").remove(),window.localStorage.removeItem(ConfigObj.fastLotType+"lotteryBetData"),window.localStorage.removeItem(ConfigObj.fastLotType+"lotteryAllBetData"),window.localStorage.removeItem(ConfigObj.fastLotType+"MulAndPer")};var fastK3ConfirmObj=new BetConfirm({name:"fastK3Confirm",tpl:"template/confirm/betlist.html"});fastK3ConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.saveBetData=!0,this.lotteryPlay,this.lotteryMinNum=[1],this.lotteryBallNum=[14],this.lotteryBetVal=new Array(new Array(4,5,6,7,8,9,10,11,12,13,14,15,16,17)),this.ballClassName=new Array("fontred","fontred","fontred","fontred","fontred","fontred","fontred"),this.lotteryOneMoney=2,this.lotteryType=ConfigObj.fastK3Type,this.lotteryNo="",this.checkP=!0,this.offCheckNum0=!0,this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=999,this.overNum=19,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.wid="",this.pid=""},fastK3ConfirmObj.setLotteryPlayData=function(){"SUM"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[14],this.lotteryBetVal=new Array(new Array(4,5,6,7,8,9,10,11,12,13,14,15,16,17))):"TXD"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[6],this.lotteryBetVal=new Array(new Array("1+1+1","2+2+2","3+3+3","4+4+4","5+5+5","6+6+6"))):"TXS2"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[6],this.lotteryBetVal=new Array(new Array("1+1","2+2","3+3","4+4","5+5","6+6"))):"TXD2"==this.lotteryPlay?(this.lotteryMinNum=[1,1],this.lotteryBallNum=[6,6],this.lotteryBetVal=new Array(new Array("1+1","2+2","3+3","4+4","5+5","6+6"),new Array(1,2,3,4,5,6))):"BT3"==this.lotteryPlay?(this.lotteryMinNum=[3],this.lotteryBallNum=[6],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6))):"BT2"==this.lotteryPlay&&(this.lotteryMinNum=[2],this.lotteryBallNum=[6],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6)))},fastK3ConfirmObj.destroy=function(){this.setDefConfig(),$("#fastK3Confirm").html("").remove(),window.localStorage.removeItem(fastK3ConfirmObj.lotteryType+"lotteryBetData"),window.localStorage.removeItem(fastK3ConfirmObj.lotteryType+"lotteryAllBetData"),window.localStorage.removeItem(fastK3ConfirmObj.lotteryType+"MulAndPer")};var hn4j1ConfirmObj=new BetConfirm({name:"hn4j1Confirm",tpl:"template/confirm/betlist.html"});hn4j1ConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.saveBetData=!0,this.lotteryMinNum=[1,1,1,1,1],this.lotteryBallNum=[10,10,10,10,10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallClassName={D5:new Array("fontred","fontred","fontred","fontred","fontblue"),D4:new Array("fontred","fontred","fontred","fontred"),R4:new Array("fontred"),R4C2:new Array("fontred"),R3:new Array("fontred"),R3C3:new Array("fontred"),R2C2:new Array("fontred"),R2:new Array("fontred"),R4C3:new Array("fontred","fontred"),R4C1:new Array("fontred","fontred"),R3C2:new Array("fontred","fontred"),D3:new Array("fontred","fontred","fontred","fontred"),D2:new Array("fontred","fontred","fontred","fontred"),D1:new Array("fontred","fontred","fontred","fontred")},this.offCheckNum0=!0,this.checkP=!0,this.lotteryOneMoney=2,this.lotteryPlay="D5",this.lotteryType="hn4j1",this.lotteryNo="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=999,this.overNum=3e3,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.res="",this.wid="",this.pid=""},hn4j1ConfirmObj.setLotteryPlayData=function(){"D5"==this.lotteryPlay?(this.lotteryMinNum=[1,1,1,1,1],this.lotteryBallNum=[10,10,10,10,10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"D4"==this.lotteryPlay?(this.lotteryMinNum=[1,1,1,1],this.lotteryBallNum=[10,10,10,10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R4"==this.lotteryPlay?(this.lotteryMinNum=[4],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R4C2"==this.lotteryPlay?(this.lotteryMinNum=[2],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R3"==this.lotteryPlay?(this.lotteryMinNum=[3],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R3C3"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R2C2"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9))):"R2"==this.lotteryPlay?(this.lotteryMinNum=[2],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R4C3"==this.lotteryPlay?(this.lotteryMinNum=[1,1],this.lotteryBallNum=[10,10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R4C1"==this.lotteryPlay?(this.lotteryMinNum=[1,2],this.lotteryBallNum=[10,10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"R3C2"==this.lotteryPlay?(this.lotteryMinNum=[1,1],this.lotteryBallNum=[10,10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.lotteryBallWei=0):"D3"==this.lotteryPlay?(this.lotteryMinNum=[1,1,1,1],this.lotteryBallNum=[10,10,10,10],this.lotteryBallWei=3,this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.ballClassName=new Array("fontred","fontred","fontred","fontred")):"D2"==this.lotteryPlay?(this.lotteryMinNum=[1,1,1,1],this.lotteryBallNum=[10,10,10,10],this.lotteryBallWei=2,this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.ballClassName=new Array("fontred","fontred","fontred","fontred")):"D1"==this.lotteryPlay&&(this.lotteryMinNum=[1,1,1,1],this.lotteryBallNum=[10,10,10,10],this.lotteryBallWei=1,this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.ballClassName=new Array("fontred","fontred","fontred","fontred"))},hn4j1ConfirmObj.destroy=function(){this.setDefConfig(),$("#hn4j1Confirm").html("").remove(),window.localStorage.removeItem("hn4j1lotteryBetData"),window.localStorage.removeItem("hn4j1lotteryAllBetData"),window.localStorage.removeItem("hn4j1MulAndPer")};var pl3ConfirmObj=new BetConfirm({name:"pl3Confirm",tpl:"template/confirm/betlist.html"});pl3ConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.saveBetData=!0,this.lotteryMinNum=new Array(1,1,1),this.lotteryBallNum=new Array(10,10,10),this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.ballClassName=new Array("fontred","fontred","fontred"),this.offCheckNum0=!0,this.lotteryOneMoney=2,this.lotteryPlay="IP",this.lotteryType="pl3",this.lotteryNo="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=999,this.overNum=1e3,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.wid="",this.pid=""},pl3ConfirmObj.setLotteryPlayData=function(){"IP"==this.lotteryPlay?(this.lotteryMinNum=new Array(1,1,1),this.lotteryBallNum=new Array(10,10,10),this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9))):"UP3"==this.lotteryPlay?(this.lotteryMinNum=[2],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9))):"UP6"==this.lotteryPlay?(this.lotteryMinNum=[3],this.lotteryBallNum=[10],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9))):"IH"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[28],this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27))):"UH3"==this.lotteryPlay?(this.lotteryMinNum=[1],this.lotteryBallNum=[26],this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26))):"UH6"==this.lotteryPlay&&(this.lotteryMinNum=[1],this.lotteryBallNum=[22],this.lotteryBetVal=new Array(new Array(3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24)))},pl3ConfirmObj.destroy=function(){this.setDefConfig(),$("#pl3Confirm").html("").remove(),window.localStorage.removeItem("pl3lotteryBetData"),window.localStorage.removeItem("pl3lotteryAllBetData"),window.localStorage.removeItem("pl3MulAndPer")};var pl5ConfirmObj=new BetConfirm({name:"pl5Confirm",tpl:"template/confirm/betlist.html"});pl5ConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.saveBetData=!0,this.lotteryMinNum=new Array(1,1,1,1,1),this.lotteryBallNum=new Array(10,10,10,10,10),this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.ballClassName=new Array("fontred","fontred","fontred","fontred","fontred"),this.offCheckNum0=!0,this.lotteryOneMoney=2,this.lotteryPlay="P",this.lotteryType="pl5",this.offCheckNum0=!0,this.lotteryNo="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=999,this.overNum=1e3,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.wid="",this.pid=""},pl5ConfirmObj.destroy=function(){this.setDefConfig(),$("#pl5Confirm").html("").remove(),window.localStorage.removeItem("pl5lotteryBetData"),window.localStorage.removeItem("pl5lotteryAllBetData"),window.localStorage.removeItem("pl5MulAndPer")};var qxcConfirmObj=new BetConfirm({name:"qxcConfirm",tpl:"template/confirm/betlist.html"});qxcConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.saveBetData=!0,this.lotteryMinNum=new Array(1,1,1,1,1,1,1),this.lotteryBallNum=new Array(10,10,10,10,10,10,10),this.lotteryBetVal=new Array(new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9),new Array(0,1,2,3,4,5,6,7,8,9)),this.ballClassName=new Array("fontred","fontred","fontred","fontred","fontred","fontred","fontred"),this.offCheckNum0=!0,this.lotteryOneMoney=2,this.lotteryPlay="P",this.lotteryType="qxc",this.offCheckNum0=!0,this.lotteryNo="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=999,this.overNum=3e3,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.wid="",this.pid=""},qxcConfirmObj.destroy=function(){this.setDefConfig(),$("#qxcConfirm").html("").remove(),window.localStorage.removeItem("qxclotteryBetData"),window.localStorage.removeItem("qxclotteryAllBetData"),window.localStorage.removeItem("qxcMulAndPer")};var ssqConfirmObj=new BetConfirm({name:"ssqConfirm",tpl:"template/confirm/betlist.html"});ssqConfirmObj.setDefConfig=function(){this.zhushuArr=new Array,this.betAllData=new Array,this.betData="",this.agrstate=!0,this.checkedOver=!1,this.checkedZJ=!1,this.saveBetData=!0,this.lotteryMinNum=new Array(6,1),this.lotteryBallNum=new Array(33,16),this.lotteryBetVal=new Array(new Array(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33),new Array(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)),this.ballClassName=new Array("fontred","fontblue","fontblack"),this.lotteryOneMoney=2,this.lotteryPlay="P",this.lotteryType="ssq",this.lotteryNo="",this.lotteryMul=1,this.lotteryPer=1,this.maxMul=1e4,this.maxPer=300,this.overNum=3e3,this.maxOver=5e7,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.checkP=!1,this.wid="",this.pid=""},ssqConfirmObj.destroy=function(){this.setDefConfig(),$("#ssqConfirm").html("").remove(),window.localStorage.removeItem("ssqlotteryBetData"),window.localStorage.removeItem("ssqlotteryAllBetData"),window.localStorage.removeItem("ssqMulAndPer")};var activityIdxObj=new PageController({name:"activityIdx",tpl:"template/discover/activityIdx.html"});activityIdxObj.createDomObj=function(){this.wrapperObj=$("#activityIdx_wrapperObj"),this.backObj=$("#activityIdx_back"),this.homeObj=$("#activityIdx_home")},activityIdxObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){activityIdxObj.goBack()}),this.homeObj.unbind("tap").tap(function(){activityIdxObj.goHome()}),this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"DIV");if(b=$(b).parents(".act_li")){var c=$(b),d=c.attr("data-t"),e=c.attr("data-v"),f=c.attr("data-extra");switch(d){case"Bonus":return activityIdxObj.checkBonusType(e,f),!0;case"LuckyDraw":return activityIdxObj.goScorePrize(e),!0}}})},activityIdxObj.checkBonusType=function(a,b){switch(b){case"Register":activityIdxObj.goRegSendBonus(a);break;case"Invitation":activityIdxObj.goInvSendBonus(a);break;default:activityIdxObj.goRedBag(a)}},activityIdxObj.goScorePrize=function(a){scorePrizeObj.goBack=function(){activityIdxObj.show(),scorePrizeObj.destroy()},scorePrizeObj.show("reload",function(){scorePrizeObj.getData(a)})},activityIdxObj.goRedBag=function(a){redBagObj.show(!0,function(){redBagObj.getData(a),redBagObj.pushRoute(function(){activityIdxObj.show()})})},activityIdxObj.goHome=function(){Global.GC(),homeObj.show()},activityIdxObj.goRegSendBonus=function(a){regsendBonusObj.goBack=function(){regsendBonusObj.destroy(),activityIdxObj.show()},regsendBonusObj.show(!0,function(){regsendBonusObj.getData(a)})},activityIdxObj.goInvSendBonus=function(a){Global.bgColor=window.getComputedStyle(document.body).backgroundColor,invsendBonusObj.goBack=function(){document.body.style.backgroundColor=Global.bgColor,
invsendBonusObj.destroy(),activityIdxObj.show()},invsendBonusObj.show(!0,function(){document.body.style.backgroundColor="#f9ddb6",invsendBonusObj.getData("",a)})},activityIdxObj.getData=function(){var a={platForm:ConfigObj.platForm},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.activity",data:b,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),activityIdxObj.formatHtml(a.info)):$.alertMsg(a.code_str)}})},activityIdxObj.formatHtml=function(a){if(a.length){for(var b="",c=0;c<a.length;c++){var d=a[c];2==d.status&&"actDisable_1","Bonus"==d.type?d.extra.pic?b+='<div class="act_li" data-t="'+d.type+'" data-v="'+d.eventId+'" data-extra="'+(d.extra.bonusType?d.extra.bonusType:"")+'" ><div><p class="mb8"><img src="'+d.extra.pic+'"></p><p class="font12 gray">活动时间：'+d.beginTime.substr(0,10)+"至"+d.endTime.substr(0,10)+"</p>"+(2==d.status?'<span class="dated disbg"></span>':"")+"</div></div>":1==d.status?b+='<div class="act_li" data-t="'+d.type+'" data-v="'+d.eventId+'" data-extra="'+(d.extra.bonusType?d.extra.bonusType:"")+'"><div class="act_bg" id="act_bg"><div class="act_inbg clearfix" id="act_inbg"><div class="act_money fl"><p>¥</p><span>'+d.extra.singleBagMoney+'</span></div><div class="act_content fl"><h4>'+d.eventName+"</h4><p>"+d.eventContent+"</p><span>活动时间："+d.beginTime.substr(0,10)+"至"+d.endTime.substr(0,10)+'</span></div></div><div class="act_pt"><p>平台</br>通用</p></div></div></div>':0==d.status?b+='<div class="act_li" data-t="'+d.type+'" data-v="'+d.eventId+'" data-extra="'+(d.extra.bonusType?d.extra.bonusType:"")+'"><div class="act_bg" id="act_bg"><div class="act_inbg clearfix" id="act_inbg"><div class="act_money fl"><p>¥</p><span>'+d.extra.singleBagMoney+'</span></div><div class="act_content fl"><h4>'+d.eventName+"</h4><p>"+d.eventContent+"</p><span>活动时间："+d.beginTime.substr(0,10)+"至"+d.endTime.substr(0,10)+'</span></div></div><div class="act_pt"><p>平台</br>通用</p></div></div><span class="oning disbg"></span></div>':2==d.status&&(b+='<div class="act_li" data-t="'+d.type+'" data-v="'+d.eventId+'" data-extra="'+(d.extra.bonusType?d.extra.bonusType:"")+'"><div class="act_bg out" id="act_bg"><div class="act_inbg clearfix out" id="act_inbg"><div class="act_money fl"><p>¥</p><span>'+d.extra.singleBagMoney+'</span></div><div class="act_content fl"><h4>'+d.eventName+"</h4><p>"+d.eventContent+"</p><span>活动时间："+d.beginTime.substr(0,10)+"至"+d.endTime.substr(0,10)+'</span></div></div><div class="act_pt"><p>平台</br>通用</p></div></div><span class="dated disbg"></span></div>'):"LuckyDraw"==d.type&&(b+='<div class="act_li" data-t="'+d.type+'" data-v="'+d.eventId+'"><div class="pboxwrap"><img src="images/activity/actBg.png" /></div><p class="font12 gray">活动时间：'+(d.beginTime?d.beginTime.substr(0,10):"")+"至"+(d.endTime?d.endTime.substr(0,10):"")+"</p>",0==d.status?b+='<span class="oning disbg"></span>':2==d.status&&(b+='<span class="dated disbg"></span>'),b+="</div>")}$("#activityIdx_list").html(b)}else{var b='<div class="noact center"><p class="mb15"><span class="disbg dis1"></span></p><p class="font14 gray">暂时没有活动哦~</p></div>';$("#activityIdx_list").html(b)}},activityIdxObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},activityIdxObj.init=function(){activityIdxObj.onloadExecution()},activityIdxObj.goBack=function(){},activityIdxObj.setDefConfig=function(){};var discoverObj=new PageController({name:"discover",tpl:"template/discover/discover.html"});discoverObj.createDomObj=function(){this.wrapperObj=$("#discover_wrapperObj"),this.backObj=$("#discover_backbtn"),$("#discover_checkVer").show()},discoverObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){discoverObj.goBack()}),this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"DL");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"huodong":return discoverObj.goActivity(),!0;case"jifen":return $.alertMsg("正在建设中"),!0;case"zixun":return discoverObj.goNews(),!0;case"zhandian":return discoverObj.goSites(),!0;case"download":return discoverObj.goDownload(),!0;case"feedback":return discoverObj.goFeedback(),!0;case"share":return Global.socialShare({domId:"discover"}),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showTel":return $("#discover_telTip").show(),!0;case"clearTelTip":return $("#discover_telTip").hide(),!0}}})},discoverObj.goActivity=function(){activityIdxObj.goBack=function(){activityIdxObj.destroy(),discoverObj.show()},activityIdxObj.show("reload",function(){activityIdxObj.getData()})},discoverObj.goDownload=function(){},discoverObj.goScore=function(){scoreActObj.goBack=function(){scoreActObj.destroy(),discoverObj.show()},scoreActObj.show("reload",function(){scoreActObj.getData()})},discoverObj.goNews=function(){newsIdxObj.goBack=function(){newsIdxObj.destroy(),discoverObj.show()},newsIdxObj.show()},discoverObj.goSites=function(){localSiteObj.goBack=function(){localSiteObj.destroy(),discoverObj.show()},localSiteObj.show()},discoverObj.goFeedback=function(){feedbackObj.show("",function(){feedbackObj.pushRoute(function(){discoverObj.show()})})},discoverObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},discoverObj.init=function(){discoverObj.onloadExecution()},discoverObj.goBack=function(){},discoverObj.setDefConfig=function(){};var lotteryListObj=new PageController({name:"lotteryList",tpl:"template/discover/lotteryList.html"});lotteryListObj.createDomObj=function(){this.wrapperObj=$("#lotteryList_wrapperObj")},lotteryListObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return lotteryListObj.goBack(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"lottery":return lotteryListObj.goLottery(c),!0}}})},lotteryListObj.goLottery=function(a){switch(a.attr("data-v")){case"dlt":this.gotoDltBet();break;case"pl3":this.gotoPl3Bet();break;case"pl5":this.gotoPl5Bet();break;case"qxc":this.gotoQxcBet();break;case"jczq":this.gotoJczqBet();break;case"jz2x1":this.goto2x1Bet();break;case"spf14":this.goTotoBet();break;case"spf9":this.goR9Bet();break;case"tjsyy":this.goFastBet("tjsyy");break;case"gd11x5":this.goFastBet("gd11x5");break;case"hn4j1":this.goHn4j1Bet();break;case"jclq":this.goBasketMixBet()}},lotteryListObj.goBasketMixBet=function(){basketMixObj.goBack=function(){basketMixObj.destroy(),lotteryListObj.show()},basketMixObj.show("reload",function(){basketMixObj.getData()})},lotteryListObj.goHn4j1Bet=function(){hn4j1Obj.goBack=function(){hn4j1Obj.destroy(),hn4j1ConfirmObj.destroy(),lotteryListObj.show()},hn4j1Obj.show()},lotteryListObj.goFastBet=function(a){fastBetObj.goBack=function(){fastBetObj.destroy(),fastBetConfirmObj.destroy(),fastTrendObj.destroy(),lotteryListObj.show()},ConfigObj.fastLotType=a,fastBetObj.show("",function(){"gd11x5"==a&&fastBetObj.updatePlay("FP1")})},lotteryListObj.goR9Bet=function(){soccerR9Obj.goBack=function(){soccerR9Obj.destroy(),lotteryListObj.show()},soccerR9Obj.show("reload",function(){soccerR9Obj.getData()})},lotteryListObj.goTotoBet=function(){soccerTotoObj.goBack=function(){soccerTotoObj.destroy(),lotteryListObj.show()},soccerTotoObj.show("reload",function(){soccerTotoObj.getData()})},lotteryListObj.goto2x1Bet=function(){soccer2x1Obj.goBack=function(){soccer2x1Obj.destroy(),lotteryListObj.show()},soccer2x1Obj.show("reload",function(){soccer2x1Obj.getData()})},lotteryListObj.gotoJczqBet=function(){soccerMixObj.goBack=function(){soccerMixObj.destroy(),lotteryListObj.show()},soccerMixObj.show("reload",function(){soccerMixObj.getData()})},lotteryListObj.gotoDltBet=function(){dltObj.goBack=function(){dltObj.destroy(),dltConfirmObj.destroy(),lotteryListObj.show()},dltObj.show()},lotteryListObj.gotoPl3Bet=function(){pl3Obj.goBack=function(){pl3Obj.destroy(),pl3ConfirmObj.destroy(),lotteryListObj.show()},pl3Obj.show()},lotteryListObj.gotoPl5Bet=function(){pl5Obj.goBack=function(){pl5Obj.destroy(),pl5ConfirmObj.destroy(),lotteryListObj.show()},pl5Obj.show()},lotteryListObj.gotoQxcBet=function(){qxcObj.goBack=function(){qxcObj.destroy(),qxcConfirmObj.destroy(),lotteryListObj.show()},qxcObj.show()},lotteryListObj.setData=function(a){if(a){var b=[];for(var c in a){var d=c,e='<li data-t="lottery" data-v="'+d+'"><a href="javascript:void(0)"><span class="lot_icon '+d+'01 fl"></span><div class="lot_name fl"><h3>'+a[c].cnName+"</h3>"+(a[c].bonus?'<p>奖池：<span class="money">'+a[c].bonusVal+" </span></p>":"<p>"+a[c].msg+"</p>")+(a[c].add?'<span class="acticon a-jiaj"></span>':"")+"</div>"+(a[c].open?'<span class="acticon a-kaij"></span>':"")+"</a></li>";a[c].first?b.unshift(e):b.push(e)}$("#lotteryList_list").html(b.join(""))}},lotteryListObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},lotteryListObj.init=function(){lotteryListObj.onloadExecution()},lotteryListObj.dirShow=function(){lotteryListObj.show()};var hemaiObj=new PageController({name:"hemai",tpl:"template/hemai/hemai.html"});hemaiObj.createDomObj=function(){this.wrapObj=$("#hemai_wrapObj"),this.lotteryObj=$("hemai_lotteryObj"),this.timeObj=$("#hemai_timeObj"),this.totalMoneyObj=$("#hm_totalMoney"),this.totalNumObj=$("#hm_totalNum")},hemaiObj.createEvent=function(){function a(a){for(var c=$(a).val(),d=0;d<b.length;d++){var e=new RegExp(b[d],"g");if(-1!=c.indexOf(b[d])){var f=c.replace(e,"**");c=f,$(a).val(f)}}}this.wrapObj.unbind("tap").tap(function(a){hemaiObj.updateMoneyEvent(a)}),$("#hemaiInput").live("blur",function(){a($(this))});var b=["V信","微信","WeChat","wechat","qq","QQ","群","qun","群号","V+信","手机号","公众号","阅读号","weixin","WEIXIN"]},hemaiObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"planBtn":return this.planBtn(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"lottery":return this.lottery(c),!0;case"backbtn":return this.goBack(),!0;case"submit":return this.goSubmit(),!0}}},hemaiObj.planBtn=function(a){var b=a.attr("data-v");a.siblings().removeClass("selected"),a.addClass("selected"),this.openType=b},hemaiObj.change=function(){var a=this.totalNum;$("#hm_myBuy").bind("input propertychange",function(){var b=$("#hm_myBuy").val();if(0==/^[1-9]\d*$|^0$/.test(b))return $.alertMsg("份数只能为整数",!1),$("#hm_myBuy").val(""),void $("#myBuy_pro").html("");if(b>a)return $.alertMsg("自购份数不能超过总份数",!1),$("#hm_myBuy").val(""),void $("#myBuy_pro").html("");var c=b/a*100,d=c.toFixed(2);d+="%",$("#myBuy_pro").html(d)}),$("#hm_myCom").bind("input propertychange",function(){var a=$("#hm_myCom").val();return 0==/^[0-9]*$/.test(a)?($.alertMsg("提成只能为0-8的整数",!1),void $("#hm_myCom").val("")):a>8?($.alertMsg("提成只能为0-8的整数",!1),void $("#hm_myCom").val("")):void 0}),$("#hm_myMin").bind("input propertychange",function(){var b=$("#hm_myBuy").val(),c=$("#hm_myMin").val();if(0==/^[1-9]\d*$|^0$/.test(c))return $.alertMsg("份数只能为整数",!1),$("#hm_myMin").val(""),void $("#myMin_pro").html("");if(c>a-b)return $.alertMsg("保底份数不能超过剩余份数",!1),$("#hm_myMin").val(""),void $("#myMin_pro").html("");var d=c/a*100,e=d.toFixed(2);e+="%",$("#myMin_pro").html(e)})},hemaiObj.goSubmit=function(){var a=this,b=this.createSubData;if(a.lotteryType=b.lotteryType,a.lotteryNo=b.lotteryNo,a.manner=b.manner,b.consignType="together",b.openType=this.openType,b.subNum=parseInt($("#hm_myBuy").val()),b.percent=parseInt($("#hm_myCom").val())?parseInt($("#hm_myCom").val()):0,b.assure=parseInt($("#hm_myMin").val())?parseInt($("#hm_myMin").val()):0,a.assure=parseInt($("#hm_myMin").val())?parseInt($("#hm_myMin").val()):0,b.msg=$("#hemaiInput").val()?$("#hemaiInput").val():"大咖很懒，只想着中奖！",!b.subNum)return $.alertMsg("认购份数不能小于1份！",!1),!1;var c=["SSQ","DLT","PL3","PL5","D3"],d=["FTFH","SPF9","SPF14","BSKFH"];-1!=$.inArray(b.lotteryType,c)?url=ConfigObj.localSite+"?m=lottery.lottery.numProcess":-1!=$.inArray(b.lotteryType,d)&&(url=ConfigObj.localSite+"?m=lottery.lottery.sportteryprocess"),b.channel_number=ConfigObj.zdid;var e={para:Global.encrypt(b),access_token:loginObj.access_token};$.ajax({url:url,data:e,type:"post",dataType:"json",success:function(b){if("0000"==b.code){b.info=$.parseJSON(Global.crypt(b.info)),a.pid=b.info.productId;var c={lotteryType:a.lotteryType,lotteryNo:a.lotteryNo,product_id:b.info.productId,product_type:b.info.productType,pay_amount:b.info.money,assure_amount:a.assure};a.buyFun(c)}}})},hemaiObj.buyFun=function(a){var b=this;buyConfirmObj.goBack=function(){switch(b.lotteryType){case"dlt":dltObj.show("reload");break;case"ssq":ssqObj.show("reload");break;case"pl3":pl3Obj.show("reload");break;case"d3":d3Obj.show("reload");break;case"pl5":pl5Obj.show("reload");break;case"qxc":qxcObj.show("reload");break;case"FTFH":soccerMixObj.show("reload",function(){soccerMixObj.getData()}),2==b.manner?soccer2x1Obj.show():soccerMixObj.show();break;case"SPF14":soccerTotoObj.show("reload",function(){soccerTotoObj.getData()}),soccerTotoObj.show();break;case"SPF9":soccerR9Obj.show("reload",function(){soccerR9Obj.getData()}),soccerR9Obj.show();break;default:homeObj.show()}b.destroy(),buyConfirmObj.destroy()},setTimeout(function(){buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})},300),a.product_id&&Global.setCache("confirm_product",a),a.product_id&&(Global.cache.confirm_product=a)},hemaiObj.setData=function(a){var b=a.data;this.subData=a.createSubData,this.totalMoney=b.totalMoney,this.totalNum=b.totalNum,this.lotteryType_cn=b.lottery_tyoe_cn,this.endTime=b.endTime},hemaiObj.initDom=function(){$("#hemai_lotteryObj").text(this.lotteryType_cn),$("#hemai_timeObj").text(this.endTime),$("#hm_totalMoney").text(this.totalMoney),$("#hm_totalNum").text(this.totalNum),this.createSubData=this.subData},hemaiObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.change(),this.initDom()},hemaiObj.setDefConfig=function(){this.openType="open",this.totalMoney="",this.totalNum="",this.lotteryType="",this.endTime="",this.subData=new Array,this.pid="",this.manner=""},hemaiObj.init=function(){hemaiObj.onloadExecution(),hemaiObj.setDefConfig()};var hemaiDetailObj=new PageController({name:"hemaiDetail",tpl:"template/hemai/hemaiDetail.html",initScrollTop:!0});hemaiDetailObj.createDomObj=function(){this.wrapObj=$("#hemaiDetail_wrapObj"),this.wrapA=$("#hemaiDetail_wrapAObj"),this.wrapB=$("#hemaiDetail_wrapBObj"),this.wrapC=$("#hemaiDetail_wrapCObj"),this.overNumObj=$("#hemaiDetail_overNumObj"),this.overInputObj=$("#hemaiDetail_moneyObj"),this.copObj=$("#hemaiDetail_copObj"),this.buyObj=$("#hemaiDetail_buyObj")},hemaiDetailObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){hemaiDetailObj.updateMoneyEvent(a)})},hemaiDetailObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"xy":return this.goHemaixy(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"reduce":return this.reduceNum(),!0;case"per":return this.showOverNum(),!0;case"increase":return this.addNum(),!0;case"od":this.delOverVal();break;case"os":this.hideOverTips();break;case"on":this.updateOverVal(c);break;case"goList":return this.goList(),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"backbtn":return this.goBack(),!0;case"buyAll":return this.buyAll(),!0;case"submit":return this.goPay(),!0}}},hemaiDetailObj.reduceNum=function(){this.overNum>1&&(this.overNum=this.overNum-1,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"))},hemaiDetailObj.addNum=function(){this.overNum=this.overNum+1,this.overNum>this.allNum&&(this.overNum=this.allNum),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiDetailObj.showOverNum=function(){this.overNumObj.show(),this.checkTipsShow=!0},hemaiDetailObj.goList=function(){var a={pid:this.productId};hmUserlistObj.goBack=function(){hmUserlistObj.destroy(),hemaiDetailObj.show()},hmUserlistObj.show(!0,function(){hmUserlistObj.setData(a)})},hemaiDetailObj.updateOverVal=function(a){this.checkTipsShow&&(this.overNum=0,this.checkTipsShow=!1);var b=a.attr("data-v");this.overNum=Number(this.overNum+""+b),this.overNum>this.allNum&&(this.overNum=this.allNum),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiDetailObj.delOverVal=function(){this.overNum=Number((this.overNum+"").slice(0,-1)),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiDetailObj.hideOverTips=function(){this.overNum<1&&(this.overNum=1),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"),this.overNumObj.hide(),this.checkTipsShow=!1,this.overInputObj.removeClass("fontblue")},hemaiDetailObj.goHemaixy=function(){hemaixyObj.goBack=function(){hemaixyObj.destroy(),hemaiDetailObj.show()},hemaixyObj.show()},hemaiDetailObj.countdownTick=function(){function a(){var a=Date.now();if(a>=c)$("#hemaiDetail_countdown").html("已截止"),clearInterval(window.__numLottryCountdownInterval);else{a-=1e3;var b=(c-a)/1e3,d=Math.floor(b/3600);d=d<10?"0"+d:d;var e=Math.floor((b-3600*d)/60);e=e<10?"0"+e:e;var f=Math.floor(b-3600*d-60*e);f=f<10?"0"+f:f,$("#hemaiDetail_countdown").html("距离截止"+d+":"+e+":"+f)}}var b=this.endTime;window.__numLottryCountdownInterval&&clearInterval(window.__numLottryCountdownInterval);var c=Date.parse(b.replace(/-/g,"/"));window.__numLottryCountdownInterval=setInterval(function(){a()},1e3)},hemaiDetailObj.buyAll=function(){this.overNum=this.allNum,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiDetailObj.setData=function(a){var b=this;b.pid=a;var c={pid:b.pid},d={para:Global.encrypt(c),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.project.TogetherProjectInfo",data:d,type:"post",dataType:"json",success:function(a){"0000"==a.code?(b.lotteryInfo=a.info,b.lotteryType=a.info.lotteryType.toLowerCase(),b.endTime=a.info.endTime,b.allNum=a.info.completeNum,b.lotteryNo=a.info.lotteryNo,b.productId=a.info.lotteryId,b.countdownTick(),hemaiDetailObj.formatHtmlA(a.info),hemaiDetailObj.formatHtmlB(a.info),hemaiDetailObj.formatHtmlC(a.info),hemaiDetailObj.infoOpen(a.info)):$.alertMsg(a.code_str)}})},hemaiDetailObj.infoOpen=function(a){var b=a.open;if("open"==b)$("#hemaiDetail_openObj").html("完全公开"),this.wrapA.show();else if("follow"==b)$("#hemaiDetail_openObj").html("跟单可见"),(a.shareNum>0||"end"==a.goodsStatus||"fail"==a.goodsStatus||"cancel"==a.goodsStatus)&&this.wrapA.show();else if("sell"==b){$("#hemaiDetail_openObj").html("截止后公开"),loginObj.userId==a.ownerId&&this.wrapA.show();var c=Date.parse(this.endTime.replace(/-/g,"/")),d=Date.now();d>=c&&this.wrapA.show()}},hemaiDetailObj.formatHtmlB=function(a){var b="";b+="<span>"+a.user_name+"</span><span>"+a.percent+"%</span><span>"+a.wagerMultiple+"倍</span><span>"+a.totalMoney+"元</span><span>"+a.addTime+"</span><span>"+a.endTime+"</span><span>"+a.lotteryId+'</span><span id="hemaiDetail_state"></span><span>'+a.msg+"</span>",this.wrapB.html(b),"on"==a.goodsStatus?($("#hmDet_listObj").show(),$("#hemaiDetail_state").html("进行中"),this.buyObj.show()):"deal"==a.goodsStatus?($("#hmDet_listObj").show(),"yes"==a.printed?$("#hemaiDetail_state").html("待开奖"):"not"==a.printed?$("#hemaiDetail_state").html("待出票"):$("#hemaiDetail_state").html("出票中")):"cancel"==a.goodsStatus?$("#hemaiDetail_state").html("已撤单"):"end"==a.goodsStatus?($("#hmDet_listObj").show(),"Prize"==a.prizeStatus?a.netPrize>0?$("#hemaiDetail_state").html("已中奖"):$("#hemaiDetail_state").html("未中奖"):"Not"==a.prizeStatus?$("#hemaiDetail_state").html("待开奖"):$("#hemaiDetail_state").html("待派奖")):"fail"==a.goodsStatus&&$("#hemaiDetail_state").html("已流单")},hemaiDetailObj.formatHtmlC=function(a){var b="";b+='<div class="hmDet_head_t"><div class="content6 hmDet_lottery"><span class="lot_icon '+a.lotteryType+'02 fl hmLot_icon"></span><p>'+a.lotteryTypeCn+'</p></div><div class="content6 hmDet_number"><p id="hemaiDetail_updataPlayObj">期号:'+a.lotteryNo+'</p></div><div class="content6 hmDet_date"><span id="hemaiDetail_countdown"></span></div></div><div class="hmDet_head_b clearfix"><div class="content1 hmDet_head_list"><p>当前进度</p><span>'+a.completerate+'%</span></div><div class="content1 hmDet_head_list"><p>保底份数</p><span>'+a.assure_num+'份</span></div><div class="content1 hmDet_head_list"><p>剩余份数</p><span>'+a.completeNum+'份</span></div><div class="content1 hmDet_head_list"><p>每份金额</p><span>1元</span></div><div class="content1 hmDet_head_list"><p>我的跟单</p><span>'+a.shareNum+"份</span></div></div>",this.wrapC.html(b)},hemaiDetailObj.formatHtmlA=function(a){var b="";this.isNumLottery()?this.isFastLottery()&&"jxk3"!=this.lotteryType&&"jlk3"!=this.lotteryType?"jxk3"==this.lotteryType&&"jlk3"==this.lotteryType||(b=this.getFastBetHtml(a)):b='<div">'+a.wagerList+"</div>":this.isSportLottery()?b=this.getSportBetHtml(a):this.isTotoLottery()&&(b=this.getTotoBetHtml(a)),this.wrapA.html(b)},hemaiDetailObj.isFastLottery=function(){var a=["tjsyy","gd11x5","gx11x5","xj11x5","sd11x5","gxk3","jxk3","jlk3"],b=this.lotteryType;return-1!=$.inArray(b,a)},hemaiDetailObj.isNumLottery=function(){var a=this,b=["dlt","pl5","pl3","qxc","tjsyy","gd11x5","gx11x5","xj11x5","sd11x5","hn4j1","ssq","gxk3","jxk3","d3","jlk3"];return-1!=$.inArray(a.lotteryType,b)},hemaiDetailObj.isSportLottery=function(){var a=this,b=["ftbrqspf","ftspf","ftfh","bskfh"];return-1!=$.inArray(a.lotteryType,b)},hemaiDetailObj.isTotoLottery=function(){var a=this,b=["spf14","spf9"];return-1!=$.inArray(a.lotteryType,b)},hemaiDetailObj.getSportBetHtml=function(a){var b=this,c='<div class="detail_con jz_detail"><div class="listwrap"><div class="lists">';for(var d in a.wagerList){var e=a.wagerList[d],f="";if(f="bskfh"==b.lotteryType?'<em class="font12 gray">总分:'+e.totalResult+" 分差:"+e.diffResult+" </em>":'<em class="font12 gray">半全场：'+e.bqcResult+"</em>",c+='<div class="libox clearfix"><div class="fl font12 gray w10 center"><p>'+e.week+"</p><p>"+e.subOid+"</p><p>"+("Y"==e.isAbs?'<span class="jzdan on"><em>胆</em></span>':"")+'</p></div><div class="w80 fr"><p class="mb10 center detop clearfix"><span style="width:28%">'+e.homeName+"</span>",-1==e.bet_result?c+='<span class="fontred">延期</span>':e.score?c+='<span class="fontred" style="width:44%"><em class="score">'+e.score+"</em>"+f+"</span>":c+='<span class="font12" >'+e.matchTime+"</span>",c+='<span style="width:28%">'+e.awayName+"</span></p>",e.FTBRQSPF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq">让<em>0</em></span>';for(var g=0;g<e.FTBRQSPF.wager.length;g++){var h=e.FTBRQSPF.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTBRQSPF")+' "><span><i class="font12">'+h+"</i><i>"+e.FTBRQSPF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTSPF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq">让<em>'+e.rq+"</em></span>";for(var g=0;g<e.FTSPF.wager.length;g++){var h=e.FTSPF.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTSPF")+' "><span><i class="font12">'+h+"</i><i>"+e.FTSPF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTBF){c+='<div class="match_detail jzhg jz_score center mb10 clearfix"><span class="rq">比分</span>';for(var g=0;g<e.FTBF.wager.length;g++){var h=e.FTBF.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTBF")+' "><span><i class="font12">'+h+"</i><i>"+e.FTBF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTBQC){c+='<div class="match_detail jzhg jz_score center mb10 clearfix"><span class="rq pt1">半全场</span>';for(var g=0;g<e.FTBQC.wager.length;g++){var h=e.FTBQC.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTBQC")+' "><span><i class="font12">'+h+"</i><i>"+e.FTBQC.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTJQS){c+='<div class="match_detail jzhg jz_score center clearfix"><span class="rq pt1">总进球</span>';for(var g=0;g<e.FTJQS.wager.length;g++){var h=e.FTJQS.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTJQS")+' "><span><i class="font12">'+h+"</i><i>"+e.FTJQS.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKSF){c+='<div class="match_detail jzhg mb10 center clearfix"><span class="rq">胜负</span>';for(var g=0;g<e.BSKSF.wager.length;g++){var h=e.BSKSF.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKSF")+' "><span><i class="font12">'+h+'</i> <i class="cc">'+e.BSKSF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKRFSF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq">让分</span>';for(var g=0;g<e.BSKRFSF.wager.length;g++){var h=e.BSKRFSF.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKRFSF")+' "><span><i class="font12">'+h+"</i> <i>"+e.rq+'</i> <i class="cc">'+e.BSKRFSF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKDXF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq pt1">大小分</span>';for(var g=0;g<e.BSKDXF.wager.length;g++){var h=e.BSKDXF.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKDXF")+' "><span><i class="font12">'+h+"</i><i>"+e.dxf+'</i> <i class="cc">'+e.BSKDXF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKSFC){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq pt1">胜分差</span>';for(var g=0;g<e.BSKSFC.wager.length;g++){var h=e.BSKSFC.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKSFC")+' "><span><i class="font12">'+h+'</i> <i class="cc">'+e.BSKSFC.odds[h]+"</i></span></div>"}c+="</div>"}c+="</div></div>"}return c+='\t</div></div></div><div class="w94"><p class="font12 gray">上述赔率仅为投注时的参考值，非计奖赔率</p></div><div style="height:70px;"></div>'},hemaiDetailObj.getTotoBetHtml=function(a){var b=this,c='<div class="detail_con jz_detail"><div class="listwrap"><div class="lists">';if(a.wagerList&&a.wagerList.length>0)for(var d=0;d<a.wagerList.length;d++){var e=a.wagerList[d];c+='<div class="libox clearfix"><div class="fl font12 gray w15  center"><p style="height:35px;">'+("Y"==e.isAbs?'<span class="jzdan on"><em>胆</em></span>':"")+"</p><p>第"+e.subOid+"场</p><p>"+e.leagueName+'</p></div><div class="w80 fr"><p class="mb10 center detop clearfix"><span>'+e.homeName+"</span>"+(e.score?'<span class="fontred"><strong>'+e.score+"</strong></span>":-1==e.bet_result?'<span class="font12">延期</span>':'<span class="font12">'+e.match_time_q+"</span>")+"<span>"+e.awayName+'</span></p><div class="match_detail zc_detail center clearfix"><p class="opt_jz '+b.getBetClass("3",e)+'"><span><em class="font12 gray">主胜</em> '+e.odds[0]+'</span></p><p class="opt_jz '+b.getBetClass("1",e)+'"><span><em class="font12 gray">平</em> '+e.odds[1]+'</span></p><p class="opt_jz '+b.getBetClass("0",e)+'"><span><em class="font12 gray">客胜</em>'+e.odds[2]+"</span></p></div></div></div>"}return c+='\t\t</div></div></div><div style="height:70px;"></div>'},hemaiDetailObj.getMixBetClass=function(a,b,c){var d="";return"FTBRQSPF"==c?-1==b.bet_result?d="on":b.brqResult&&(d=a==b.brqResult?"on":"out"):"FTSPF"==c?-1==b.bet_result?d="on":b.rqResult&&(d=a==b.rqResult?"on":"out"):"FTBF"==c?-1==b.bet_result?d="on":b.bfResult&&(d=a==b.bfResult?"on":"out"):"FTBQC"==c?-1==b.bet_result?d="on":b.bqcResult&&(d=a==b.bqcResult?"on":"out"):"FTJQS"==c?-1==b.bet_result?d="on":b.jsqResult&&(d=a==b.jsqResult?"on":"out"):"BSKSF"==c?-1==b.bet_result?d="on":b.sfResult&&(d=a==b.sfResult?"on":"out"):"BSKRFSF"==c?-1==b.bet_result?d="on":b.rfsfResult&&(d=a==b.rfsfResult?"on":"out"):"BSKDXF"==c?-1==b.bet_result?d="on":b.dxfResult&&(d=a==b.dxfResult?"on":"out"):"BSKSFC"==c&&(-1==b.bet_result?d="on":b.sfcResult&&(d=a==b.sfcResult?"on":"out")),d},hemaiDetailObj.getBetClass=function(a,b){var c="";return-1!=$.inArray(a,b.wager)&&(c+=" selected"),""!==b.bet_result&&(b.bet_result==a?c+=" on":-1==b.bet_result?-1!=c.indexOf("selected")&&(c+=" on"):c+=" out"),c},hemaiDetailObj.goPay=function(){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},2e3),!1;var a={lotteryType:this.lotteryType.toUpperCase(),lotteryNo:this.lotteryNo,product_id:this.productId,product_type:this.productType,pay_amount:this.overNum,assure_amount:-1};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),hemaiDetailObj.show()},setTimeout(function(){buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})},300)},hemaiDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},hemaiDetailObj.setDefConfig=function(){this.overNum=1,this.allNum="",this.checkTipsShow=!1,this.end_time="",this.open="",this.lotteryType="",this.lotteryNo="",this.productId="",this.productType=""},hemaiDetailObj.init=function(){hemaiDetailObj.onloadExecution(),hemaiDetailObj.setDefConfig()};var hemaiIndexObj=new PageController({name:"hemaiIndex",tpl:"template/hemai/hemaiIndex.html"});hemaiIndexObj.createDomObj=function(){this.wrapObj=$("#hemaiIndex_wrapperObj"),this.noTipsObj=$("#hemaiIndex_noTipsObj"),this.lotteryObj=$("hemaiIndex_lotteryObj"),this.atnObj=$("#hemaiIndex_atnObj"),this.jdObj=$("#hemaiIndex_jd"),this.jeObj=$("#hemaiIndex_je"),this.hbObj=$("#hemaiIndex_hb"),this.jzObj=$("#hemaiIndex_jz"),this.headObj=$("#hemaiIndex_header"),this.listObj=$("#hemaiIndex_listObj")},hemaiIndexObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){hemaiIndexObj.updateMoneyEvent(a)}),window.onscroll=function(){if(!hemaiIndexObj.checkPage)return!1;hemaiIndexObj.updatePage()},$("#hemaiIndex_listObj").dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){hemaiIndexObj.page=0,hemaiIndexObj.getData(),a.resetload()}})},hemaiIndexObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"LI");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"setLottery":return this.setLottery(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"lottery":return this.lottery(c),!0;case"star":return this.goStar(),!0;case"attention":return this.goAttention(),!0;case"betFTFH":return this.goFTFH(),!0}}var f=$.oto_checkEvent(a,"DL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"godetail":return this.goDetail(c),!0}}var g=$.oto_checkEvent(a,"SPAN");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"atn":return this.atn(c),!0;case"jd":this.jdOrder(c);break;case"je":this.jeOrder(c);break;case"hb":this.hbOrder(c);break;case"jz":this.jzOrder(c)}}},hemaiIndexObj.goFTFH=function(){soccerMixObj.goBack=function(){soccerMixObj.destroy(),homeObj.show()},soccerMixObj.show(!0,function(){soccerMixObj.getData()})},hemaiIndexObj.updatePage=function(){var a=document.body.scrollTop;0==a&&(a=document.documentElement.scrollTop);var b=this.wrapObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getData())},hemaiIndexObj.goDetail=function(a){var b=a.attr("data-v");hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),hemaiIndexObj.show()},hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(b)})},hemaiIndexObj.lottery=function(a){"none"==$("#hemaiIndex_selectObj").css("display")?($("#hemaiIndex_selectObj").show(),function(){0==$("#global_bgLayer").length&&($("#hemaiIndex").append('<div style="width:100%;height:100%;background:transparent;position:absolute;left:0;top:0;z-index:90" id="global_bgLayer"></div>'),$("#global_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#global_bgLayer").unbind("tap").tap(function(){$("#hemaiIndex_selectObj").hide(),$("#global_bgLayer").remove()}))}()):($("#hemaiIndex_selectObj").hide(),$("#global_bgLayer").remove())},hemaiIndexObj.atn=function(a){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){hemaiIndexObj.goLogin()},2e3),!1;var b=a.attr("data-v"),c=a.attr("data-k");if(c==loginObj.userId)return $.alertMsg("不能关注自己",!1),!1;"no"==b?(a.addClass("noatn_btn"),a.attr("data-v","yes"),a.html("已关注"),this.relation_type="build"):"yes"==b&&(a.removeClass("noatn_btn"),a.attr("data-v","no"),a.html("关注"),this.relation_type="cancel");var d={user_id:c,relation_type:this.relation_type},e={para:Global.encrypt(d),access_token:loginObj.access_token
};this.page=0,$.ajax({url:ConfigObj.localSite+"?m=user.account.setRelation",data:e,type:"post",dataType:"json",success:function(a){$.alertMsg(a.code_str,!0),hemaiIndexObj.getData()}})},hemaiIndexObj.goStar=function(){hotBigcafeObj.goBack=function(){hotBigcafeObj.destroy(),hemaiIndexObj.show(!0,function(){this.page=0,hemaiIndexObj.getData()})},hotBigcafeObj.show()},hemaiIndexObj.goLogin=function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},hemaiIndexObj.goAttention=function(){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){hemaiIndexObj.goLogin()},2e3),!1;myAttentionObj.goBack=function(){myAttentionObj.destroy(),hemaiIndexObj.show(!0,function(){this.page=0,hemaiIndexObj.getData()})},myAttentionObj.show()},hemaiIndexObj.setLottery=function(a){var b=a.attr("data-v");a.siblings().removeClass("selected"),a.addClass("selected"),this.lotteryType=b,hemaiIndexObj.getData(),$("#hemaiIndex_lotteryObj").html(a[0].innerHTML),$("#hemaiIndex_selectObj").hide()},hemaiIndexObj.jdOrder=function(a){var b=a.attr("data-v");this.sort="completerate",this.jeObj.html('<span data-t="je" data-v="de" class="hm_h_btn hm_je">金额</span>'),this.hbObj.html('<span data-t="hb" data-v="de" class="hm_h_btn hm_hb">周回报率</span>'),this.jzObj.html('<span data-t="jz" data-v="de" class="hm_h_btn hm_jz">快截至</span>'),"de"==b?(a.attr("data-v","up"),a.addClass("hmup"),this.desc="asc"):"up"==b?(a.attr("data-v","down"),a.removeClass("hmup"),a.addClass("hmdown"),this.desc="desc"):"down"==b&&(a.attr("data-v","up"),a.removeClass("hmdown"),a.addClass("hmup"),this.desc="asc"),hemaiIndexObj.getData()},hemaiIndexObj.jeOrder=function(a){var b=a.attr("data-v");this.sort="money",this.jdObj.html('<span data-t="jd" data-v="de" class="hm_h_btn hm_je">进度</span>'),this.hbObj.html('<span data-t="hb" data-v="de" class="hm_h_btn hm_hb">周回报率</span>'),this.jzObj.html('<span data-t="jz" data-v="de" class="hm_h_btn hm_jz">快截至</span>'),"de"==b?(a.attr("data-v","up"),a.addClass("hmup"),this.desc="asc"):"up"==b?(a.attr("data-v","down"),a.removeClass("hmup"),a.addClass("hmdown"),this.desc="desc"):"down"==b&&(a.attr("data-v","up"),a.removeClass("hmdown"),a.addClass("hmup"),this.desc="asc"),hemaiIndexObj.getData()},hemaiIndexObj.hbOrder=function(a){var b=a.attr("data-v");this.sort="returnrate",this.jdObj.html('<span data-t="jd" data-v="de" class="hm_h_btn hm_je">进度</span>'),this.jeObj.html('<span data-t="je" data-v="de" class="hm_h_btn hm_je">金额</span>'),this.jzObj.html('<span data-t="jz" data-v="de" class="hm_h_btn hm_jz">快截至</span>'),"de"==b?(a.attr("data-v","up"),a.addClass("hmup"),this.desc="asc"):"up"==b?(a.attr("data-v","down"),a.removeClass("hmup"),a.addClass("hmdown"),this.desc="desc"):"down"==b&&(a.attr("data-v","up"),a.removeClass("hmdown"),a.addClass("hmup"),this.desc="asc"),hemaiIndexObj.getData()},hemaiIndexObj.jzOrder=function(a){var b=a.attr("data-v");this.sort="sell_end_time",this.jdObj.html('<span data-t="jd" data-v="de" class="hm_h_btn hm_je">进度</span>'),this.jeObj.html('<span data-t="je" data-v="de" class="hm_h_btn hm_je">金额</span>'),this.hbObj.html('<span data-t="hb" data-v="de" class="hm_h_btn hm_hb">周回报率</span>'),"de"==b?(a.attr("data-v","up"),a.addClass("hmup"),this.desc="asc"):(a.attr("data-v","de"),a.removeClass("hmup"),this.desc="",this.sort=""),hemaiIndexObj.getData()},hemaiIndexObj.getData=function(){hemaiIndexObj.checkPage=!1;var a={sort:this.sort,desc:this.desc,lotteryType:this.lotteryType,page:this.page,size:this.size},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.TogetherProjectList",data:b,type:"post",dataType:"json",success:function(a){if("0000"==a.code){if(a.info.length)hemaiIndexObj.noTipsObj.hide();else if(0==hemaiIndexObj.page)return hemaiIndexObj.noTipsObj.show(),$("#hemaiIndex_listObj").html(""),!1;a.info.length<hemaiIndexObj.size?hemaiIndexObj.checkPage=!1:hemaiIndexObj.checkPage=!0,hemaiIndexObj.formatHtml(a.info),hemaiIndexObj.checkPage||$("#hemaiIndex_listObj").append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(code.str,!1)}})},hemaiIndexObj.formatHtml=function(a){for(var b="",c=a,d=0,e=c.length;d<e;d++){var f=c[d];b+='<div class="hm_list"><div class="hm_list_t clearfix"><div class="fl" style="width:19%"><p>'+f.lottery_tyoe_cn+'</p></div><div class="fl" style="width:23%"><div class="hm_nickname"><p class="text_show" style="text-align: left;">'+f.user_name+'</p></div></div><div class="fl" style="width:41%"><p class="hemai_rate" style="color: #fe3104;">周回报率 '+Number(f.returnrate).toFixed(1)+'%</p></div><div class="fl hm_atn" id="hemaiIndex_atnObj" style="width:17%"><span class="atn_btn '+(1==f.follow_status?"noatn_btn":"")+'" data-t="atn" data-k="'+f.owner_id+'" data-v="'+(1==f.follow_status?"yes":"no")+'">'+(1==f.follow_status?"已关注":"关注")+'</span></div></div><dl class="hm_list_b" data-t="godetail" data-v="'+f.project_id+'"><div class="content3 hmPace" style="text-align: center;"><canvas id="'+f.project_id+'" class="hm_scale" width="120px" height="120px" style="width: 60px;height: 60px;"></canvas><div class="hm_pace"><p>'+f.completerate+"%</p><span>保"+f.assure_rate+'%</span></div></div><div class="content3 hm_info"><p>总金额</p><span>'+f.money+'</span></div><div class="content3 hm_info"><p>剩余份数</p><span>'+f.remainNum+'</span></div><div class="content3 hm_info"><p>截止时间</p><span style="color: #fe3104;">'+f.sell_end_time+'</span></div><div class="content4 hmIndex_arr"></div></dl></div>'}0==this.page?$("#hemaiIndex_listObj").html(b):$("#hemaiIndex_listObj").append(b);for(var g=0,e=c.length;g<e;g++)drawCircle({id:c[g].project_id,color:"#e04241",angle:c[g].completerate/100,lineWidth:4})},hemaiIndexObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},hemaiIndexObj.setDefConfig=function(){this.lotteryType="",this.cateType="",this.orderType="",this.sort="",this.desc="",this.size=10,this.page=0,this.checkPage=!0,this.clientHeight=document.documentElement.clientHeight},hemaiIndexObj.init=function(){hemaiIndexObj.onloadExecution(),hemaiIndexObj.setDefConfig(),hemaiIndexObj.getData()};var hemaiListObj=new PageController({name:"hemaiList",tpl:"template/hemai/hemaiList.html"});hemaiListObj.createDomObj=function(){this.wrapObj=$("#hemaiList_wrapObj"),this.listObj=$("#hemaiList_content"),this.buyObj=$("#hemaiList_buyObj"),this.overNumObj=$("#hemaiList_overNumObj"),this.overInputObj=$("#hemaiList_moneyObj"),this.copObj=$("#hemaiList_copObj")},hemaiListObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){hemaiListObj.updateMoneyEvent(a)}),window.onscroll=function(){if(!hemaiListObj.checkPage)return!1;hemaiListObj.updatePage()},$("#hemaiList_content").dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){hemaiListObj.page=0,hemaiListObj.getData(),a.resetload()}})},hemaiListObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"xy":return this.goHemaixy(),!0}}var e=$.oto_checkEvent(a,"DL");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"godetail":return this.goDetail(c),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"gobuy":return this.gobuy(c),!0;case"reduce":return this.reduceNum(),!0;case"per":return this.showOverNum(),!0;case"increase":return this.addNum(),!0;case"od":this.delOverVal();break;case"os":this.hideOverTips();break;case"on":this.updateOverVal(c)}}var g=$.oto_checkEvent(a,"P");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"backbtn":return this.goBack(),!0;case"buyAll":return this.buyAll(),!0;case"submit":return this.goPay(),!0}}},hemaiListObj.updatePage=function(){var a=document.body.scrollTop;0==a&&(a=document.documentElement.scrollTop);var b=this.wrapObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getData())},hemaiListObj.goDetail=function(a){var b=a.attr("data-v");hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),hemaiListObj.show()},hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(b)})},hemaiListObj.gobuy=function(a){var b=$("#hemaiList"),c=b.find("#hemaiList_buyObj");c.length>0&&("none"==c.css("display")?(!function(){0==$("#buy_bgLayer").length&&(b.append('<div style="width:100%;height:100%;background:transparent;position:fixed;left:0;top:0;z-index:90" id="buy_bgLayer"></div>'),$("#buy_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#buy_bgLayer").unbind("tap").tap(function(){$("#hemaiList_buyObj").hide(),$("#buy_bgLayer").remove()}))}(),c.show()):($("#hemaiList_buyObj").hide(),$("#buy_bgLayer").remove())),this.lotteryType=a.attr("data-k"),this.lotteryNo=a.attr("data-n"),this.productId=a.attr("data-v"),this.allNum=a.attr("data-b"),this.overNum=1,this.copObj.html(this.overNum+"份"),this.overInputObj.html(this.overNum)},hemaiListObj.reduceNum=function(){this.overNum>1&&(this.overNum=this.overNum-1,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"))},hemaiListObj.addNum=function(){this.overNum=this.overNum+1,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiListObj.showOverNum=function(){this.overNumObj.show(),this.checkTipsShow=!0},hemaiListObj.updateOverVal=function(a){this.checkTipsShow&&(this.overNum=0,this.checkTipsShow=!1);var b=a.attr("data-v");this.overNum=Number(this.overNum+""+b),this.overNum>this.maxOver&&(this.overNum=this.maxOver),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiListObj.delOverVal=function(){this.overNum=Number((this.overNum+"").slice(0,-1)),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiListObj.hideOverTips=function(){this.overNum<1&&(this.overNum=1),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"),this.overNumObj.hide(),this.checkTipsShow=!1,this.overInputObj.removeClass("fontblue")},hemaiListObj.goHemaixy=function(){hemaixyObj.goBack=function(){hemaixyObj.destroy(),hemaiListObj.show()},hemaixyObj.show()},hemaiListObj.buyAll=function(){this.overNum=this.allNum,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},hemaiListObj.goPay=function(){var a={lotteryType:this.lotteryType.toUpperCase(),lotteryNo:this.lotteryNo,product_id:this.productId,product_type:this.productType,pay_amount:this.overNum,assure_amount:-1};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),hemaiListObj.show()},setTimeout(function(){buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})},300)},hemaiListObj.setData=function(a){this.status=a.status,this.user_id=a.user_id,hemaiListObj.getData()},hemaiListObj.getData=function(){hemaiListObj.checkPage=!1;var a={type:this.type,status:this.status,page:this.page,size:this.size,user_id:this.user_id},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.getTogetherByUser",data:b,type:"post",dataType:"json",success:function(a){if("0000"==a.code){if(0==a.info.length&&0==hemaiListObj.page){var b=[];return b.push('<div class="hemaiIndex_option option_white"><p>暂无合买信息！</p></div>'),void $("#hemaiList_content").html(b.join(""))}a.info.length<hemaiListObj.size?hemaiListObj.checkPage=!1:hemaiListObj.checkPage=!0,hemaiListObj.formatHtmlB(a.info),hemaiListObj.checkPage||$("#hemaiList_content").append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str,!1)}})},hemaiListObj.formatHtmlB=function(a){function b(a){for(var c=[],d=[],e=0;e<a.length;e++)"object"==typeof a[e].goods_status?b(a[e]):"on"==a[e].goods_status?c.push(a[e]):d.push(a[e]);return c=c.concat(d)}for(var c=a,d=b(c),e="",f=0,g=d.length;f<g;f++){var h=d[f];"on"==h.goods_status?e+='<div class="myRecord_list"><div class="myRecord_list_t clearfix"><div class="content1"><p style="font-size:12px;">'+h.lottery_type_cn+'</p></div><div class="content5"><p>'+h.sell_end_time+'截止</p></div><div class="content2 myRecord_btn"><span data-t="gobuy" data-v="'+h.lottery_id+'" data-k="'+h.lottery_type+'" data-n="'+h.lottery_no+'" data-b="'+h.completeNum+'">立即跟单</span></div></div><dl class="hm_list_b" data-t="godetail" data-v="'+h.lottery_id+'"><div class="content3 hmPace" style="text-align: center;"><canvas id="e'+h.lottery_id+'" class="hm_scale" width="120px" height="120px" style="width: 60px;height: 60px;"></canvas><div class="hm_pace"><p>'+h.completerate+"%</p><span>保"+h.assure_rate+'%</span></div></div><div class="content3 hm_info"><p>总金额</p><span>'+h.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+h.share_user_num+'</span></div><div class="content3 hm_info"><p>剩余份数</p><span>'+h.completeNum+'</span></div><div class="content4 hmIndex_arr"></div></dl></div>':e+='<dl class="myRecord_list clearfix" data-t="godetail" data-v="'+h.lottery_id+'"><div class="content3 hm_info"><p>彩种</p><span>'+h.lottery_type_cn+'</span></div><div class="content3 hm_info"><p>总金额</p><span>'+h.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+h.share_user_num+'</span></div><div class="content3 hm_info" id="hemaiList_project'+h.lottery_id+'"></div><div class="content4 hmIndex_arr"></div></dl>'}0==this.page?$("#hemaiList_content").html(e):$("#hemaiList_content").append(e);for(var i=0,g=d.length;i<g;i++){var h=d[i],j="";"cancel"==h.goods_status?j+='<div class="hemai_result">已撤单</div>':"fail"==h.goods_status?j+='<div class="hemai_result">已流单</div>':"deal"==h.goods_status?"yes"==h.print_status?j+='<div class="hemai_result result_y">待开奖</div>':"not"==h.print_status?j+='<div class="hemai_result">待出票</div>':j+='<div class="hemai_result">出票中</div>':"end"==h.goods_status&&("Prize"==h.prize_status?h.net_prize>0?j+='<div class="hemai_result result_y">已中奖</div>':j+='<div class="hemai_result">未中奖</div>':"Not"==h.prize_status?j+='<div class="hemai_result result_y">待开奖</div>':j+='<div class="hemai_result result_y">待派奖</div>'),$("#hemaiList_project"+h.lottery_id).html(j)}for(var k=0,g=d.length;k<g;k++)if("on"==d[k].goods_status){var l="e"+d[k].lottery_id;drawCircle({id:l,color:"#e04241",angle:d[k].completerate/100,lineWidth:4})}},hemaiListObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},hemaiListObj.setDefConfig=function(){this.status="",this.type="all",this.page=0,this.size=10,this.lotteryType="",this.cateType="",this.orderType="",this.sort="",this.desc="",this.checkPage=!0,this.clientHeight=document.documentElement.clientHeight},hemaiListObj.init=function(){hemaiListObj.onloadExecution(),hemaiListObj.setDefConfig()};var hmUserlistObj=new PageController({name:"hmUserlist",tpl:"template/hemai/hmUserlist.html"});hmUserlistObj.createDomObj=function(){this.wrapObj=$("#hmUserlist_wrapObj"),this.listObj=$("#hmUserlist_listObj")},hmUserlistObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){hmUserlistObj.updateMoneyEvent(a)})},hmUserlistObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"P");if(b){switch($(b).attr("data-t")){case"backbtn":return this.goBack(),!0}}},hmUserlistObj.setData=function(a){var b=a;this.pid=b.pid,hmUserlistObj.getData()},hmUserlistObj.getData=function(){var a={pid:this.pid},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.project.followProjectList",data:b,type:"post",dataType:"json",success:function(a){"0000"==a.code?hmUserlistObj.formatHtml(a.info):$.alertMsg(a.code_str)}})},hmUserlistObj.formatHtml=function(a){for(var b="",c=0,d=a.length;c<d;c++){var e=a[c];b+='<div class="hmUser_list clearfix"><span class="text_show" style="width:24%">'+e.user_name+'</span><span class="text_show" style="width:17%">'+e.shareNum+'份</span><span class="text_show" style="width:17%">'+e.shareMoney+'元</span><span class="text_show" style="width:24%">'+e.create_time+'</span><span class="text_show" style="width:18%">'+(e.prizeMoney>0?e.prizeMoney:"认购成功")+"</span></div>"}this.listObj.html(b)},hmUserlistObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},hmUserlistObj.setDefConfig=function(){this.pid=""},hmUserlistObj.init=function(){hmUserlistObj.onloadExecution(),hmUserlistObj.setDefConfig()};var hotBigcafeObj=new PageController({name:"hotBigcafe",tpl:"template/hemai/hotBigcafe.html"});hotBigcafeObj.createDomObj=function(){this.wrapObj=$("#hotBigcafe_wrapObj"),this.atnObj=$("#hotBigcafe_atnObj"),this.listObj=$("#hotBigcafe_listObj")},hotBigcafeObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){hotBigcafeObj.updateMoneyEvent(a)})},hotBigcafeObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"DD");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"openStar":return this.goStar(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"lottery":return this.lottery(c),!0;case"backbtn":return this.goBack(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"atn":return this.atn(c),!0}}},hotBigcafeObj.atn=function(a){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},2e3),!1;var b=a.attr("data-v"),c=a.attr("data-k");"no"==b?(a.addClass("unfollow"),a.attr("data-v","yes"),a.html("取消关注"),this.relation_type="build"):"yes"==b&&(a.removeClass("unfollow"),a.attr("data-v","no"),a.html("关注"),this.relation_type="cancel");var d={user_id:c,relation_type:this.relation_type},e={para:Global.encrypt(d),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.setRelation",data:e,type:"post",dataType:"json",success:function(a){$.alertMsg(a.code_str,!0)}})},hotBigcafeObj.goStar=function(a){var b=a.attr("data-v");starIndexObj.goBack=function(){starIndexObj.destroy(),hotBigcafeObj.show(!0,function(){hotBigcafeObj.getData()})},starIndexObj.show(!0,function(){starIndexObj.setData({owner_id:b})})},hotBigcafeObj.getData=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.TogetherUserList",data:a,type:"post",dataType:"json",success:function(a){if("0000"==a.code){if(0==a.info.length)return $("#hotBigcafe_listObj").html('<div class="center endtip_1">暂无大咖</div>'),!1;hotBigcafeObj.formatHtml(a.info)}else $.alertMsg(a.code_str)}})},hotBigcafeObj.formatHtml=function(a){for(var b="",c=0,d=a.length;c<d;c++){var e=a[c];b+='<dl class="hotBig_list"><div class="hotBig_name"><div class="hotBig_nickname"><p class="text_show" style="text-align: left;">'+e.user_name+'</p></div></div><div class="hotBig_per"><p style="color: #fe3104;">周回报率 '+e.returnrate+'%</p></div><dd class="point_star" data-t="openStar" data-v="'+e.owner_id+'"></dd><div class="hotBig_atn hm_atn" id="hotBigcafe_atnObj"><span class="atn_btn foo_atn '+("1"==e.follow_status?"unfollow":"")+'" data-t="atn" data-k="'+e.owner_id+'" data-v="'+("1"==e.follow_status?"yes":"no")+'">'+("1"==e.follow_status?"取消关注":"关注")+"</span></div></dl>"}this.listObj.html(b)},hotBigcafeObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},hotBigcafeObj.setDefConfig=function(){},hotBigcafeObj.init=function(){hotBigcafeObj.onloadExecution(),hotBigcafeObj.setDefConfig()};var myAttentionObj=new PageController({name:"myAttention",tpl:"template/hemai/myAttention.html"});myAttentionObj.createDomObj=function(){this.wrapObj=$("#myAttention_wrapObj"),this.atnObj=$("#myAttention_atnObj"),this.listObj=$("#myAttention_listObj")},myAttentionObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){myAttentionObj.updateMoneyEvent(a)})},myAttentionObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"DD");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"openStar":return this.goStar(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"backbtn":return this.goBack(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"atn":return this.atn(c),!0}}},myAttentionObj.atn=function(a){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},2e3),!1;var b=(a.attr("data-v"),a.attr("data-k"));this.relation_type="cancel";var c={user_id:b,relation_type:this.relation_type},d={para:Global.encrypt(c),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.setRelation",data:d,type:"post",dataType:"json",success:function(a){$.alertMsg(a.code_str,!0),myAttentionObj.getData()}})},myAttentionObj.goStar=function(a){var b=a.attr("data-v");starIndexObj.goBack=function(){starIndexObj.destroy(),myAttentionObj.show(!0,function(){myAttentionObj.getData()})},starIndexObj.show(!0,function(){starIndexObj.setData({owner_id:b})})},myAttentionObj.getData=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.getFollow_list",data:a,type:"post",dataType:"json",success:function(a){if("0000"==a.code){if(0==a.info.length)return $("#myAttention_listObj").html('<div class="center endtip_1">暂无关注</div>'),!1;myAttentionObj.formatHtml(a.info)}else $.alertMsg(a.code_str,!1)}})},myAttentionObj.formatHtml=function(a){var b=a,c="";for(var d in b){var e=b[d];c+='<dl class="hotBig_list"><div class="hotBig_name" style="width:40%;"><div class="hotBig_nickname"><p class="text_show" style="text-align: left;">'+e.user_name+'</p></div></div><div class="hotBig_per" style="width:30%;"><p style="color: #fe3104;">粉丝'+e.fans+'</p></div><dd class="point_star" data-t="openStar" data-v="'+e.user_id+'"></dd><div class="hotBig_atn hm_atn" style="width:30%;" id="myAttention_atnObj"><span class="atn_btn foo_atn unfollow" data-t="atn" data-v="yes" data-k="'+e.user_id+'">取消关注</span></div></dl>'}this.listObj.html(c)},myAttentionObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},myAttentionObj.setDefConfig=function(){},myAttentionObj.init=function(){myAttentionObj.onloadExecution(),myAttentionObj.setDefConfig()};var myHemaiObj=new PageController({name:"myHemai",tpl:"template/hemai/myHemai.html"});myHemaiObj.createDomObj=function(){this.wrapObj=$("#myHemai_wrapObj"),this.buyObj=$("#myHemai_buyObj"),this.overNumObj=$("#myHemai_overNumObj"),this.overInputObj=$("#myHemai_moneyObj"),this.copObj=$("#myHemai_copObj")},myHemaiObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){myHemaiObj.updateMoneyEvent(a)})},myHemaiObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"xy":return this.goHemaixy(),!0}}var e=$.oto_checkEvent(a,"DL");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"godetail":return this.goDetail(c),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"moreList":return this.moreList(c),!0;case"gobuy":return this.gobuy(c),!0;case"reduce":return this.reduceNum(),!0;case"per":return this.showOverNum(),!0;case"increase":return this.addNum(),!0;case"od":this.delOverVal();break;case"os":this.hideOverTips();break;case"on":this.updateOverVal(c);break;case"attention":this.myAttention()}}var g=$.oto_checkEvent(a,"P");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"backbtn":return this.goBack(),!0;case"buyAll":return this.buyAll(),!0;case"submit":return this.goPay(),!0}}},myHemaiObj.goDetail=function(a){var b=a.attr("data-v");hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),myHemaiObj.show()},hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(b)})},myHemaiObj.myAttention=function(){myAttentionObj.goBack=function(){myAttentionObj.destroy(),myHemaiObj.show()},myAttentionObj.show()},myHemaiObj.gobuy=function(a){var b=$("#myHemai"),c=b.find("#myHemai_buyObj");c.length>0&&("none"==c.css("display")?(!function(){0==$("#buy_bgLayer").length&&(b.append('<div style="width:100%;height:100%;background:transparent;position:fixed;left:0;top:0;z-index:90" id="buy_bgLayer"></div>'),$("#buy_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#buy_bgLayer").unbind("tap").tap(function(){$("#myHemai_buyObj").hide(),$("#buy_bgLayer").remove()}))}(),c.show()):($("#myHemai_buyObj").hide(),$("#buy_bgLayer").remove())),this.lotteryType=a.attr("data-k"),this.lotteryNo=a.attr("data-n"),this.productId=a.attr("data-v"),this.allNum=a.attr("data-b"),this.overNum=1,this.copObj.html(this.overNum+"份"),this.overInputObj.html(this.overNum)},myHemaiObj.reduceNum=function(){this.overNum>1&&(this.overNum=this.overNum-1,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"))},myHemaiObj.addNum=function(){this.overNum=this.overNum+1,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},myHemaiObj.showOverNum=function(){this.overNumObj.show(),this.checkTipsShow=!0},myHemaiObj.updateOverVal=function(a){this.checkTipsShow&&(this.overNum=0,this.checkTipsShow=!1);var b=a.attr("data-v");this.overNum=Number(this.overNum+""+b),this.overNum>this.maxOver&&(this.overNum=this.maxOver),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},myHemaiObj.delOverVal=function(){this.overNum=Number((this.overNum+"").slice(0,-1)),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},myHemaiObj.hideOverTips=function(){this.overNum<1&&(this.overNum=1),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"),this.overNumObj.hide(),this.checkTipsShow=!1,this.overInputObj.removeClass("fontblue")},myHemaiObj.goHemaixy=function(){hemaixyObj.goBack=function(){hemaixyObj.destroy(),myHemaiObj.show()},hemaixyObj.show()},myHemaiObj.moreList=function(a){var b=a.attr("data-v"),c=loginObj.userId;hemaiListObj.goBack=function(){hemaiListObj.destroy(),myHemaiObj.show()},hemaiListObj.show(!0,function(){hemaiListObj.setData({status:b,user_id:c})})},myHemaiObj.buyAll=function(){this.overNum=this.allNum,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},myHemaiObj.goPay=function(){var a={lotteryType:this.lotteryType.toUpperCase(),lotteryNo:this.lotteryNo,product_id:this.productId,product_type:this.productType,pay_amount:this.overNum,assure_amount:-1};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),myHemaiObj.show()},setTimeout(function(){buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})},300)},myHemaiObj.getData=function(){var a={user_id:loginObj.userId},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.TogetherUserInfo",data:b,type:"post",dataType:"json",success:function(a){"0000"==a.code&&(myHemaiObj.formatHtmlA(a.info),myHemaiObj.formatHtmlB(a.info.project_info.launch),myHemaiObj.formatHtmlC(a.info.project_info.follow))}})},myHemaiObj.formatHtmlA=function(a){var b=a;$("#myHemai_name").html(b.user_name),$("#myHemai_follow").html(b.follow_num),$("#myHemai_fans").html(b.fans_num),$("#myHemai_buyMoney").html(b.project_total_money),$("#myHemai_prizeMoney").html(b.prize_total_money)},myHemaiObj.formatHtmlB=function(a){function b(a){for(var c=[],d=[],e=0;e<a.length;e++)"object"==typeof a[e].goods_status?b(a[e]):"on"==a[e].goods_status?c.push(a[e]):d.push(a[e]);var c=c.concat(d);return c}if(0==a.length){var c=[];return c.push('<div class="hemaiIndex_option option_white"><p>暂无合买信息！</p></div>'),$("#myHemai_recomRecord").html(c.join("")),$("#myHemai_onlist").hide(),!1}for(var d=a,e=b(d),c="",f=0,g=e.length;f<g;f++){var h=e[f];"on"==h.goods_status?c+='<div class="myRecord_list"><div class="myRecord_list_t clearfix"><div class="content1"><p style="font-size:12px;">'+h.lottery_type_cn+'</p></div><div class="content5"><p>'+h.sell_end_time+'截止</p></div><div class="content2 myRecord_btn"><span data-t="gobuy" data-v="'+h.lottery_id+'" data-k="'+h.lottery_type+'" data-n="'+h.lottery_no+'" data-b="'+h.completeNum+'">立即跟单</span></div></div><dl class="hm_list_b" data-t="godetail" data-v="'+h.lottery_id+'"><div class="content3 hmPace" style="text-align: center;"><canvas id="b'+h.lottery_id+'" class="hm_scale" width="120px" height="120px" style="width: 60px;height: 60px;"></canvas><div class="hm_pace"><p>'+h.completerate+"%</p><span>保"+h.assure_rate+'%</span></div></div><div class="content3 hm_info"><p>总金额</p><span>'+h.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+h.share_user_num+'</span></div><div class="content3 hm_info"><p>剩余份数</p><span>'+h.completeNum+'</span></div><div class="content4 hmIndex_arr"></div></dl></div>':c+='<dl class="myRecord_list clearfix" data-t="godetail" data-v="'+h.lottery_id+'"><div class="content3 hm_info"><p>彩种</p><span>'+h.lottery_type_cn+'</span></div><div class="content3 hm_info"><p>总金额</p><span>'+h.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+h.share_user_num+'</span></div><div class="content3 hm_info" id="myHemai_project'+h.lottery_id+'"></div><div class="content4 hmIndex_arr"></div></dl>'}$("#myHemai_recomRecord").html(c);for(var i=0,g=e.length;i<g;i++){var h=e[i],j="";"cancel"==h.goods_status?j+='<div class="hemai_result">已撤单</div>':"fail"==h.goods_status?j+='<div class="hemai_result">已流单</div>':"deal"==h.goods_status?"yes"==h.print_status?j+='<div class="hemai_result result_y">待开奖</div>':"not"==h.print_status?j+='<div class="hemai_result">待出票</div>':j+='<div class="hemai_result">出票中</div>':"end"==h.goods_status&&("Prize"==h.prize_status?h.net_prize>0?j+='<div class="hemai_result result_y">已中奖</div>':j+='<div class="hemai_result">未中奖</div>':"Not"==h.prize_status?j+='<div class="hemai_result result_y">待开奖</div>':j+='<div class="hemai_result result_y">待派奖</div>'),$("#myHemai_project"+h.lottery_id).html(j)}for(var k=0,g=e.length;k<g;k++)if("on"==e[k].goods_status){var l="b"+e[k].lottery_id;drawCircle({id:l,color:"#e04241",angle:e[k].completerate/100,lineWidth:4})}},myHemaiObj.formatHtmlC=function(a){function b(a){for(var c=[],d=[],e=0;e<a.length;e++)"object"==typeof a[e].goods_status?b(a[e]):"on"==a[e].goods_status?c.push(a[e]):d.push(a[e]);var c=c.concat(d);return c}if(0==a.length){var c=[];return c.push('<div class="hemaiIndex_option option_white"><p>暂无合买信息！</p></div>'),$("#myHemai_recentRecord").html(c.join("")),$("#myHemai_endlist").hide(),!1}for(var d=a,e=b(d),c="",f=0,g=e.length;f<g;f++){var h=e[f];"on"==h.goods_status?c+='<div class="myRecord_list"><div class="myRecord_list_t clearfix"><div class="content1"><p style="font-size:12px;">'+h.lottery_type_cn+'</p></div><div class="content5"><p>'+h.sell_end_time+'截止</p></div><div class="content2 myRecord_btn"><span data-t="gobuy" data-v="'+h.lottery_id+'" data-k="'+h.lottery_type+'" data-n="'+h.lottery_no+'" data-b="'+h.completeNum+'">立即跟单</span></div></div><dl class="hm_list_b" data-t="godetail" data-v="'+h.lottery_id+'"><div class="content3 hmPace" style="text-align: center;"><canvas id="c'+h.lottery_id+'" class="hm_scale" width="120px" height="120px" style="width: 60px;height: 60px;"></canvas><div class="hm_pace"><p>'+h.completerate+"%</p><span>保"+h.assure_rate+'%</span></div></div><div class="content3 hm_info"><p>总金额</p><span>'+h.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+h.share_user_num+'</span></div><div class="content3 hm_info"><p>剩余份数</p><span>'+h.completeNum+'</span></div><div class="content4 hmIndex_arr"></div></dl></div>':c+='<dl class="myRecord_list clearfix" data-t="godetail" data-v="'+h.lottery_id+'"><div class="content3 hm_info"><p>彩种</p><span>'+h.lottery_type_cn+'</span></div><div class="content3 hm_info"><p>总金额</p><span>'+h.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+h.share_user_num+'</span></div><div class="content3 hm_info" id="myHemai_project'+h.lottery_id+'"></div><div class="content4 hmIndex_arr"></div></dl>'}$("#myHemai_recentRecord").html(c);for(var i=0,g=e.length;i<g;i++){var h=e[i],j=""
;"cancel"==h.goods_status?j+='<div class="hemai_result">已撤单</div>':"fail"==h.goods_status?j+='<div class="hemai_result">已流单</div>':"deal"==h.goods_status?"yes"==h.print_status?j+='<div class="hemai_result result_y">待开奖</div>':"not"==h.print_status?j+='<div class="hemai_result">待出票</div>':j+='<div class="hemai_result">出票中</div>':"end"==h.goods_status&&("Prize"==h.prize_status?h.net_prize>0?j+='<div class="hemai_result result_y">已中奖</div>':j+='<div class="hemai_result">未中奖</div>':"Not"==h.prize_status?j+='<div class="hemai_result result_y">待开奖</div>':j+='<div class="hemai_result result_y">待派奖</div>'),$("#myHemai_project"+h.lottery_id).html(j)}for(var k=0,g=e.length;k<g;k++)if("on"==e[k].goods_status){var l="c"+e[k].lottery_id;drawCircle({id:l,color:"#e04241",angle:e[k].completerate/100,lineWidth:4})}},myHemaiObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},myHemaiObj.setDefConfig=function(){this.overNum=1,this.allNum="",this.id="",this.productId="",this.lotteryNo="",this.lotteryType="",this.productType=""},myHemaiObj.init=function(){myHemaiObj.onloadExecution(),myHemaiObj.setDefConfig()};var starIndexObj=new PageController({name:"starIndex",tpl:"template/hemai/starIndex.html"});starIndexObj.createDomObj=function(){this.wrapObj=$("#starIndex_wrapObj"),this.buyObj=$("#starIndex_buyObj"),this.overNumObj=$("#starIndex_overNumObj"),this.overInputObj=$("#starIndex_moneyObj"),this.copObj=$("#starIndex_copObj")},starIndexObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){starIndexObj.updateMoneyEvent(a)})},starIndexObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"xy":return this.goHemaixy(),!0}}var e=$.oto_checkEvent(a,"DL");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"godetail":return this.goDetail(c),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"moreList":return this.moreList(c),!0;case"gobuy":return this.gobuy(c),!0;case"reduce":return this.reduceNum(),!0;case"per":return this.showOverNum(),!0;case"increase":return this.addNum(),!0;case"od":this.delOverVal();break;case"os":this.hideOverTips();break;case"on":this.updateOverVal(c);break;case"atn":this.atn(c)}}var g=$.oto_checkEvent(a,"P");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"backbtn":return this.goBack(),!0;case"buyAll":return this.buyAll(),!0;case"submit":return this.goPay(),!0}}},starIndexObj.goDetail=function(a){var b=a.attr("data-v");hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),starIndexObj.show()},hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(b)})},starIndexObj.gobuy=function(a){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},2e3),!1;var b=$("#starIndex"),c=b.find("#starIndex_buyObj");c.length>0&&("none"==c.css("display")?(!function(){0==$("#buy_bgLayer").length&&(b.append('<div style="width:100%;height:100%;background:transparent;position:fixed;left:0;top:0;z-index:90" id="buy_bgLayer"></div>'),$("#buy_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#buy_bgLayer").unbind("tap").tap(function(){$("#starIndex_buyObj").hide(),$("#buy_bgLayer").remove()}))}(),c.show()):($("#starIndex_buyObj").hide(),$("#buy_bgLayer").remove())),this.lotteryType=a.attr("data-k"),this.lotteryNo=a.attr("data-n"),this.productId=a.attr("data-v"),this.allNum=a.attr("data-b"),this.overNum=1,this.copObj.html(this.overNum+"份"),this.overInputObj.html(this.overNum)},starIndexObj.reduceNum=function(){this.overNum>1&&(this.overNum=this.overNum-1,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"))},starIndexObj.addNum=function(){this.overNum=this.overNum+1,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},starIndexObj.showOverNum=function(){this.overNumObj.show(),this.checkTipsShow=!0},starIndexObj.goList=function(){hmUserlistObj.goBack=function(){hmUserlistObj.destroy(),starIndexObj.show()},hmUserlistObj.show()},starIndexObj.updateOverVal=function(a){this.checkTipsShow&&(this.overNum=0,this.checkTipsShow=!1);var b=a.attr("data-v");this.overNum=Number(this.overNum+""+b),this.overNum>this.maxOver&&(this.overNum=this.maxOver),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},starIndexObj.delOverVal=function(){this.overNum=Number((this.overNum+"").slice(0,-1)),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},starIndexObj.hideOverTips=function(){this.overNum<1&&(this.overNum=1),this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份"),this.overNumObj.hide(),this.checkTipsShow=!1,this.overInputObj.removeClass("fontblue")},starIndexObj.goHemaixy=function(){hemaixyObj.goBack=function(){hemaixyObj.destroy(),starIndexObj.show()},hemaixyObj.show()},starIndexObj.moreList=function(a){var b=a.attr("data-v"),c=this.id;hemaiListObj.goBack=function(){hemaiListObj.destroy(),starIndexObj.show()},hemaiListObj.show(!0,function(){hemaiListObj.setData({status:b,user_id:c})})},starIndexObj.buyAll=function(){this.overNum=this.allNum,this.overInputObj.html(this.overNum),this.copObj.html(this.overNum+"份")},starIndexObj.atn=function(a){if(!loginObj.isLogin)return $.alertMsg("请先登录！",!1),setTimeout(function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},2e3),!1;var b=a.attr("data-v"),c=a.attr("data-k");"no"==b?(a.addClass("y_btn"),a.attr("data-v","yes"),a.html("取消关注"),$("#star_fans").html(this.fans_num+1),this.fans_num=this.fans_num+1,this.relation_type="build"):"yes"==b&&(a.removeClass("y_btn"),a.attr("data-v","no"),a.html("关注"),$("#star_fans").html(this.fans_num-1),this.fans_num=this.fans_num-1,this.relation_type="cancel");var d={user_id:c,relation_type:this.relation_type},e={para:Global.encrypt(d),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.setRelation",data:e,type:"post",dataType:"json",success:function(a){$.alertMsg(a.code_str,!0)}})},starIndexObj.goPay=function(){var a={lotteryType:this.lotteryType.toUpperCase(),lotteryNo:this.lotteryNo,product_id:this.productId,product_type:this.productType,pay_amount:this.overNum,assure_amount:-1};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),starIndexObj.show()},setTimeout(function(){buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})},300)},starIndexObj.setData=function(a){this.id=a.owner_id,starIndexObj.getData()},starIndexObj.getData=function(){var a={user_id:this.id},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.TogetherUserInfo",data:b,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code),!1;starIndexObj.formatHtmlA(a.info),starIndexObj.formatHtmlB(a.info.project_info.on),starIndexObj.formatHtmlC(a.info.project_info.end)}})},starIndexObj.formatHtmlA=function(a){var b=a;$("#starIndex_name").html(b.user_name),$("#star_follow").html(b.follow_num),$("#star_fans").html(b.fans_num),this.fans_num=parseFloat(b.fans_num),$("#starIndex_buyMoney").html(b.project_total_money),$("#starIndex_prizeMoney").html(b.prize_total_money),1==b.follow_status?$("#starIndex_option").html('<span class="starAtn_btn y_btn" data-t="atn" data-v="yes" data-k="'+this.id+'">取消关注</span>'):$("#starIndex_option").html('<span class="starAtn_btn" data-t="atn" data-v="no" data-k="'+this.id+'">关注</span>')},starIndexObj.formatHtmlB=function(a){if(0==a.length){var b=[];return b.push('<div class="hemaiIndex_option option_white"><p>暂无推荐信息！</p></div>'),$("#recomRecord").html(b.join("")),$("#starIndex_onlist").hide(),!1}for(var b="",c=0,d=a.length;c<d;c++){var e=a[c];b+='<div class="myRecord_list"><div class="myRecord_list_t clearfix"><div class="content1"><p style="font-size:12px;">'+e.lottery_type_cn+'</p></div><div class="content5"><p>'+e.sell_end_time+'截止</p></div><div class="content2 myRecord_btn"><span data-t="gobuy" data-v="'+e.lottery_id+'" data-k="'+e.lottery_type+'" data-n="'+e.lottery_no+'" data-b="'+e.completeNum+'">立即跟单</span></div></div><dl class="hm_list_b" data-t="godetail" data-v="'+e.lottery_id+'"><div class="content3 hmPace" style="text-align: center;"><canvas id="a'+e.lottery_id+'" class="hm_scale" width="120px" height="120px" style="width: 60px;height: 60px;"></canvas><div class="hm_pace"><p>'+e.completerate+"%</p><span>保"+e.assure_rate+'%</span></div></div><div class="content3 hm_info"><p>总金额</p><span>'+e.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+e.share_user_num+'</span></div><div class="content3 hm_info"><p>剩余份数</p><span>'+e.completeNum+'</span></div><div class="content4 hmIndex_arr"></div></dl></div>'}$("#recomRecord").html(b);for(var f=0,d=a.length;f<d;f++){var g="a"+a[f].lottery_id;drawCircle({id:g,color:"#e04241",angle:a[f].completerate/100,lineWidth:4})}},starIndexObj.formatHtmlC=function(a){if(0==a.length){var b=[];return b.push('<div class="hemaiIndex_option option_white"><p>暂无合买信息！</p></div>'),$("#recentRecord").html(b.join("")),$("#starIndex_endlist").hide(),!1}for(var b="",c=0,d=a.length;c<d;c++){var e=a[c];b+='<dl class="myRecord_list clearfix" data-t="godetail" data-v="'+e.lottery_id+'"><div class="content3 hm_info"><p>彩种</p><span>'+e.lottery_type_cn+'</span></div><div class="content3 hm_info"><p>总金额</p><span>'+e.money+'</span></div><div class="content3 hm_info"><p>参与人数</p><span>'+e.share_user_num+'</span></div><div class="content3 hm_info"><div class="hemai_result '+(e.net_prize>0?"result_y":"")+'">'+(e.net_prize>0?"已中奖":"未中奖")+'</div></div><div class="content4 hmIndex_arr"></div></dl>'}$("#recentRecord").html(b)},starIndexObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},starIndexObj.setDefConfig=function(){this.overNum=1,this.allNum="",this.id="",this.productId="",this.lotteryNo="",this.lotteryType="",this.productType="",this.fans_num=""},starIndexObj.init=function(){starIndexObj.onloadExecution(),starIndexObj.setDefConfig()};var chartIdxObj=new PageController({name:"chartIdx",tpl:"template/kaijiang/chartIdx.html"});chartIdxObj.destroy=function(){for(var a in window.localStorage)-1!=a.indexOf("lottery")&&window.localStorage.removeItem(a);this.setDefConfig(),$("#"+this.name).html("").remove()},chartIdxObj.createDomObj=function(){this.wrapperObj=$("#chartIdx_wrapperObj")},chartIdxObj.createEvent=function(){$("#chartIdx_back").unbind("tap").tap(function(){chartIdxObj.goBack()}),this.wrapperObj.unbind("tap").tap(function(a){if("A"===a.target.tagName){var b=$.oto_checkEvent(a,"A");if(b){b=$(b);var c=b.parent().attr("data-t"),d=b.attr("data-v"),e=b.attr("data-cn");if("d3Sub"===c)return void chartIdxObj.goD3ChartSub(d,e);if("pl3Sub"===c)return void chartIdxObj.goPl3ChartSub(d,e);if("ssqSub"===c)return void chartIdxObj.goSsqChartSub(d);if("dltSub"===c)return void chartIdxObj.goDltChartSub(d);if("pl5Sub"===c)return void chartIdxObj.goPl5ChartSub(d)}}var f=$.oto_checkEvent(a,"DL");if(f){var g=$(f);switch(g.attr("data-t")){case"href":chartIdxObj.goChart(g)}}})},chartIdxObj.goChart=function(a){switch(a.attr("data-v")){case"dlt":return void chartIdxObj.goDltChart();case"ssq":return void chartIdxObj.goSsqChart();case"pl3":return void chartIdxObj.goPl3Chart();case"d3":return void chartIdxObj.goD3Chart();case"pl5":return void chartIdxObj.goPl5Chart();case"qxc":return void chartIdxObj.goQxcChart();case ConfigObj.fastLotType:return void chartIdxObj.goFastBetChart(ConfigObj.fastLotType)}},chartIdxObj.goDltChart=function(){dltTrendObj.goBack=function(){chartIdxObj.show(),dltTrendObj.destroy()},dltTrendObj.show("reload")},chartIdxObj.goDltChartSub=function(a){dltTrendObj.goBack=function(){chartIdxObj.show(),dltTrendObj.destroy()},dltTrendObj.show(!0,function(){console.clear(),dltTrendObj.updateTrendName($("#dltTrend_"+a))})},chartIdxObj.goSsqChart=function(){ssqTrendObj.goBack=function(){chartIdxObj.show(),ssqTrendObj.destroy()},ssqTrendObj.show("reload")},chartIdxObj.goSsqChartSub=function(a){ssqTrendObj.goBack=function(){chartIdxObj.show(),ssqTrendObj.destroy()},ssqTrendObj.show(!0,function(){ssqTrendObj.updateTrendName($("#ssqTrend_"+a))})},chartIdxObj.goPl3Chart=function(){pl3TrendObj.goBack=function(){chartIdxObj.show(),pl3TrendObj.destroy()},pl3TrendObj.show("reload")},chartIdxObj.goPl3ChartSub=function(a,b){pl3TrendObj.goBack=function(){chartIdxObj.show(),pl3TrendObj.destroy()},pl3TrendObj.show(!0,function(){pl3TrendObj.updatelottery(a,b)})},chartIdxObj.goD3Chart=function(){d3TrendObj.goBack=function(){chartIdxObj.show(),d3TrendObj.destroy()},d3TrendObj.show("reload")},chartIdxObj.goD3ChartSub=function(a,b){d3TrendObj.goBack=function(){chartIdxObj.show(),d3TrendObj.destroy()},d3TrendObj.show(!0,function(){d3TrendObj.updatelottery(a,b)})},chartIdxObj.goPl5Chart=function(){pl5TrendObj.goBack=function(){chartIdxObj.show(),pl5TrendObj.destroy()},pl5TrendObj.show("reload")},chartIdxObj.goPl5ChartSub=function(a){pl5TrendObj.goBack=function(){chartIdxObj.show(),pl5TrendObj.destroy()},pl5TrendObj.show(!0,function(){pl5TrendObj.updateTrendName($("#pl5Trend_"+a))})},chartIdxObj.goQxcChart=function(){qxcTrendObj.goBack=function(){chartIdxObj.show(),qxcTrendObj.destroy()},qxcTrendObj.show("reload")},chartIdxObj.goFastBetChart=function(a){fastTrendObj.goBack=function(){chartIdxObj.show(),fastTrendObj.destroy()},fastTrendObj.show("reload",function(){"gd11x5"==a&&fastTrendObj.updatelottery("R2","任二")})},chartIdxObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},chartIdxObj.init=function(){chartIdxObj.onloadExecution()},chartIdxObj.goBack=function(){},chartIdxObj.dirShow=function(){chartIdxObj.show()};var d3TimeObj=new Object;d3TimeObj.createDom=function(){this.qhObj=$("#d3Trend_qhObj"),this.subObj=$("#d3Trend_subObj")},d3TimeObj.getClientTime=function(){return(new date).getTime()},d3TimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},d3TimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+"?m=Ajax.stat.getscheduletime",data:"lotteryType=D3&v="+(new Date).getTime(),type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),d3TimeObj.getTimeObj=setTimeout(function(){d3TimeObj.getLotteryData()},d3TimeObj.d3TimeObjNoInterval),!1):"Y"==a.info.stop?(d3TimeObj.stop=!0,d3TimeObj.qhObj.html("每天09:00-23:50销售"),d3TimeObj.setData(a.info),d3TimeObj.resetSetTime(),d3TimeObj.subObj.attr("data-stop","1"),!1):(d3TimeObj.subObj.removeAttr("data-stop"),d3TimeObj.stop=!1,d3TimeObj.getTimeObj&&(clearTimeout(d3TimeObj.getTimeObj),d3TimeObj.getTimeObj=""),void(d3TimeObj.lotteryNoChange&&a.info.lotteryNo!=d3TimeObj.lotteryNo?(d3TimeObj.setData(a.info),d3TimeObj.resetSetTime(),d3TimeObj.lotteryNoChange(a.info)):(d3TimeObj.setData(a.info),d3TimeObj.resetSetTime())))}})},d3TimeObj.lotteryNoChange=function(a){d3TrendObj.postData.lotteryNoVal=a.lotteryNo,$("#d3Confirm").length>0&&d3ConfirmObj.updBetTipsObj&&d3ConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},d3TimeObj.getCG=function(a,b){a=a||this.d3TimeObjCG,d3TimeObj.getCGObj=setTimeout(function(){var a=d3TrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.d3.getChartData",data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),d3TimeObj.getCG(d3TimeObj.d3TimeObjCGInterval,b),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.list&&a.info.list.length?(d3TimeObj.getCGObj&&(clearTimeout(d3TimeObj.getCGObj),d3TimeObj.getCGObj=""),void d3TimeObj.createNewCG(a.info)):(d3TimeObj.getCG(d3TimeObj.d3TimeObjCGInterval,b),!1))}})},a)},d3TimeObj.createNewCG=function(a){d3TrendObj.temTrendData.list.push(a.list[0]),d3TrendObj.temTrendData.num_max_miss=a.num_max_miss,d3TrendObj.temTrendData.num_avg_miss=a.num_avg_miss,d3TrendObj.temTrendData.num_pre_miss=a.num_pre_miss,d3TrendObj.temTrendData.num_cur_miss=a.num_cur_miss,d3TrendObj.temTrendData.num_con_miss=a.num_con_miss,d3TrendObj.temTrendData.num_hap_pro=a.num_hap_pro,d3TrendObj.temTrendData.num_all=a.num_all,"LR"==d3TrendObj.postData.trendName?d3TrendObj.ajaxGetLRData():d3TrendObj.createListDom(a.list)},d3TimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},d3TimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},d3TimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){d3TimeObj.nowTime+=1e3},1e3)},d3TimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!d3TimeObj.syTime)return!1;Math.abs(a-d3TimeObj.nowTime)>d3TimeObj.errorTime&&d3TimeObj.getLotteryData()},this.correctInterval)},d3TimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return d3TimeObj.syTimeObj&&clearTimeout(d3TimeObj.syTimeObj),d3TimeObj.syTimeObj="",d3TimeObj.getCG(d3TimeObj.d3TimeObjCG,"append"),d3TimeObj.setLotteryNoTipsHtml(),d3TimeObj.getLotteryData(),!1;if(!d3TimeObj.stop){var b=0;a>3600&&(b=Math.floor(a/3600));var c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=d3TimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+(b?b+":":"")+c+":"+d+"</span>";d3TimeObj.qhObj.html(e)}a--},1e3)},d3TimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},d3TimeObj.setDefConfig=function(){d3TimeObj.lotteryNo="",d3TimeObj.nowTime=(new Date).getTime(),d3TimeObj.syTime=0,d3TimeObj.d3TimeObjCG=36e4,d3TimeObj.d3TimeObjCGInterval=6e4,d3TimeObj.d3TimeObjNoInterval=6e4,d3TimeObj.correctInterval=1e4,d3TimeObj.errorTime=1e5,d3TimeObj.stop=!1,d3TimeObj.tips=!0,this.correctTimeObj&&clearInterval(d3TimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(d3TimeObj.nowTimeObj),this.syTimeObj&&clearInterval(d3TimeObj.syTimeObj),this.getTimeObj&&clearTimeout(d3TimeObj.getTimeObj),this.getCGObj&&clearTimeout(d3TimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var d3TrendObj=new PageController({name:"d3Trend",tpl:"template/kaijiang/d3Trend.html"});d3TrendObj.setDefConfig=function(){d3TrendObj.titleWidth=.175,d3TrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),d3TrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),d3TrendObj.conWidth=Number((Number(d3TrendObj.clientWidth)*(1-d3TrendObj.titleWidth)).toFixed(2)),d3TrendObj.conHeight=Number(d3TrendObj.clientHeight-101-78),d3TrendObj.maxPage=0,d3TrendObj.page=0,d3TrendObj.borderWidth=1,d3TrendObj.titleIscroll="",d3TrendObj.listTitleIscroll="",d3TrendObj.listIscroll="",d3TrendObj.temTrendData="",d3TrendObj.temLRTrendData="",d3TrendObj.temSortDom="",d3TrendObj.selectBetData=new Array,d3TrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:"d3",trendType:"IP",trendName:"HM",lotteryNoVal:""}},d3TrendObj.betNumData={IP:[1,1,1],UP3:[2],UP6:[3],IH:[1],UH3:[1],UH6:[1]},d3TrendObj.betData={IP:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),UP3:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),UP6:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),IH:new Array(new Array("0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27")),UH3:new Array(new Array("0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27")),UH6:new Array(new Array("0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27"))},d3TrendObj.betTitle={IP:["第一位","第二位","第三位"],UP3:["组三"],UP6:["组六"],IH:["直选和值","直选和值","直选和值"],UH3:["组三和值","组三和值","组三和值"],UH6:["组六和值","组六和值","组六和值"]},d3TrendObj.HMTitleData=d3TrendObj.betData,d3TrendObj.YLTitleData={IP:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),UP3:new Array(new Array("最大","上次","当期","欲出")),UP6:new Array(new Array("最大","上次","当期","欲出")),IH:new Array(new Array("最大","上次","当期","欲出")),UH3:new Array(new Array("最大","上次","当期","欲出")),UH6:new Array(new Array("最大","上次","当期","欲出"))},d3TrendObj.LRTitleData={IP:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),UP3:new Array(new Array("30期","50期","100期","遗漏")),UP6:new Array(new Array("30期","50期","100期","遗漏")),IH:new Array(new Array("30期","50期","100期","遗漏")),UH3:new Array(new Array("30期","50期","100期","遗漏")),UH6:new Array(new Array("30期","50期","100期","遗漏"))},d3TrendObj.YLSortKey={IP:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UP3:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UP6:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),IH:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UH3:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UH6:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"))},d3TrendObj.LRSortKey={IP:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")),UP3:new Array(new Array("30","50","100","miss")),UP6:new Array(new Array("30","50","100","miss")),IH:new Array(new Array("30","50","100","miss")),UH3:new Array(new Array("30","50","100","miss")),UH6:new Array(new Array("30","50","100","miss"))},d3TrendObj.HMTitleClass={IP:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3"),UP3:new Array("trend_num fontred"),UP6:new Array("trend_num fontred"),IH:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3"),UH3:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3"),UH6:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3")},d3TrendObj.YLTitleClass={IP:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3"),UP3:new Array("trend_num trend_yl"),UP6:new Array("trend_num trend_yl"),IH:new Array("trend_num trend_yl"),UH3:new Array("trend_num trend_yl"),UH6:new Array("trend_num trend_yl")},d3TrendObj.LRTitleClass=d3TrendObj.YLTitleClass,d3TrendObj.HMTitleFirst={IP:["第一位>","第二位>","第三位>"],UP3:["期号"],UP6:["期号"],IH:["期号","期号","期号"],UH3:["期号","期号","期号"],UH6:["期号","期号","期号"]},d3TrendObj.YLTitleFirst={IP:["第一位<i>↑</i>","第二位<i>↑</i>","第三位<i>↑</i>"],UP3:["选号<i>↑</i>"],UP6:["选号<i>↑</i>"],IH:["选号<i>↑</i>"],UH3:["选号<i>↑</i>"],UH6:["选号<i>↑</i>"]},d3TrendObj.LRTitleFirst=d3TrendObj.YLTitleFirst,d3TrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],d3TrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],d3TrendObj.createDom=function(){this.lotteryObj=$("#d3Trend_lotteryObj"),this.playTitleObj=$("#d3Trend_playTitleObj"),this.updataPlayObj=$("#d3Trend_updataPlayObj"),this.setObj=$("#d3Trend_setObj"),this.titleFirstObj=$("#d3Trend_titleFirstObj"),this.titleConObj=$("#d3Trend_titleConObj"),this.listFirstObj=$("#d3Trend_listFirstObj"),this.listConObj=$("#d3Trend_listConObj"),this.betFirstObj=$("#d3Trend_betFirstObj"),this.betConObj=$("#d3Trend_betConObj"),this.explainObj=$("#d3Trend_explainObj"),this.betObj=$("#d3Trend_betObj"),this.selectObj=$("#d3Trend_selectObj"),this.betMoneyObj=$("#d3Trend_betMoneyObj"),this.qhObj=$("#d3Trend_qhObj"),this.subObj=$("#d3Trend_subObj")},d3TrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){d3TrendObj.lotteryEvent(a)})},d3TrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return d3TrendObj.goBack(),!0;case"updatelottery":return d3TrendObj.updatelottery(c.attr("data-v"),c.attr("data-cn"),c),!0;case"subData":return d3TrendObj.subData(c),!0;case"delAll":return d3TrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return d3TrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("d3Trend_setObj"!=c[0].id)return!1;d3TrendObj.hideSet()}},d3TrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.hide(),a.attr("data-s",0),this.lotteryObj.find(".trend_tab").css({position:"fixed"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap").addClass("centerWrap_1")):(this.updataPlayObj.show(),a.attr("data-s",1),this.lotteryObj.find(".trend_tab").css({position:"static"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap_1").addClass("centerWrap"));var b=document.body.scrollHeight,c=$('<div id="d3Trend_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("#d3Trend").append(c),c.unbind("tap").tap(function(){d3TrendObj.updataPlayObj.hide(),d3TrendObj.playTitleObj.attr("data-s","0"),c.remove()})},d3TrendObj.ajaxGetData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.d3.getChartData",data:a,type:"post",dataType:"json",success:function(a){return"0000"!=a.code?($.alertMsg(a.code_str),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.trendType==d3TrendObj.postData.trendType&&(d3TrendObj.temTrendData=a.info,d3TrendObj.createPageData(),d3TrendObj.createDataDom(),void 0))}})},d3TrendObj.createFormatData=function(a){if("IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType)return a;var b=new Array;return b.push(a[0].slice(0,9)),b.push(a[0].slice(9,18)),b.push(a[0].slice(18,28)),b},d3TrendObj.createFormatI=function(a){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?a:0},d3TrendObj.createFormatKey=function(a,b){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?b:9*a+b},d3TrendObj.createFormatPage=function(a,b){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?3:"bet"==b?3:1},d3TrendObj.createFormatNowPage=function(a){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?a:0},d3TrendObj.createFormatBet=function(a,b){if("UH3"==this.postData.trendType){if(a<1)return"";if(a>26)return""}if("UH6"==this.postData.trendType){if(a<3)return"";if(a>24)return""}return b},d3TrendObj.createFormatClass=function(a){if("UH3"==this.postData.trendType){if(a<1)return"class='disabled'";if(a>26)return"class='disabled'"}if("UH6"==this.postData.trendType){if(a<3)return"class='disabled'";if(a>24)return"class='disabled'"}return""},d3TrendObj.ajaxGetLRData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.d3.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),d3TrendObj.temLRTrendData=a.info,d3TrendObj.createPageData(),d3TrendObj.createDataDom()}})},d3TrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},d3TrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},d3TrendObj.subSet=function(){for(var a=$("#d3Trend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},d3TrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},d3TrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight()},d3TrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this.createFormatData(this[a+"TitleData"][b]),d=this[a+"TitleFirst"][b][this.createFormatNowPage(this.page)],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+" trend_w"+c[g].length+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↑</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},d3TrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(d3TrendObj.temTrendData);break;case"YL":this.createYLLIst(d3TrendObj.temTrendData);break;case"LR":this.createLRLIst(d3TrendObj.temLRTrendData)}this.createListTitleIscroll(),this.createListIscroll()},d3TrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=this.createFormatData(f[g].num_miss),j=0,k=i.length;j<k;j++){e.push('<div class="trend_num trend_w'+i[j].length+'" style="width:'+this.conWidth+'px;">');for(var l=0,m=i[j].length;l<m;l++){var n=i[j][l];e.push("<span><em"+(0===Number(n.miss)?' class=" on"':"")+">"+(0===Number(n.miss)?n.hao:b?n.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){
var o=this.createHMStatistics(a);d=d.concat(o.titleHtml),e=e.concat(o.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},d3TrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_all))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_avg_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_max_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_con_miss))),{titleHtml:b,conHtml:c}},d3TrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num trend_w'+a[c].length+'" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},d3TrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},d3TrendObj.createLRLIst=function(data){var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},d3TrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},d3TrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.createFormatData(this.betData[a]),c=this.betTitle[a][this.createFormatNowPage(this.page)],d=new Array;d.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage,"bet")>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage,"bet")).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage,"bet")).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){d.push('<div class="trend_num fontred trend_w'+b[e].length+'" style="width:'+this.conWidth+'px;">');for(var g=0,h=b[e].length;g<h;g++)d.push('<span data-t="'+this.createFormatBet(this.createFormatKey(e,g),"bet")+'" data-i="'+this.createFormatI(e)+'" data-k="'+this.createFormatKey(e,g)+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][g]?"class='on'":this.createFormatClass(this.createFormatKey(e,g)))+">"+b[e][g]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},d3TrendObj.createListHeight=function(){var a=this.betObj.height(),b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},d3TrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){d3TrendObj.listIscroll.scrollTo(d3TrendObj.listIscroll.x,this.y)},onMomentum:function(){d3TrendObj.listIscroll.scrollTo(d3TrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},d3TrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){d3TrendObj.listIscroll.scrollTo(this.x,d3TrendObj.listIscroll.y),d3TrendObj.betIscroll.scrollTo(this.x,d3TrendObj.betIscroll.y),d3TrendObj.updatePage(this.x)},onMomentum:function(){d3TrendObj.listIscroll.scrollTo(this.x,d3TrendObj.listIscroll.y,this.duration),d3TrendObj.betIscroll.scrollTo(this.x,d3TrendObj.betIscroll.y,this.duration),d3TrendObj.updatePage(this.x)}})},d3TrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){d3TrendObj.titleIscroll.scrollTo(this.x,d3TrendObj.titleIscroll.y),d3TrendObj.betIscroll.scrollTo(this.x,d3TrendObj.betIscroll.y),d3TrendObj.listTitleIscroll.scrollTo(d3TrendObj.listTitleIscroll.x,this.y),d3TrendObj.updatePage(this.x)},onMomentum:function(){d3TrendObj.titleIscroll.scrollTo(this.x,d3TrendObj.titleIscroll.y,this.duration),d3TrendObj.betIscroll.scrollTo(this.x,d3TrendObj.betIscroll.y,this.duration),d3TrendObj.listTitleIscroll.scrollTo(d3TrendObj.listTitleIscroll.x,this.y,this.duration),d3TrendObj.updatePage(this.x)}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},d3TrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){if(!("YL"!=d3TrendObj.postData.trendName&&"LR"!=d3TrendObj.postData.trendName||"IH"!=d3TrendObj.postData.trendType&&"UH3"!=d3TrendObj.postData.trendType&&"UH6"!=d3TrendObj.postData.trendType))return!1;d3TrendObj.listIscroll.scrollTo(this.x,d3TrendObj.listIscroll.y),d3TrendObj.titleIscroll.scrollTo(this.x,d3TrendObj.titleIscroll.y),d3TrendObj.updatePage(this.x)},onMomentum:function(){if(!("YL"!=d3TrendObj.postData.trendName&&"LR"!=d3TrendObj.postData.trendName||"IH"!=d3TrendObj.postData.trendType&&"UH3"!=d3TrendObj.postData.trendType&&"UH6"!=d3TrendObj.postData.trendType))return!1;d3TrendObj.listIscroll.scrollTo(this.x,d3TrendObj.listIscroll.y,this.duration),d3TrendObj.titleIscroll.scrollTo(this.x,d3TrendObj.titleIscroll.y,this.duration),d3TrendObj.updatePage(this.x)}})},d3TrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page],d=this.betTitle[this.postData.trendType][this.page];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.page+'"]').addClass("on")},d3TrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?(this.page=0,this.createDataDom()):(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.createFormatNowPage(this.page)]),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.createFormatNowPage(this.page)+'"]').addClass("on")},d3TrendObj.updatelottery=function(a,b,c){this.playTitleObj.html("福彩3D-"+b+'<em class="down"></em>'),this.postData.trendType=a,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.updataPlayObj.find("p").removeClass("selected"),c&&c.addClass("selected"),this.playTitleObj.attr("data-s","0"),$("#d3Trend_upBGObj").length&&$("#d3Trend_upBGObj").remove(),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom()},d3TrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↑")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↑"),this.sortData(e,"down")),this.temSortDom=a},d3TrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?a[e]-a[f]:"up"==b?a[f]-a[e]:"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd")),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},d3TrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");d.hasClass("on")?(d.removeClass("on"),delete this.selectBetData[b][c]):(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c])},d3TrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg("请至少选择1注"),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!d.length||d.length<this.betNumData[this.postData.trendType][b])return $.alertMsg("请至少选择1注"),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return"FP2"!=this.postData.trendType&&"FP3"!=this.postData.trendType||0!=g?(a.push(this.postData.trendType),a.push(g),a.join("|")):($.alertMsg("请每位至少选择1个不同的号码"),!1)},d3TrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},d3TrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},d3TrendObj.getZS=function(){switch(this.postData.trendType){case"IP":return d3TrendObj.IPBonus();case"UP3":return 2*d3TrendObj.IPBonus();case"UP6":return d3TrendObj.IPBonus();case"IH":return d3TrendObj.IHBonus();case"UH3":return d3TrendObj.UH3Bonus();case"UH6":return d3TrendObj.UH6Bonus()}},d3TrendObj.IPBonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;if(this.selectBetData[b].every(function(a){return!a}))return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},d3TrendObj.IHBonus=function(){for(var a={0:1,1:3,2:6,3:10,4:15,5:21,6:28,7:36,8:45,9:55,10:63,11:69,12:73,13:75,14:75,15:73,16:69,17:63,18:55,19:45,20:36,21:28,22:21,23:15,24:10,25:6,26:3,27:1},b=0,c=0,d=this.betNumData[this.postData.trendType].length;b<d;b++)for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&(c+=a[this.selectBetData[b][e]]);return c},d3TrendObj.UH3Bonus=function(){for(var a={0:0,1:1,2:2,3:1,4:3,5:3,6:3,7:4,8:5,9:4,10:5,11:5,12:4,13:5,14:5,15:4,16:5,17:5,18:4,19:5,20:4,21:3,22:3,23:3,24:1,25:2,26:1,27:0},b=0,c=0,d=this.betNumData[this.postData.trendType].length;b<d;b++)for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&(c+=a[this.selectBetData[b][e]]);return c},d3TrendObj.UH6Bonus=function(){for(var a={0:0,1:0,2:0,3:1,4:1,5:2,6:3,7:4,8:5,9:7,10:8,11:9,12:10,13:10,14:10,15:10,16:9,17:8,18:7,19:5,20:4,21:3,22:2,23:1,24:1,25:0,26:0,27:0},b=0,c=0,d=this.betNumData[this.postData.trendType].length;b<d;b++)for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&(c+=a[this.selectBetData[b][e]]);return c},d3TrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case"d3":this.goPl3Confirm()}},d3TrendObj.goPl3Confirm=function(){var a=this;d3ConfirmObj.goBack=function(){d3TrendObj.show()},d3ConfirmObj.show("reload",function(){d3ConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"福彩3D",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},d3TrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},d3TrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},d3TrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]&&!this.selectBetData[b].every(function(a){return!a})){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.createFormatNowPage(this.page)==b?" on":"")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},d3TrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},d3TrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},d3TrendObj.init=function(){d3TrendObj.setDefConfig(),d3TimeObj.setDefConfig(),d3TrendObj.onloadExecution(),d3TimeObj.init()},d3TrendObj.destroy=function(){d3TrendObj.setDefConfig(),d3TimeObj.setDefConfig(),$("#d3Trend").html("").remove()};var dltTimeObj=new Object;dltTimeObj.createDom=function(){this.qhObj=$("#dltTrend_qhObj"),this.subObj=$("#dltTrend_subObj")},dltTimeObj.getClientTime=function(){return(new date).getTime()},dltTimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},dltTimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+"?m=Ajax.stat.getscheduletime",data:"lotteryType=DLT&v="+(new Date).getTime(),type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),dltTimeObj.getTimeObj=setTimeout(function(){dltTimeObj.getLotteryData()},dltTimeObj.dltTimeObjNoInterval),!1):"Y"==a.info.stop?(dltTimeObj.stop=!0,dltTimeObj.qhObj.html("每天09:00-23:50销售"),dltTimeObj.setData(a.info),dltTimeObj.resetSetTime(),dltTimeObj.subObj.attr("data-stop","1"),!1):(dltTimeObj.subObj.removeAttr("data-stop"),dltTimeObj.stop=!1,dltTimeObj.getTimeObj&&(clearTimeout(dltTimeObj.getTimeObj),dltTimeObj.getTimeObj=""),void(dltTimeObj.lotteryNoChange&&a.info.lotteryNo!=dltTimeObj.lotteryNo?(dltTimeObj.setData(a.info),dltTimeObj.resetSetTime(),dltTimeObj.lotteryNoChange(a.info)):(dltTimeObj.setData(a.info),dltTimeObj.resetSetTime())))}})},dltTimeObj.lotteryNoChange=function(a){dltTrendObj.postData.lotteryNoVal=a.lotteryNo,$("#dltConfirm").length>0&&dltConfirmObj.updBetTipsObj&&dltConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},dltTimeObj.getCG=function(a,b){a=a||this.dltTimeObjCG,dltTimeObj.getCGObj=setTimeout(function(){var a=dltTrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.dlt.getChartData",data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),dltTimeObj.getCG(dltTimeObj.dltTimeObjCGInterval,b),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.list&&a.info.list.length?(dltTimeObj.getCGObj&&(clearTimeout(dltTimeObj.getCGObj),dltTimeObj.getCGObj=""),void dltTimeObj.createNewCG(a.info)):(dltTimeObj.getCG(dltTimeObj.dltTimeObjCGInterval,b),!1))}})},a)},dltTimeObj.createNewCG=function(a){dltTrendObj.temTrendData.list.push(a.list[0]),dltTrendObj.temTrendData.num_max_miss=a.num_max_miss,dltTrendObj.temTrendData.num_avg_miss=a.num_avg_miss,dltTrendObj.temTrendData.num_pre_miss=a.num_pre_miss,dltTrendObj.temTrendData.num_cur_miss=a.num_cur_miss,dltTrendObj.temTrendData.num_con_miss=a.num_con_miss,dltTrendObj.temTrendData.num_hap_pro=a.num_hap_pro,dltTrendObj.temTrendData.num_all=a.num_all,"LR"==dltTrendObj.postData.trendName?dltTrendObj.ajaxGetLRData():dltTrendObj.createListDom(a.list)},dltTimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},dltTimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},dltTimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){dltTimeObj.nowTime+=1e3},1e3)},dltTimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!dltTimeObj.syTime)return!1;Math.abs(a-dltTimeObj.nowTime)>dltTimeObj.errorTime&&dltTimeObj.getLotteryData()},this.correctInterval)},dltTimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return dltTimeObj.syTimeObj&&clearTimeout(dltTimeObj.syTimeObj),dltTimeObj.syTimeObj="",dltTimeObj.getCG(dltTimeObj.dltTimeObjCG,"append"),dltTimeObj.setLotteryNoTipsHtml(),dltTimeObj.getLotteryData(),!1;if(!dltTimeObj.stop){var b=0;a>3600&&(b=Math.floor(a/3600));var c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=dltTimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+(b?b+":":"")+c+":"+d+"</span>";dltTimeObj.qhObj.html(e)}a--},1e3)},dltTimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},dltTimeObj.setDefConfig=function(){dltTimeObj.lotteryNo="",dltTimeObj.nowTime=(new Date).getTime(),dltTimeObj.syTime=0,dltTimeObj.dltTimeObjCG=36e4,dltTimeObj.dltTimeObjCGInterval=6e4,dltTimeObj.dltTimeObjNoInterval=6e4,dltTimeObj.correctInterval=1e4,dltTimeObj.errorTime=1e5,dltTimeObj.stop=!1,dltTimeObj.tips=!0,this.correctTimeObj&&clearInterval(dltTimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(dltTimeObj.nowTimeObj),this.syTimeObj&&clearInterval(dltTimeObj.syTimeObj),this.getTimeObj&&clearTimeout(dltTimeObj.getTimeObj),this.getCGObj&&clearTimeout(dltTimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var dltTrendObj=new PageController({name:"dltTrend",tpl:"template/kaijiang/dltTrend.html"});dltTrendObj.setDefConfig=function(){dltTrendObj.titleWidth=.175,dltTrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),dltTrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),dltTrendObj.conWidth=Number((Number(dltTrendObj.clientWidth)*(1-dltTrendObj.titleWidth)).toFixed(2)),dltTrendObj.conHeight=Number(dltTrendObj.clientHeight-101-78),dltTrendObj.maxPage=0,dltTrendObj.page=0,dltTrendObj.borderWidth=1,dltTrendObj.titleIscroll="",dltTrendObj.listTitleIscroll="",dltTrendObj.listIscroll="",dltTrendObj.temTrendData="",dltTrendObj.temLRTrendData="",dltTrendObj.temSortDom="",dltTrendObj.selectBetData=new Array,dltTrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:"dlt",trendType:"P",trendName:"HM",lotteryNoVal:""}},dltTrendObj.betNumData={P:[5,2]},dltTrendObj.betData={P:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35"),new Array("01","02","03","04","05","06","07","08","09","10","11","12"))},dltTrendObj.betTitle={P:["前区","前区","前区","后区"]},dltTrendObj.HMTitleData=dltTrendObj.betData,dltTrendObj.YLTitleData={P:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"))},dltTrendObj.LRTitleData={P:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"))},dltTrendObj.YLSortKey={P:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"))},dltTrendObj.LRSortKey={P:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss"))},dltTrendObj.HMTitleClass={P:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontblue tn4")},dltTrendObj.YLTitleClass={P:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2")},dltTrendObj.LRTitleClass=dltTrendObj.YLTitleClass,dltTrendObj.HMTitleFirst={P:["前区>","前区>","前区>","后区>"]},dltTrendObj.YLTitleFirst={P:["前区<i>↑</i>","后区<i>↑</i>"]},dltTrendObj.LRTitleFirst=dltTrendObj.YLTitleFirst,dltTrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],dltTrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],dltTrendObj.createDom=function(){this.lotteryObj=$("#dltTrend_lotteryObj"),this.playTitleObj=$("#dltTrend_playTitleObj"),this.updataPlayObj=$("#dltTrend_updataPlayObj"),this.setObj=$("#dltTrend_setObj"),this.titleFirstObj=$("#dltTrend_titleFirstObj"),this.titleConObj=$("#dltTrend_titleConObj"),this.listFirstObj=$("#dltTrend_listFirstObj"),this.listConObj=$("#dltTrend_listConObj"),this.betFirstObj=$("#dltTrend_betFirstObj"),this.betConObj=$("#dltTrend_betConObj"),this.explainObj=$("#dltTrend_explainObj"),this.betObj=$("#dltTrend_betObj"),this.selectObj=$("#dltTrend_selectObj"),this.betMoneyObj=$("#dltTrend_betMoneyObj"),this.qhObj=$("#dltTrend_qhObj"),this.subObj=$("#dltTrend_subObj"),this.bottomHeightObj=$("#dltTrend_bottomHeightObj")},dltTrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){dltTrendObj.lotteryEvent(a)})},dltTrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return dltTrendObj.goBack(),!0;case"updatelottery":return dltTrendObj.updatelottery(c),!0;case"subData":return dltTrendObj.subData(c),!0;case"delAll":return dltTrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return dltTrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("dltTrend_setObj"!=c[0].id)return!1;dltTrendObj.hideSet()}},dltTrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.hide(),a.attr("data-s",0)):(this.updataPlayObj.show(),a.attr("data-s",1));var b=document.body.scrollHeight,c=$('<div id="dltTrend_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("body").append(c),c.tap(function(){dltTrendObj.updataPlayObj.hide(),dltTrendObj.playTitleObj.attr("data-s","0"),c.remove()})},dltTrendObj.ajaxGetData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.dlt.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),dltTrendObj.temTrendData=a.info,dltTrendObj.createPageData(),dltTrendObj.createDataDom()}})},dltTrendObj.createFormatData=function(a){if("P"!=this.postData.trendType||"HM"!=this.postData.trendName)return a;var b=new Array;return b.push(a[0].slice(0,12)),b.push(a[0].slice(12,24)),b.push(a[0].slice(24,35)),b.push(a[1].slice(0,12)),b},dltTrendObj.createFormatI=function(a){if("P"!=this.postData.trendType)return a;switch(this.postData.trendName){case"HM":return a<3?0:1;case"YL":case"LR":return a>0?1:0}},dltTrendObj.createFormatKey=function(a,b){if("P"!=this.postData.trendType)return b;if("HM"==this.postData.trendName)switch(a){case 0:return b;case 1:return 12+b;case 2:return 24+b;case 3:return b}else if("YL"==this.postData.trendName||"LR"==this.postData.trendName)switch(a){case 0:case 1:return b}},dltTrendObj.createFormatPage=function(a,b){return"P"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?4:"YL"==this.postData.trendName?a:"LR"==this.postData.trendName?a:"bet"==b?4:1},dltTrendObj.createFormatNowPage=function(a){return"P"!=this.postData.trendType||"HM"!=this.postData.trendName?a:a<3?0:1},dltTrendObj.createFormatBet=function(a,b){return b},dltTrendObj.updateHeight=function(){if("P"==this.postData.trendType&&"HM"==this.postData.trendName)return!1;if(this.temHideObj||(this.temHideObj=[]),this.temTitleHideObj||(this.temTitleHideObj=[]),1==this.createFormatNowPage(this.page)){if(this.temHideObj.length)return!1;for(var a=this.listConObj.children("div").children("div"),b=this.listFirstObj.children("div").children("p"),c=0,d=a.length;c<d;c++)c<12||(a.eq(c).hide(),b.eq(c).hide(),this.temHideObj.push(a.eq(c)),this.temTitleHideObj.push(b.eq(c)));this.createListHeight(),this.listIscroll.refresh(),this.titleIscroll.refresh()}else{if(!this.temHideObj.length)return!1;for(var c=0,d=this.temHideObj.length;c<d;c++)this.temHideObj[c].show(),this.temTitleHideObj[c].show();this.temHideObj=[],this.temTitleHideObj=[],this.createListHeight(),this.listIscroll.refresh(),this.titleIscroll.refresh()}},dltTrendObj.ajaxGetLRData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.dlt.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),dltTrendObj.temLRTrendData=a.info,dltTrendObj.createPageData(),dltTrendObj.createDataDom()}})},dltTrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},dltTrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},dltTrendObj.subSet=function(){for(var a=$("#dltTrend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},dltTrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},dltTrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight(),this.createListTitleIscroll(),this.createListIscroll()},dltTrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this.createFormatData(this[a+"TitleData"][b]),d=this[a+"TitleFirst"][b][this.createFormatNowPage(this.page)],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+" trend_w"+c[g].length+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↑</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},dltTrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(dltTrendObj.temTrendData);break
;case"YL":this.createYLLIst(dltTrendObj.temTrendData);break;case"LR":this.createLRLIst(dltTrendObj.temLRTrendData)}},dltTrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=this.createFormatData(f[g].num_miss),j=0,k=i.length;j<k;j++){e.push('<div class="trend_num trend_w'+i[j].length+(3==j?" numblue":"")+'" style="width:'+this.conWidth+'px;">');for(var l=0,m=i[j].length;l<m;l++){var n=i[j][l];e.push("<span><em"+(0===Number(n.miss)?' class=" on"':"")+">"+(0===Number(n.miss)?n.hao:b?n.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){var o=this.createHMStatistics(a);d=d.concat(o.titleHtml),e=e.concat(o.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},dltTrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_all))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_avg_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_max_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_con_miss))),{titleHtml:b,conHtml:c}},dltTrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num trend_w'+a[c].length+'" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},dltTrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),void 0!==maxMiss[k][i]&&conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),void 0!==preMiss[k][i]&&conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),void 0!==curMiss[k][i]&&conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),void 0!==hapPro[k][i]&&conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},dltTrendObj.createLRLIst=function(data){var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),void 0!==num30Data[k][i]&&conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),void 0!==num50Data[k][i]&&conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),void 0!==num100Data[k][i]&&conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),void 0!==missData[k][i]&&conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},dltTrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},dltTrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.createFormatData(this.betData[a]),c=this.betTitle[a][this.createFormatNowPage(this.page)],d=new Array;d.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage,"bet")>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage,"bet")).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage,"bet")).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){var g="";switch(this.postData.trendName){case"HM":g=3==e?"numblue  fontblue":"";break;case"YL":case"LR":g=1==e?"numblue  fontblue":""}d.push('<div class="trend_num fontred trend_w'+b[e].length+" "+g+'" style="width:'+this.conWidth+'px;">');for(var h=0,i=b[e].length;h<i;h++)d.push('<span data-t="'+this.createFormatBet(h,"bet")+'" data-i="'+this.createFormatI(e)+'" data-k="'+this.createFormatKey(e,h)+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][h]?"class='on'":"")+">"+b[e][h]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},dltTrendObj.createListHeight=function(){var a=this.betObj.height();"HM"==this.postData.trendName?this.conHeight=Number(this.clientHeight-101-78):this.conHeight=Number(this.clientHeight-101-138);var b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},dltTrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){dltTrendObj.listIscroll.scrollTo(dltTrendObj.listIscroll.x,this.y)},onMomentum:function(){dltTrendObj.listIscroll.scrollTo(dltTrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},dltTrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){dltTrendObj.listIscroll.scrollTo(this.x,dltTrendObj.listIscroll.y),dltTrendObj.betIscroll.scrollTo(this.x,dltTrendObj.betIscroll.y),dltTrendObj.updatePage(this.x),dltTrendObj.updateHeight()},onMomentum:function(){dltTrendObj.listIscroll.scrollTo(this.x,dltTrendObj.listIscroll.y,this.duration),dltTrendObj.betIscroll.scrollTo(this.x,dltTrendObj.betIscroll.y,this.duration),dltTrendObj.updatePage(this.x),dltTrendObj.updateHeight()}})},dltTrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){dltTrendObj.titleIscroll.scrollTo(this.x,dltTrendObj.titleIscroll.y),dltTrendObj.betIscroll.scrollTo(this.x,dltTrendObj.betIscroll.y),dltTrendObj.listTitleIscroll.scrollTo(dltTrendObj.listTitleIscroll.x,this.y),dltTrendObj.updatePage(this.x),dltTrendObj.updateHeight()},onMomentum:function(){dltTrendObj.titleIscroll.scrollTo(this.x,dltTrendObj.titleIscroll.y,this.duration),dltTrendObj.betIscroll.scrollTo(this.x,dltTrendObj.betIscroll.y,this.duration),dltTrendObj.listTitleIscroll.scrollTo(dltTrendObj.listTitleIscroll.x,this.y,this.duration),dltTrendObj.updatePage(this.x),dltTrendObj.updateHeight()}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},dltTrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){if(!("YL"!=dltTrendObj.postData.trendName&&"LR"!=dltTrendObj.postData.trendName||"IH"!=dltTrendObj.postData.trendType&&"UH3"!=dltTrendObj.postData.trendType&&"UH6"!=dltTrendObj.postData.trendType))return!1;dltTrendObj.listIscroll.scrollTo(this.x,dltTrendObj.listIscroll.y),dltTrendObj.titleIscroll.scrollTo(this.x,dltTrendObj.titleIscroll.y),dltTrendObj.updatePage(this.x),dltTrendObj.updateHeight()},onMomentum:function(){if(!("YL"!=dltTrendObj.postData.trendName&&"LR"!=dltTrendObj.postData.trendName||"IH"!=dltTrendObj.postData.trendType&&"UH3"!=dltTrendObj.postData.trendType&&"UH6"!=dltTrendObj.postData.trendType))return!1;dltTrendObj.listIscroll.scrollTo(this.x,dltTrendObj.listIscroll.y,this.duration),dltTrendObj.titleIscroll.scrollTo(this.x,dltTrendObj.titleIscroll.y,this.duration),dltTrendObj.updatePage(this.x),dltTrendObj.updateHeight()}})},dltTrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page];if("HM"==this.postData.trendName)var d=this.betTitle[this.postData.trendType][this.page];else if(0==this.page)var d=this.betTitle[this.postData.trendType][0];else if(1==this.page)var d=this.betTitle[this.postData.trendType][3];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.createFormatNowPage(this.page)+'"]').addClass("on")},dltTrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?(this.page=0,this.createDataDom()):(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.createFormatNowPage(this.page)]),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.createFormatNowPage(this.page)+'"]').addClass("on")},dltTrendObj.updatelottery=function(a){var b=a.attr("data-v"),c=a.attr("data-cn");this.playTitleObj.html("大乐透-"+c+'<em class="down"></em>'),this.postData.trendType=b,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.playTitleObj.attr("data-s","0"),$("#dltTrend_upBGObj").length&&$("#dltTrend_upBGObj").remove(),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom()},dltTrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↑")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↑"),this.sortData(e,"down")),this.temSortDom=a},dltTrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?(a[e]?a[e]:0)-(a[f]?a[f]:0):"up"==b?(a[f]?a[f]:0)-(a[e]?a[e]:0):"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");"none"!=d.eq(f).css("display")&&(f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd"))),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},dltTrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");d.hasClass("on")?(d.removeClass("on"),delete this.selectBetData[b][c]):(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c])},dltTrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg("请至少选择1注"),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!d.length||d.length<this.betNumData[this.postData.trendType][b])return $.alertMsg("请至少选择1注"),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return"FP2"!=this.postData.trendType&&"FP3"!=this.postData.trendType||0!=g?(a.push(this.postData.trendType),a.push(g),a.join("|")):($.alertMsg("请每位至少选择1个不同的号码"),!1)},dltTrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},dltTrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},dltTrendObj.getZS=function(){switch(this.postData.trendType){case"P":return dltTrendObj.PBonus()}},dltTrendObj.PBonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(d.length<this.betNumData[this.postData.trendType][b])return 0;var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},dltTrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case"dlt":this.goDltConfirm()}},dltTrendObj.goDltConfirm=function(){var a=this;dltConfirmObj.goBack=function(){dltTrendObj.show()},dltConfirmObj.show("reload",function(){dltConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"大乐透",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},dltTrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},dltTrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},dltTrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.createFormatNowPage(this.page)==b?" on":"")+(0==b?" fontred":" fontblue")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},dltTrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},dltTrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},dltTrendObj.init=function(){dltTrendObj.setDefConfig(),dltTimeObj.setDefConfig(),dltTrendObj.onloadExecution(),dltTimeObj.init()},dltTrendObj.destroy=function(){dltTrendObj.setDefConfig(),dltTimeObj.setDefConfig(),$("#dltTrend").html("").remove()};var fastK3TimeObj=new Object;fastK3TimeObj.setDefConfig=function(){fastK3TimeObj.lotteryNo="",fastK3TimeObj.nowTime=(new Date).getTime(),fastK3TimeObj.syTime=0,fastK3TimeObj.fastK3TimeObjCG=3e3,fastK3TimeObj.fastK3TimeObjCGInterval=3e3,fastK3TimeObj.fastK3TimeObjNoInterval=3e3,fastK3TimeObj.correctInterval=1e4,fastK3TimeObj.errorTime=1e5,fastK3TimeObj.nowTimeObj="",fastK3TimeObj.getTimeObj="",clearTimeout(fastK3TimeObj.getCGObj),clearInterval(fastK3TimeObj.syTimeObj),clearInterval(fastK3TimeObj.correctTimeInterval),fastK3TimeObj.syTimeObj="",fastK3TimeObj.getCGObj="",fastK3TimeObj.correctTimeInterval="",fastK3TimeObj.getCGInvoked=!1,fastK3TimeObj.getCGInvokedTimes=0,fastK3TimeObj.stop=!1,window.fastK3TimeObjMyScroll="",fastK3TimeObj.lotteryNoChangeRec={}},fastK3TimeObj.createDom=function(){this.qhObj=$("#qhObj"),this.subObj=$("#subObj")},fastK3TimeObj.getClientTime=function(){return(new date).getTime()},fastK3TimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},fastK3TimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+ConfigObj.fastK3Api[ConfigObj.fastK3Type].scheme,data:"",type:"post",dataType:"json",success:function(b){if("0000"!==b.code)return $.alertMsg(b.msg||b.code_str),fastK3TimeObj.getTimeObj=setTimeout(function(){fastK3TimeObj.getLotteryData()},fastK3TimeObj.fastK3TimeObjNoInterval),!1;b.info=$.parseJSON(Global.crypt(b.info));var c=b.info.data.stop,d=b.info.data.lotteryNo,e=b.info.data;if("Y"===c)return fastK3TimeObj.stop=!0,fastK3TimeObj.qhObj.html("每天09:00-23:00销售"),fastK3TimeObj.setData(e),fastK3TimeObj.resetSetTime(),fastK3TimeObj.subObj.attr("data-stop","1"),!1;if(fastK3TimeObj.subObj.removeAttr("data-stop"),fastK3TimeObj.stop=!1,fastK3TimeObj.getTimeObj&&(clearTimeout(fastK3TimeObj.getTimeObj),fastK3TimeObj.getTimeObj=""),!a&&d!==fastK3TimeObj.lotteryNo){var f=Global.getActivePage();if(!f.length)return;if("fastK3Trend"!=f[0].id)return;$.alertMsg("当前期已经结束，自动切换到可购买期")}var g=fastK3TrendObj.getPostData(),h=fastK3TrendObj.lotteryNoResult[e.preLotteryNo+g.trendName+g.trendType],i=fastK3TimeObj.lotteryNoChangeRec[e.preLotteryNo+g.trendName+g.trendType];h||i?(fastK3TimeObj.setData(e),fastK3TimeObj.resetSetTime()):(fastK3TimeObj.setData(e),fastK3TimeObj.resetSetTime(),fastK3TrendObj.lotteryNoChange(e),fastK3TimeObj.lotteryNoChangeRec[e.preLotteryNo+g.trendName+g.trendType]=!0)}})},fastK3TimeObj.getCG=function(a,b){fastK3TimeObj.getCGInvokedTimes++,fastK3TimeObj.fastK3TimeObjCGInterval+=1e3,fastK3TimeObj.getCGInvokedTimes>100||(a=a||this.fastK3TimeObjCG,fastK3TimeObj.getCGObj=setTimeout(function(){var a=fastK3TrendObj.getPostData(),c={lottery_type:a.lottery_type,trendType:a.trendType,trendName:a.trendName,num:a.num};if(b&&"append"===b&&(c.lotteryNoVal=fastK3TimeObj.preLotteryNo),fastK3TrendObj.lotteryNoResult[fastK3TimeObj.preLotteryNo+a.trendName+a.trendType])return!1;var d={para:Global.encrypt(c)};Global.post(ConfigObj.fastK3Api[ConfigObj.fastK3Type].chart,d,function(c){return c.trendType===a.trendType&&("0000"!==c.code?($.alertMsg(c.code_str),fastK3TimeObj.getCG(fastK3TimeObj.fastK3TimeObjCGInterval,b),!1):(c.info=$.parseJSON(Global.crypt(c.info)),c.info&&c.info.list&&c.info.list.length?(fastK3TimeObj.getCGObj&&(clearTimeout(fastK3TimeObj.getCGObj),fastK3TimeObj.getCGObj="",fastK3TimeObj.fastK3TimeObjCGInterval=3e3),fastK3TrendObj.createNewCG(c.info),fastK3TrendObj.lotteryNoResult[fastK3TimeObj.preLotteryNo+a.trendName+a.trendType]=!0,!0):(fastK3TimeObj.getCG(fastK3TimeObj.fastK3TimeObjCGInterval,b),!1)))},function(){})},a))},fastK3TimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo,this.preLotteryNo=a.preLotteryNo},fastK3TimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),fastK3TimeObj.getCGInvoked=!1,fastK3TimeObj.getCGInvokedTimes=0,this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},fastK3TimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){fastK3TimeObj.nowTime+=1e3},5e3)},fastK3TimeObj.correctTime=function(){fastK3TimeObj.correctTimeInterval=setInterval(function(){fastK3TimeObj.getLotteryData()},5e3)},fastK3TimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return fastK3TimeObj.syTimeObj&&clearTimeout(fastK3TimeObj.syTimeObj),fastK3TimeObj.syTimeObj="",fastK3TimeObj.setLotteryNoTipsHtml(),fastK3TimeObj.getLotteryData(),!1;if(a<600&&!fastK3TimeObj.getCGInvoked&&(fastK3TimeObj.getCG(fastK3TimeObj.fastK3TimeObjCG,"append"),fastK3TimeObj.getCGInvoked=!0),!fastK3TimeObj.stop){var b=a%60,c=(a-b)/60%60,d=(a-b-60*c)/3600;if(b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d,Number(d)>0)var e=fastK3TimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+d+":"+c+":"+b+"</span>";else var e=fastK3TimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+c+":"+b+"</span>";fastK3TimeObj.qhObj.html(e)}a--},1e3)},fastK3TimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)};var fastK3TrendObj=new PageController({name:"fastK3Trend",tpl:"template/kaijiang/fastK3Trend.html"});fastK3TrendObj.setDefConfig=function(){fastK3TrendObj.titleWidth=.175,fastK3TrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),fastK3TrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),fastK3TrendObj.conWidth=Number((Number(fastK3TrendObj.clientWidth)*(1-fastK3TrendObj.titleWidth)).toFixed(2)),fastK3TrendObj.conHeight=Number(fastK3TrendObj.clientHeight-101-78),fastK3TrendObj.maxPage=0,fastK3TrendObj.page=0,fastK3TrendObj.borderWidth=1,fastK3TrendObj.titleIscroll="",fastK3TrendObj.listTitleIscroll="",fastK3TrendObj.listIscroll="",fastK3TrendObj.temTrendData="",fastK3TrendObj.temSTTrendData="",fastK3TrendObj.temSortDom="",fastK3TrendObj.selectBetData=new Array,fastK3TrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:ConfigObj.fastK3Type,trendType:"HZ",trendName:"DF",lotteryNoVal:""},fastK3TrendObj.betConf={HZ:"和值",STHDX:"三同号",SBT:"三不同号",ETH:"二同号",EBT:"二不同号"},fastK3TrendObj.playTypeMap={HZ:"SUM",STHDX:"TXD",SBT:"BT3",ETH:"TXD2",EBT:"BT2"},fastK3TrendObj.playTypeMap2={SUM:"HZ","TXD-TX":"STHDX","TXD2-TXS2":"ETH","BT3-LTX":"SBT",BT2:"ETH",BT3:"EBT"},fastK3TrendObj.betNumData={HZ:[1],STHDX:[1],SBT:[3],ETH:[1,1],EBT:[2]},fastK3TrendObj.lotteryBetError={HZ:["至少选择1个号码"],STHDX:["至少选择1个号码"],SBT:["至少选择3个号码"],ETH:["至少选择1个同号","至少选择1个不同号"],EBT:["至少选择2个号码"]},fastK3TrendObj.betData={HZ:new Array(new Array("4","5","6","7","8","9","10","11","12","13","14","15","16","17")),STHDX:new Array(new Array("111","222","333","444","555","666")),SBT:new Array(new Array("1","2","3","4","5","6")),ETH:new Array(new Array("11","22","33","44","55","66"),new Array("1","2","3","4","5","6","*")),EBT:new Array(new Array("1","2","3","4","5","6"))},fastK3TrendObj.betTitle={HZ:["和值"],STHDX:["三同号"],SBT:["三不同号"],ETH:["同号","不同号"],EBT:["二不同号"]},fastK3TrendObj.DFTitleData={HZ:[new Array("开奖号"),new Array("和值"),new Array("跨度"),new Array("大"),new Array("小"),new Array("单"),new Array("双"),new Array("01","02","03","04","05","06")],STHDX:[new Array("开奖号"),new Array("和值"),new Array("跨度"),new Array("大"),new Array("小"),new Array("单"),new Array("双"),new Array("01","02","03","04","05","06")],SBT:[new Array("开奖号"),new Array("和值"),new Array("跨度"),new Array("大"),new Array("小"),new Array("单"),new Array("双"),new Array("01","02","03","04","05","06")],ETH:[new Array("开奖号"),new Array("和值"),new Array("跨度"),new Array("大"),new Array("小"),new Array("单"),new Array("双"),new Array("01","02","03","04","05","06")],EBT:[new Array("开奖号"),new Array("和值"),new Array("跨度"),new Array("大"),new Array("小"),new Array("单"),new Array("双"),new Array("01","02","03","04","05","06")]},fastK3TrendObj.STTitleData={HZ:[new Array("4","5","6","7","8","9","10"),new Array("11","12","13","14","15","16","17")],STHDX:[new Array("开奖号"),new Array("三同号","三不同","二同号","二不同")],SBT:[new Array("开奖号"),new Array("三同号","三不同","二同号","二不同")],ETH:[new Array("开奖号"),new Array("11","22","33","44","55","66")],EBT:[new Array("开奖号"),new Array("12","13","14","15","16","23","24"),new Array("25","26","34","35","36","45","46","56")]},fastK3TrendObj.DFTitleWidth={HZ:[50,50,50,25,25,25,25,fastK3TrendObj.conWidth],STHDX:[50,50,50,25,25,25,25,fastK3TrendObj.conWidth],SBT:[50,50,50,25,25,25,25,fastK3TrendObj.conWidth],ETH:[50,50,50,25,25,25,25,fastK3TrendObj.conWidth],EBT:[50,50,50,25,25,25,25,fastK3TrendObj.conWidth]},fastK3TrendObj.STTitleWidth={HZ:[fastK3TrendObj.conWidth,fastK3TrendObj.conWidth],STHDX:[50,fastK3TrendObj.conWidth-50],SBT:[50,fastK3TrendObj.conWidth-50],ETH:[50,fastK3TrendObj.conWidth-50],EBT:[50,fastK3TrendObj.conWidth-50,fastK3TrendObj.conWidth]},fastK3TrendObj.STHSelectClass=["block-3th","block-3bt","block-2th","block-2bt"],fastK3TrendObj.DFTitleClass={HZ:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5","trend_num fontred tn6","trend_num fontred tn7","trend_num trend_w6 fontred tn8"),STHDX:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5","trend_num fontred tn6","trend_num fontred tn7","trend_num trend_w6 fontred tn8"),SBT:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5","trend_num fontred tn6","trend_num fontred tn7","trend_num trend_w6 fontred tn8"),ETH:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5","trend_num fontred tn6","trend_num fontred tn7","trend_num trend_w6 fontred tn8"),EBT:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5","trend_num fontred tn6","trend_num fontred tn7","trend_num trend_w6 fontred tn8")},fastK3TrendObj.STTitleClass={HZ:["trend_num fontred tn2 trend_w7","trend_num fontred tn3 trend_w7"],STHDX:["trend_num","trend_num fontred tn2 trend_w4"],SBT:["trend_num","trend_num fontred tn2 trend_w4"],ETH:["trend_num","trend_num fontred tn2 trend_w6"],EBT:["trend_num","trend_num fontred tn2 trend_w7","trend_num fontred tn3 trend_w8"]},fastK3TrendObj.DFTitleFirst={HZ:["期号"],STHDX:["期号"],SBT:["期号"],ETH:["期号"],EBT:["期号"]},fastK3TrendObj.STTitleFirst={HZ:["期号"],STHDX:["期号"],SBT:["期号"],ETH:["期号"],EBT:["期号"]},fastK3TrendObj.lotteryNoResult={}},fastK3TrendObj.createDom=function(){this.lotteryObj=$("#lotteryObj"),this.playTitleObj=$("#playTitleObj"),this.updataPlayObj=$("#updataPlayObj"),this.setObj=$("#setObj"),this.titleFirstObj=$("#titleFirstObj"),this.titleConObj=$("#titleConObj"),this.listFirstObj=$("#listFirstObj"),this.listConObj=$("#listConObj"),this.betFirstObj=$("#betFirstObj"),this.betConObj=$("#betConObj"),this.explainObj=$("#explainObj"),this.selectObj=$("#selectObj"),this.betMoneyObj=$("#betMoneyObj"),this.qhObj=$("#qhObj"),this.subObj=$("#subObj"),this.chartTitle=$("#chartTitle")},fastK3TrendObj.createEvent=function(){this.lotteryObj.tap(function(a){fastK3TrendObj.lotteryEvent(a)})},fastK3TrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return fastK3TrendObj.goBack(),!0;case"updatelottery":return fastK3TrendObj.updatelottery(c.attr("data-v"),c.attr("data-cn")),!0;case"subData":return fastK3TrendObj.subData(c),!0;case"delAll":return fastK3TrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return fastK3TrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("setObj"!=c[0].id)return!1;fastK3TrendObj.hideSet()}},fastK3TrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.css("display","none"),a.attr("data-s",0)):(this.updataPlayObj.css("display",""),a.attr("data-s",1));var b=document.body.scrollHeight,c=$('<div id="upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" id="bgLayer"></div>');$("body").append(c),c.tap(function(){fastK3TrendObj.updataPlayObj.css("display","none"),fastK3TrendObj.playTitleObj.attr("data-s","0"),c.remove()})},fastK3TrendObj.ajaxGetData=function(){var data=this.postData;delete data.lotteryNoVal;var secretData={para:Global.encrypt(data)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastK3Api[ConfigObj.fastK3Type].chart,data:secretData,type:"post",dataType:"text",success:function(msg){return msg=eval("("+msg+")"),msg.trendType==fastK3TrendObj.postData.trendType&&("0000"!=msg.code?($.alertMsg(msg.code_str),!1):(msg.info=$.parseJSON(Global.crypt(msg.info)),fastK3TrendObj.temTrendData=msg.info,fastK3TrendObj.createPageData(),fastK3TrendObj.createDataDom(),void fastK3TrendObj.recordLotteryNo(msg.info.list,data.trendName,data.trendType)))}})},fastK3TrendObj.ajaxGetSTData=function(){var data=this.postData;delete data.lotteryNoVal;var secretData2={para:Global.encrypt(data)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastK3Api[ConfigObj.fastK3Type].chart,data:secretData2,type:"post",dataType:"text",success:function(msg){if(msg=eval("("+msg+")"),"0000"!=msg.code)return $.alertMsg(msg.code_str),!1;msg.info=$.parseJSON(Global.crypt(msg.info)),fastK3TrendObj.temSTTrendData=msg.info,fastK3TrendObj.createPageData(),fastK3TrendObj.createDataDom(),fastK3TrendObj.recordLotteryNo(msg.info.list,data.trendName,data.trendType)}})},
fastK3TrendObj.recordLotteryNo=function(a,b,c){a.length&&a.forEach(function(a){fastK3TrendObj.lotteryNoResult[""+a.lottery_no+b+c]=!0})},fastK3TrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},fastK3TrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},fastK3TrendObj.subSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"ST"==this.postData.trendName?this.ajaxGetSTData():this.ajaxGetData(),this.selectBetData=new Array,this.hideSet()},fastK3TrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=(this.postData.trendType,this[a+"TitleData"][this.postData.trendType]);this.maxPage=b.length},fastK3TrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight()},fastK3TrendObj.createTitleDom=function(){var trendName=this.postData.trendName,lotteryPlay=this.postData.trendType,titleDomData=this[trendName+"TitleData"][this.postData.trendType],titleFirstData=this[trendName+"TitleFirst"][this.postData.trendType][this.page],titleClass=this[trendName+"TitleClass"][this.postData.trendType],html=new Array,allWidth=eval(this[trendName+"TitleWidth"][this.postData.trendType].join("+"))+this.borderWidth*this.maxPage;html.push('<div class="clearfix" style="width:'+allWidth+'px;">');for(var i=0,ilen=titleDomData.length;i<ilen;i++){html.push('<div class="'+titleClass[i]+'" style="width:'+this[trendName+"TitleWidth"][this.postData.trendType][i]+'px;">');for(var k=0,klen=titleDomData[i].length;k<klen;k++)1==klen?html.push('<span style="width:100%">'+titleDomData[i][k]+"</span>"):html.push("<span>"+titleDomData[i][k]+"</span>");html.push("</div>")}html.push("</div>"),this.titleConObj.html(html.join("")),this.titleFirstObj.html(titleFirstData),this.createTitleIscroll()},fastK3TrendObj.createListDom=function(){switch(this.postData.trendName){case"DF":this.createDFLIst(fastK3TrendObj.temTrendData);break;case"ST":this.createSTLIst(fastK3TrendObj.temSTTrendData)}this.createListTitleIscroll(),this.createListIscroll()},fastK3TrendObj.createDFLIst=function(data){var showYL="show"===this.postData.showYL,showSt="show"===this.postData.statistics,allWidth=eval(this[this.postData.trendName+"TitleWidth"][this.postData.trendType].join("+"))+this.borderWidth*this.maxPage,titleHtml=new Array,conHtml=new Array;titleHtml.push("<div>"),conHtml.push('<div style="width:'+allWidth+'px;">');var listData=data.list;if(!listData)return!1;for(var i=0,ilen=listData.length;i<ilen;i++)if(titleHtml.push('<p class="qh_con'+(i%2?"":" odd")+(i!=ilen-1||showSt?"":" bor_bot")+'"><span>'+listData[i].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div class="clearfix'+(i%2?"":" odd")+(i!=ilen-1||showSt?"":" bor_bot")+'">'),!1!==listData[i].lottery_result){if(conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][0]+'px;">'),conHtml.push('<span class="w-sm"><i class="fontred">'+listData[i].lottery_result.join("")+"</i></span>"),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][1]+'px;">'),conHtml.push('<span class="w-sm"><i>'+listData[i].sum+"</i></span>"),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][2]+'px;">'),conHtml.push('<span class="w-sm">'+listData[i].span+"</span>"),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][3]+'px;">'),0===Number(listData[i].size[0].miss)){var iHtml="";listData[i+1]&&!1!==listData[i+1].lottery_result&&(iHtml=0===Number(listData[i+1].size[0].miss)?'<i class="block_line l_bot"></i>':'<i class="block_line l_rt"></i>'),conHtml.push('<span class="block_item block_blue"><em class="on">'+listData[i].size[0].hao+"</em>"+iHtml+"</span>")}else conHtml.push("<span>"+listData[i].size[0].miss+"</span>");if(conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][4]+'px;">'),0===Number(listData[i].size[1].miss)){var iHtml="";listData[i+1]&&!1!==listData[i+1].lottery_result&&(iHtml=0===Number(listData[i+1].size[1].miss)?'<i class="block_line l_bot"></i>':'<i class="block_line l_lf"></i>'),conHtml.push('<span class="block_item block_blue"><em class="on">'+listData[i].size[1].hao+"</em>"+iHtml+"</span>")}else conHtml.push("<span>"+listData[i].size[1].miss+"</span>");if(conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][5]+'px;">'),0===Number(listData[i].parity[0].miss)){var iHtml="";listData[i+1]&&!1!==listData[i+1].lottery_result&&(iHtml=0===Number(listData[i+1].parity[0].miss)?'<i class="block_line l_bot"></i>':'<i class="block_line l_rt"></i>'),conHtml.push('<span class="block_item block_orange"><em class="on">'+listData[i].parity[0].hao+"</em>"+iHtml+"</span>")}else conHtml.push("<span>"+listData[i].parity[0].miss+"</span>");if(conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][6]+'px;">'),0===Number(listData[i].parity[1].miss)){var iHtml="";listData[i+1]&&!1!==listData[i+1].lottery_result&&(iHtml=0===Number(listData[i+1].parity[1].miss)?'<i class="block_line l_bot"></i>':'<i class="block_line l_lf"></i>'),conHtml.push('<span class="block_item block_orange"><em class="on">'+listData[i].parity[1].hao+"</em>"+iHtml+"</span>")}else conHtml.push("<span>"+listData[i].parity[1].miss+"</span>");conHtml.push("</div>");for(var k=0,klen=listData[i].num_miss.length;k<klen;k++){conHtml.push('<div class="trend_num trend_w'+listData[i].num_miss[k].length+'" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][7]+'px;">');for(var o=0,olen=listData[i].num_miss[k].length;o<olen;o++){var thisData=listData[i].num_miss[k][o];conHtml.push("<span><em"+(Number(thisData.miss)<=0?' class=" on"':"")+">"+(Number(thisData.miss)<=0?thisData.hao:showYL?thisData.miss:"")+(Number(thisData.miss)<0?'<i class="r-dot">'+Math.abs(Number(thisData.miss))+"</i>":"")+"</em></span>")}conHtml.push("</div>")}conHtml.push("</div>")}else conHtml.push('<div style="width:'+allWidth+'px;text-align:center;">等待开奖</div>'),conHtml.push("</div>");if(showSt){var statisticsHtml=this.createDFStatistics(data);titleHtml=titleHtml.concat(statisticsHtml.titleHtml),conHtml=conHtml.concat(statisticsHtml.conHtml)}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},fastK3TrendObj.createDFStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createDFStatisticeCon(a.num_all,"num_all")),c.push(this.createDFStatisticeCon(a.num_avg_miss,"num_avg_miss")),c.push(this.createDFStatisticeCon(a.num_max_miss,"num_max_miss")),c.push(this.createDFStatisticeCon(a.num_con_miss,"num_con_miss")),{titleHtml:b,conHtml:c}},fastK3TrendObj.createDFStatisticeCon=function(data,type){var conHtml=new Array;if(conHtml.push('<div class="clearfix whitebg">'),!1===data){var allWidth=eval(this[this.postData.trendName+"TitleWidth"][this.postData.trendType].join("+"))+this.borderWidth*this.maxPage;return conHtml.push('<div style="width:'+allWidth+'px;text-align:center;">'+("num_avg_miss"==type?"等待开奖":"&nbsp;")+"</div>"),conHtml.push("</div>"),conHtml.join("")}conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][0]+'px;">'),conHtml.push('<span class="w-sm"><em>-</em></span>'),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][1]+'px;">'),conHtml.push('<span class="w-sm"><em>-</em></span>'),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][2]+'px;">'),conHtml.push('<span class="w-sm"><em>-</em></span>'),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][3]+'px;">'),conHtml.push("<span><em>-</em></span>"),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][4]+'px;">'),conHtml.push("<span><em>-</em></span>"),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][5]+'px;">'),conHtml.push("<span><em>-</em></span>"),conHtml.push("</div>"),conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][6]+'px;">'),conHtml.push("<span><em>-</em></span>"),conHtml.push("</div>");for(var i=0,ilen=data.length;i<ilen;i++){conHtml.push('<div class="trend_num trend_w'+data[i].length+'" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][7]+'px;">');for(var k=0,klen=data[i].length;k<klen;k++)conHtml.push("<span><em>"+data[i][k]+"</em></span>");conHtml.push("</div>")}return conHtml.push("</div>"),conHtml.join("")},fastK3TrendObj.createSTLIst=function(data){var showYL="show"===this.postData.showYL,showSt="show"===this.postData.statistics,allWidth=eval(this[this.postData.trendName+"TitleWidth"][this.postData.trendType].join("+"))+this.borderWidth*this.maxPage,titleHtml=new Array,conHtml=new Array;titleHtml.push("<div>"),conHtml.push('<div style="width:'+allWidth+'px;">');var listData=data.list;if(!listData)return!1;for(var i=0,ilen=listData.length;i<ilen;i++)if(titleHtml.push('<p class="qh_con'+(i%2?"":" odd")+(i!=ilen-1||showSt?"":" bor_bot")+'"><span>'+listData[i].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div class="clearfix'+(i%2?"":" odd")+(i!=ilen-1||showSt?"":" bor_bot")+'">'),!1!==listData[i].lottery_result){"HZ"!==this.postData.trendType&&(conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][0]+'px;">'),conHtml.push('<span class="w-sm"><i class="fontred">'+listData[i].lottery_result.join("")+"</i></span>"),conHtml.push("</div>"));for(var newMissData=this.createFormatData(listData[i].num_miss),k=0,klen=newMissData.length;k<klen;k++){"HZ"===this.postData.trendType?conHtml.push('<div class="trend_num trend_w'+newMissData[k].length+'" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][k]+'px;">'):conHtml.push('<div class="trend_num trend_w'+newMissData[k].length+'" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][k+1]+'px;">');for(var o=0,olen=newMissData[k].length;o<olen;o++){var thisData=newMissData[k][o];if("STHDX"==this.postData.trendType||"SBT"==this.postData.trendType){var onSelect=0==thisData.miss?this.STHSelectClass[o]:"";conHtml.push('<span class="'+onSelect+'">'+(0==thisData.miss?thisData.hao:showYL?thisData.miss:"")+"</span>")}else conHtml.push("<span><em"+(Number(thisData.miss)<=0?' class=" on"':"")+">"+(Number(thisData.miss)<=0?thisData.hao:showYL?thisData.miss:"")+(Number(thisData.miss)<0?'<i class="r-dot">'+Math.abs(Number(thisData.miss))+"</i>":"")+"</em></span>")}conHtml.push("</div>")}conHtml.push("</div>")}else conHtml.push('<div style="width:'+allWidth+'px;text-align:center;">等待开奖</div>'),conHtml.push("</div>");if(showSt){var statisticsHtml=this.createSTStatistics(data);titleHtml=titleHtml.concat(statisticsHtml.titleHtml),conHtml=conHtml.concat(statisticsHtml.conHtml)}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},fastK3TrendObj.createSTStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createSTStatisticeCon(this.createFormatData(a.num_all),"num_all")),c.push(this.createSTStatisticeCon(this.createFormatData(a.num_avg_miss),"num_avg_miss")),c.push(this.createSTStatisticeCon(this.createFormatData(a.num_max_miss),"num_max_miss")),c.push(this.createSTStatisticeCon(this.createFormatData(a.num_con_miss),"num_con_miss")),{titleHtml:b,conHtml:c}},fastK3TrendObj.createSTStatisticeCon=function(data,type){var conHtml=new Array;if(conHtml.push('<div class="clearfix whitebg">'),!1===data||!data.length){var allWidth=eval(this[this.postData.trendName+"TitleWidth"][this.postData.trendType].join("+"))+this.borderWidth*this.maxPage;return conHtml.push('<div style="width:'+allWidth+'px;text-align:center;">'+("num_avg_miss"==type?"等待开奖":"&nbsp;")+"</div>"),conHtml.push("</div>"),conHtml.join("")}"HZ"!==this.postData.trendType&&(conHtml.push('<div class="trend_num trend_sm" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][0]+'px;">'),conHtml.push('<span class="w-sm"><em>-</em></span>'),conHtml.push("</div>"));for(var i=0,ilen=data.length;i<ilen;i++){"HZ"==this.postData.trendType?conHtml.push('<div class="trend_num trend_w'+data[i].length+'" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][i]+'px;">'):conHtml.push('<div class="trend_num trend_w'+data[i].length+'" style="width:'+this[this.postData.trendName+"TitleWidth"][this.postData.trendType][i+1]+'px;">');for(var k=0,klen=data[i].length;k<klen;k++)conHtml.push("<span><em>"+data[i][k]+"</em></span>");conHtml.push("</div>")}return conHtml.push("</div>"),conHtml.join("")},fastK3TrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},fastK3TrendObj.createBetDom=function(){var lotteryPlay=this.postData.trendType,allWidth=eval(this[this.postData.trendName+"TitleWidth"][lotteryPlay].join("+"))+this.borderWidth*this.maxPage;if("HZ"==lotteryPlay)var betWidth=allWidth,betClass="";else var betWidth=this.conWidth,betClass=" num_block";var titleDomData=this.betData[lotteryPlay],titleFirstData=this.betTitle[lotteryPlay],html=new Array;html.push('<div class="clearfix" style="width:'+allWidth+'px;">');for(var i=0,ilen=titleDomData.length;i<ilen;i++){html.push('<div class="trend_num mb5 fontred trend_w'+titleDomData[i].length+betClass+'" style="width:'+betWidth+'px;">');for(var k=0,klen=titleDomData[i].length;k<klen;k++)html.push('<span data-t="bet" data-i="'+i+'" data-k="'+k+'"><em '+(this.selectBetData[i]&&this.selectBetData[i][k]?"class='on'":"")+">"+titleDomData[i][k]+"</em></span>");html.push("</div>")}html.push("</div>"),this.betFirstObj.html('<span class="mb5">'+titleFirstData.join('</span><span class="mb5">')+"</span>"),this.betConObj.html(html.join("")),this.createBetscroll()},fastK3TrendObj.createListHeight=function(){var a="ETH"==this.postData.trendType?30:8,b=this.conHeight-a,c=this.listConObj.children("div").height()||0;if(0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll){this.listTitleIscroll.refresh();var d=this.listFirstObj.children("div").height()-this.conHeight+a;d=d<0?0:d,this.listTitleIscroll.scrollTo(0,-1*d)}if(this.listIscroll){this.listIscroll.refresh();var d=this.listConObj.children("div").height()-this.conHeight+a;d=d<0?0:d,this.listIscroll.scrollTo(0,-1*d)}},fastK3TrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastK3TrendObj.listIscroll.scrollTo(fastK3TrendObj.listIscroll.x,this.y)},onMomentum:function(){fastK3TrendObj.listIscroll.scrollTo(fastK3TrendObj.listIscroll.x,this.y,this.duration)}})},fastK3TrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastK3TrendObj.listIscroll.scrollTo(this.x,fastK3TrendObj.listIscroll.y),"HZ"==fastK3TrendObj.postData.trendType&&fastK3TrendObj.betIscroll.scrollTo(this.x,fastK3TrendObj.betIscroll.y),fastK3TrendObj.updatePage(this.x)},onMomentum:function(){fastK3TrendObj.listIscroll.scrollTo(this.x,fastK3TrendObj.listIscroll.y,this.duration),"HZ"==fastK3TrendObj.postData.trendType&&fastK3TrendObj.betIscroll.scrollTo(this.x,fastK3TrendObj.betIscroll.y,this.duration),fastK3TrendObj.updatePage(this.x)}})},fastK3TrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastK3TrendObj.titleIscroll.scrollTo(this.x,fastK3TrendObj.titleIscroll.y),"HZ"==fastK3TrendObj.postData.trendType&&fastK3TrendObj.betIscroll.scrollTo(this.x,fastK3TrendObj.betIscroll.y),fastK3TrendObj.listTitleIscroll.scrollTo(fastK3TrendObj.listTitleIscroll.x,this.y),fastK3TrendObj.updatePage(this.x)},onMomentum:function(){fastK3TrendObj.titleIscroll.scrollTo(this.x,fastK3TrendObj.titleIscroll.y,this.duration),"HZ"==fastK3TrendObj.postData.trendType&&fastK3TrendObj.betIscroll.scrollTo(this.x,fastK3TrendObj.betIscroll.y,this.duration),fastK3TrendObj.listTitleIscroll.scrollTo(fastK3TrendObj.listTitleIscroll.x,this.y,this.duration),fastK3TrendObj.updatePage(this.x)}})},fastK3TrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastK3TrendObj.listIscroll.scrollTo(this.x,fastK3TrendObj.listIscroll.y),fastK3TrendObj.titleIscroll.scrollTo(this.x,fastK3TrendObj.titleIscroll.y),fastK3TrendObj.updatePage(this.x)},onMomentum:function(){fastK3TrendObj.listIscroll.scrollTo(this.x,fastK3TrendObj.listIscroll.y,this.duration),fastK3TrendObj.titleIscroll.scrollTo(this.x,fastK3TrendObj.titleIscroll.y,this.duration),fastK3TrendObj.updatePage(this.x)}})},fastK3TrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][0],d=this.betTitle[this.postData.trendType];this.titleFirstObj.html(c),this.betFirstObj.html('<span class="mb5">'+d.join('</span><span class="mb5">')+"</span>"),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.page+'"]').addClass("on")},fastK3TrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"ST"==b?(this.page=0,this.maxPage=0,this.ajaxGetSTData()):(this.page=0,this.maxPage=0,this.ajaxGetData()),fastK3TimeObj.lotteryNoChangeRec={}},fastK3TrendObj.updatelottery=function(a,b){for(var c in this.playTypeMap2)a===c&&(a=this.playTypeMap2[c]);this.playTitleObj.html("快3-"+b+'<em class="down"></em>'),this.chartTitle.html(b),this.postData.trendType=a,this.temSortDom=this.titleFirstObj,this.selectBetData=new Array,this.updataPlayObj.css("display","none"),this.playTitleObj.attr("data-s","0"),$("#upBGObj").length&&$("#upBGObj").remove(),"ST"==this.postData.trendName?(this.page=0,this.maxPage=0,this.ajaxGetSTData()):this.ajaxGetData(),fastK3TimeObj.lotteryNoChangeRec={}},fastK3TrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.page];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↓")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↓"),this.sortData(e,"down")),this.temSortDom=a},fastK3TrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?a[e]-a[f]:"up"==b?a[f]-a[e]:"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd")),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},fastK3TrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");if(d.hasClass("on"))d.removeClass("on"),delete this.selectBetData[b][c];else if(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),"ETH"==this.postData.trendType){if(1==b&&6==c){this.selectBetData[b]=new Array,this.selectBetData[b][0]="*";var e=this.betConObj.find("span[data-t='bet']").filter('[data-i="'+b+'"]').each(function(a){a<6&&$(this).children("em").removeClass("on")});return!1}if(1==b&&c<6&&"*"==this.selectBetData[b][0]){this.selectBetData[b]=new Array;var e=this.betConObj.find("span[data-t='bet']").filter('[data-i="'+b+'"]').filter('[data-k="6"]');e.children("em").removeClass("on")}var f=Math.abs(1-b);if(this.selectBetData[f]&&this.selectBetData[f][c]){delete this.selectBetData[f][c];var e=this.betConObj.find("span[data-t='bet']").filter('[data-i="'+f+'"]').filter('[data-k="'+c+'"]');e.children("em").removeClass("on")}this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c]}else this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c]},fastK3TrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg(this.lotteryBetError[this.postData.trendType][b]),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!(d.length&&d.length>=this.betNumData[this.postData.trendType][b]))return $.alertMsg(this.lotteryBetError[this.postData.trendType][b]),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return a.push(this.postData.trendType),a.push(g),a.join("|")},fastK3TrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},fastK3TrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},fastK3TrendObj.getZS=function(){return"FP2"==this.postData.trendType||"FP3"==this.postData.trendType?fastK3TrendObj.FP2Bonus():fastK3TrendObj.R2Bonus()},fastK3TrendObj.R2Bonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},fastK3TrendObj.FP2Bonus=function(){for(var a=new Array,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++)!function(b){if(!b||!b.length)return!0;if(!a.length)return a=b,!0;for(var c=new Array,d=0,e=a.length;d<e;d++)if(a[d])for(var f=0,g=b.length;f<g;f++)if(b[f]){var h=a[d].split(",");$.inArray(b[f],h)>-1||c.push(a[d]+","+b[f])}!!c.length&&(a=c.concat([]))}(this.selectBetData[b]);var d=0;for(var b in a)a[b]&&a[b].split(",").length==this.betNumData[this.postData.trendType].length&&d++;return d},fastK3TrendObj.createFormatData=function(a){if(!a)return[];var b=new Array;return"HZ"==this.postData.trendType&&"ST"==this.postData.trendName?(b.push(a[0].slice(1,8)),b.push(a[0].slice(8,15)),b):"EBT"==this.postData.trendType&&"ST"==this.postData.trendName?(b.push(a[0].slice(0,7)),b.push(a[0].slice(7,15)),b):a},fastK3TrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;var c="";for(var d in fastK3TrendObj.playTypeMap)-1!==b.indexOf(d)&&(b=b.replace(d,fastK3TrendObj.playTypeMap[d]),c=fastK3TrendObj.playTypeMap[d]);if("TXD"==c){var e=b.split("|"),f=e[0].split(","),g=[];f.forEach(function(a){var b=a.split("");g.push(b.join("+"))});var h=g.join(",");b=h+"|"+e[1]+"|"+e[2]}if("TXD2"==c){var e=b.split("|"),f=e[0].split(","),g=[];f.forEach(function(a){var b=a.split("");g.push(b.join("+"))});var h=g.join(",");b="*"==e[1]?h+"|TXS2|"+e[3]:h+"|"+e[1]+"|"+e[2]+"|"+e[3]}window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),fastK3TrendObj.goFastK3Confirm(),window.localStorage&&fastK3TrendObj.goFastK3Confirm()},fastK3TrendObj.goFastK3Confirm=function(){fastK3TrendObj.destroy(),fastK3ConfirmObj.goBack=function(){fastK3TrendObj.show(!0)};var a=this.postData.trendType;for(var b in this.playTypeMap)a===b&&(a=this.playTypeMap[b]);fastK3ConfirmObj.show(!0,function(){fastK3ConfirmObj.setData({lotteryType:this.postData.lottery_type,lotteryCnName:"快三",lotteryNo:this.postData.lotteryNoVal,lotteryPlay:a})}.bind(this))},fastK3TrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},fastK3TrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},fastK3TrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.page==b?" on":"")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},fastK3TrendObj.SetCookie=function(a,b){var c=new Date,d=arguments,e=arguments.length,f=e>2?d[2]:null,g=e>3?d[3]:null,h=e>4?d[4]:null,i=e>5&&d[5];null==f&&(f=3600),c.setTime(c.getTime()+1e3*f),document.cookie=a+"="+escape(b)+(null==f?"":"; expires="+c.toGMTString())+(null==g?"":"; path="+g)+(null==h?"":"; domain="+h)+(1==i?"; secure":"")},fastK3TrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},fastK3TrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight();var a=this.postData.trendType?this.postData.trendType:"FP1",b=this.betConf[a];this.playTitleObj.html("快3-"+b+'<em class="down"></em>'),this.chartTitle.html(b),this.postData.trendType=a,this.ajaxGetData()},fastK3TrendObj.lotteryNoChange=function(a){"DF"===this.postData.trendName&&this.temTrendData.list?(this.temTrendData.list.push({lottery_no:a.preLotteryNo,lottery_result:!1}),this.temTrendData.num_max_miss=!1,this.temTrendData.num_avg_miss=!1,this.temTrendData.num_pre_miss=!1,this.temTrendData.num_cur_miss=!1,this.temTrendData.num_con_miss=!1,this.temTrendData.num_hap_pro=!1,this.temTrendData.num_all=!1,this.createListDom(),this.createListHeight()):"ST"===this.postData.trendName&&this.temSTTrendData.list&&(this.temSTTrendData.list.push({lottery_no:a.preLotteryNo,lottery_result:!1}),this.temSTTrendData.num_max_miss=!1,this.temSTTrendData.num_avg_miss=!1,this.temSTTrendData.num_pre_miss=!1,this.temSTTrendData.num_cur_miss=!1,this.temSTTrendData.num_con_miss=!1,this.temSTTrendData.num_hap_pro=!1,this.temSTTrendData.num_all=!1,this.createListDom(),this.createListHeight()),this.postData.lotteryNoVal=a.lotteryNo},fastK3TrendObj.createNewCG=function(a){if("DF"===this.postData.trendName){for(var b=0,c=this.temTrendData.list.length;b<c;b++){var d=this.temTrendData.list[b].lottery_no;d==a.list[0].lottery_no&&(this.temTrendData.list[b]=a.list[0])}this.temTrendData.num_max_miss=a.num_max_miss,this.temTrendData.num_avg_miss=a.num_avg_miss,this.temTrendData.num_pre_miss=a.num_pre_miss,this.temTrendData.num_cur_miss=a.num_cur_miss,this.temTrendData.num_con_miss=a.num_con_miss,this.temTrendData.num_hap_pro=a.num_hap_pro,this.temTrendData.num_all=a.num_all}else if("ST"===this.postData.trendName){for(var b=0,c=this.temSTTrendData.list.length;b<c;b++){var d=this.temSTTrendData.list[b].lottery_no;d==a.list[0].lottery_no&&(this.temSTTrendData.list[b]=a.list[0])}this.temSTTrendData.num_max_miss=a.num_max_miss,this.temSTTrendData.num_avg_miss=a.num_avg_miss,this.temSTTrendData.num_pre_miss=a.num_pre_miss,this.temSTTrendData.num_cur_miss=a.num_cur_miss,this.temSTTrendData.num_con_miss=a.num_con_miss,this.temSTTrendData.num_hap_pro=a.num_hap_pro,this.temSTTrendData.num_all=a.num_all}this.createListDom(),this.createListHeight()},fastK3TrendObj.getPostData=function(){return this.postData},fastK3TrendObj.init=function(){this.setDefConfig(),fastK3TimeObj.init(),this.onloadExecution()},fastK3TrendObj.dirShow=function(){fastK3TrendObj.show()},fastK3TrendObj.destroy=function(){fastK3TrendObj.setDefConfig(),fastK3TimeObj.setDefConfig(),$("#fastK3Trend").html("").remove()},fastK3TrendObj.goBack=function(){fastK3TrendObj.destroy(),homeObj.show()};var fastTimeObj=new Object;fastTimeObj.createDom=function(){this.qhObj=$("#fastTrend_qhObj"),this.subObj=$("#fastTrend_subObj")},fastTimeObj.getClientTime=function(){return(new date).getTime()},fastTimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},fastTimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+ConfigObj.fastLotApi[ConfigObj.fastLotType].scheme,data:"",type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),fastTimeObj.getTimeObj=setTimeout(function(){fastTimeObj.getLotteryData()},fastTimeObj.fastTimeObjNoInterval),!1):(a.info=$.parseJSON(Global.crypt(a.info)),"Y"==a.info.stop?(fastTimeObj.stop=!0,fastTimeObj.qhObj.html("每天09:00-23:50销售"),fastTimeObj.setData(a.info),fastTimeObj.resetSetTime(),fastTimeObj.subObj.attr("data-stop","1"),!1):(fastTimeObj.subObj.removeAttr("data-stop"),fastTimeObj.stop=!1,fastTimeObj.getTimeObj&&(clearTimeout(fastTimeObj.getTimeObj),fastTimeObj.getTimeObj=""),void(fastTimeObj.lotteryNoChange&&a.info.lotteryNo!=fastTimeObj.lotteryNo?(fastTimeObj.setData(a.info),fastTimeObj.resetSetTime(),fastTimeObj.lotteryNoChange(a.info)):(fastTimeObj.setData(a.info),fastTimeObj.resetSetTime()))))}})},fastTimeObj.lotteryNoChange=function(a){fastTrendObj.postData.lotteryNoVal=a.lotteryNo,$("#fastBetConfirm").length>0&&fastBetConfirmObj.updBetTipsObj&&fastBetConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},
fastTimeObj.getCG=function(a,b){a=a||this.fastTimeObjCG,fastTimeObj.getCGObj=setTimeout(function(){var a=fastTrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal,c.last_result=1);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastLotApi[ConfigObj.fastLotType].chart,data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),fastTimeObj.getCG(fastTimeObj.fastTimeObjCGInterval,b),!1):a.info&&a.info.list&&a.info.list.length?(fastTimeObj.getCGObj&&(clearTimeout(fastTimeObj.getCGObj),fastTimeObj.getCGObj=""),a.info=$.parseJSON(Global.crypt(a.info)),void fastTimeObj.createNewCG(a.info)):(fastTimeObj.getCG(fastTimeObj.fastTimeObjCGInterval,b),!1)}})},a)},fastTimeObj.createNewCG=function(a){fastTrendObj.temTrendData.list.push(a.list[0]),fastTrendObj.temTrendData.num_max_miss=a.num_max_miss,fastTrendObj.temTrendData.num_avg_miss=a.num_avg_miss,fastTrendObj.temTrendData.num_pre_miss=a.num_pre_miss,fastTrendObj.temTrendData.num_cur_miss=a.num_cur_miss,fastTrendObj.temTrendData.num_con_miss=a.num_con_miss,fastTrendObj.temTrendData.num_hap_pro=a.num_hap_pro,fastTrendObj.temTrendData.num_all=a.num_all,"LR"==fastTrendObj.postData.trendName?fastTrendObj.ajaxGetLRData():fastTrendObj.createListDom()},fastTimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},fastTimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},fastTimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){fastTimeObj.nowTime+=1e3},1e3)},fastTimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!fastTimeObj.syTime)return!1;Math.abs(a-fastTimeObj.nowTime)>fastTimeObj.errorTime&&fastTimeObj.getLotteryData()},this.correctInterval)},fastTimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return fastTimeObj.syTimeObj&&clearTimeout(fastTimeObj.syTimeObj),fastTimeObj.syTimeObj="",fastTimeObj.getCG(fastTimeObj.fastTimeObjCG,"append"),fastTimeObj.setLotteryNoTipsHtml(),fastTimeObj.getLotteryData(),!1;if(!fastTimeObj.stop){var b=a%60,c=(a-b)/60;b=b<10?"0"+b:b,c=c<10?"0"+c:c;var d=fastTimeObj.lotteryNo.slice(-2)+'期离截止<span class="fontred">'+c+":"+b+"</span>";fastTimeObj.qhObj.html(d)}a--},1e3)},fastTimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},fastTimeObj.setDefConfig=function(){fastTimeObj.lotteryNo="",fastTimeObj.nowTime=(new Date).getTime(),fastTimeObj.syTime=0,fastTimeObj.fastTimeObjCG=21e4,fastTimeObj.fastTimeObjCGInterval=5e4,fastTimeObj.fastTimeObjNoInterval=3e4,fastTimeObj.correctInterval=1e4,fastTimeObj.errorTime=1e5,fastTimeObj.stop=!1,fastTimeObj.tips=!0,this.correctTimeObj&&clearInterval(fastTimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(fastTimeObj.nowTimeObj),this.syTimeObj&&clearInterval(fastTimeObj.syTimeObj),this.getTimeObj&&clearTimeout(fastTimeObj.getTimeObj),this.getCGObj&&clearTimeout(fastTimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var fastTrendObj=new PageController({name:"fastTrend",tpl:"template/kaijiang/fastTrend.html"});fastTrendObj.setDefConfig=function(){fastTrendObj.titleWidth=.175,fastTrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),fastTrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),fastTrendObj.conWidth=Number((Number(fastTrendObj.clientWidth)*(1-fastTrendObj.titleWidth)).toFixed(2)),fastTrendObj.conHeight=Number(fastTrendObj.clientHeight-101-78),fastTrendObj.maxPage=0,fastTrendObj.page=0,fastTrendObj.borderWidth=1,fastTrendObj.titleIscroll="",fastTrendObj.listTitleIscroll="",fastTrendObj.listIscroll="",fastTrendObj.temTrendData="",fastTrendObj.temLRTrendData="",fastTrendObj.temSortDom="",fastTrendObj.selectBetData=new Array,fastTrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:ConfigObj.fastLotType,trendType:"R2",trendName:"HM",lotteryNoVal:""},fastTrendObj.lotteryBetError={R2:["至少选择2个号码"],R3:["至少选择3个号码"],R4:["至少选择4个号码"],R5:["至少选择5个号码"],R6:["至少选择6个号码"],R7:["至少选择7个号码"],R8:["至少选择8个号码"],FP1:["至少选1个号码"],FP2:["至少选择1个第一位号码","至少选择1个第二位号码"],FC2:["至少选择2个号码"],FP3:["至少选择1个第一位号码","至少选择1个第二位号码","至少选择1个第三位号码"],FC3:["至少选择3个号码"]}},fastTrendObj.betNumData={R2:[2],R3:[3],R4:[4],R5:[5],R6:[6],R7:[7],R8:[8],FP1:[1],FP2:[1,1],FC2:[2],FP3:[1,1,1],FC3:[3]},fastTrendObj.betData={R2:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),R3:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),R4:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),R5:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),R6:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),R7:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),R8:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),FP1:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),FP2:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11"),new Array("01","02","03","04","05","06","07","08","09","10","11")),FC2:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11")),FP3:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11"),new Array("01","02","03","04","05","06","07","08","09","10","11"),new Array("01","02","03","04","05","06","07","08","09","10","11")),FC3:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11"))},fastTrendObj.betTitle={R2:["任二"],R3:["任三"],R4:["任四"],R5:["任五"],R6:["任六"],R7:["任七"],R8:["任八"],FP1:["前一"],FP2:["第一位","第二位"],FC2:["前二组"],FP3:["第一位","第二位","第三位"],FC3:["前三组"]},fastTrendObj.HMTitleData=fastTrendObj.betData,fastTrendObj.YLTitleData={R2:new Array(new Array("最大","上次","当期","欲出")),R3:new Array(new Array("最大","上次","当期","欲出")),R4:new Array(new Array("最大","上次","当期","欲出")),R5:new Array(new Array("最大","上次","当期","欲出")),R6:new Array(new Array("最大","上次","当期","欲出")),R7:new Array(new Array("最大","上次","当期","欲出")),R8:new Array(new Array("最大","上次","当期","欲出")),FP1:new Array(new Array("最大","上次","当期","欲出")),FP2:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),FC2:new Array(new Array("最大","上次","当期","欲出")),FP3:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),FC3:new Array(new Array("最大","上次","当期","欲出"))},fastTrendObj.LRTitleData={R2:new Array(new Array("30期","50期","100期","遗漏")),R3:new Array(new Array("30期","50期","100期","遗漏")),R4:new Array(new Array("30期","50期","100期","遗漏")),R5:new Array(new Array("30期","50期","100期","遗漏")),R6:new Array(new Array("30期","50期","100期","遗漏")),R7:new Array(new Array("30期","50期","100期","遗漏")),R8:new Array(new Array("30期","50期","100期","遗漏")),FP1:new Array(new Array("30期","50期","100期","遗漏")),FP2:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),FC2:new Array(new Array("30期","50期","100期","遗漏")),FP3:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),FC3:new Array(new Array("30期","50期","100期","遗漏"))},fastTrendObj.YLSortKey={R2:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),R3:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),R4:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),R5:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),R6:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),R7:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),R8:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),FP1:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),FP2:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),FC2:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),FP3:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),FC3:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"))},fastTrendObj.LRSortKey={R2:new Array(new Array("30","50","100","miss")),R3:new Array(new Array("30","50","100","miss")),R4:new Array(new Array("30","50","100","miss")),R5:new Array(new Array("30","50","100","miss")),R6:new Array(new Array("30","50","100","miss")),R7:new Array(new Array("30","50","100","miss")),R8:new Array(new Array("30","50","100","miss")),FP1:new Array(new Array("30","50","100","miss")),FP2:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss")),FC2:new Array(new Array("30","50","100","miss")),FP3:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")),FC3:new Array(new Array("30","50","100","miss"))},fastTrendObj.HMTitleClass={R2:new Array("trend_num fontred"),R3:new Array("trend_num fontred"),R4:new Array("trend_num fontred"),R5:new Array("trend_num fontred"),R6:new Array("trend_num fontred"),R7:new Array("trend_num fontred"),R8:new Array("trend_num fontred"),FP1:new Array("trend_num fontred"),FP2:new Array("trend_num fontred","trend_num fontred tn2"),FC2:new Array("trend_num fontred"),FP3:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3"),FC3:new Array("trend_num fontred")},fastTrendObj.YLTitleClass={R2:new Array("trend_num trend_yl"),R3:new Array("trend_num trend_yl"),R4:new Array("trend_num trend_yl"),R5:new Array("trend_num trend_yl"),R6:new Array("trend_num trend_yl"),R7:new Array("trend_num trend_yl"),R8:new Array("trend_num trend_yl"),FP1:new Array("trend_num trend_yl"),FP2:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2"),FC2:new Array("trend_num trend_yl"),FP3:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3"),FC3:new Array("trend_num trend_yl")},fastTrendObj.LRTitleClass=fastTrendObj.YLTitleClass,fastTrendObj.HMTitleFirst={R2:["期号"],R3:["期号"],R4:["期号"],R5:["期号"],R6:["期号"],R7:["期号"],R8:["期号"],FP1:["期号"],FP2:["第一位>","第二位>","第三位>"],FC2:["期号"],FP3:["第一位>","第二位>","第三位>"],FC3:["期号"]},fastTrendObj.YLTitleFirst={R2:["选号<i>↑</i>"],R3:["选号<i>↑</i>"],R4:["选号<i>↑</i>"],R5:["选号<i>↑</i>"],R6:["选号<i>↑</i>"],R7:["选号<i>↑</i>"],R8:["选号<i>↑</i>"],FP1:["选号<i>↑</i>"],FP2:["第一位<i>↑</i>","第二位<i>↑</i>"],FC2:["选号<i>↑</i>"],FP3:["第一位<i>↑</i>","第二位<i>↑</i>","第三位<i>↑</i>"],FC3:["选号<i>↑</i>"]},fastTrendObj.LRTitleFirst=fastTrendObj.YLTitleFirst,fastTrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],fastTrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],fastTrendObj.createDom=function(){this.lotteryObj=$("#fastTrend_lotteryObj"),this.playTitleObj=$("#fastTrend_playTitleObj"),this.updataPlayObj=$("#fastTrend_updataPlayObj"),this.setObj=$("#fastTrend_setObj"),this.titleFirstObj=$("#fastTrend_titleFirstObj"),this.titleConObj=$("#fastTrend_titleConObj"),this.listFirstObj=$("#fastTrend_listFirstObj"),this.listConObj=$("#fastTrend_listConObj"),this.betFirstObj=$("#fastTrend_betFirstObj"),this.betConObj=$("#fastTrend_betConObj"),this.explainObj=$("#fastTrend_explainObj"),this.betObj=$("#fastTrend_betObj"),this.selectObj=$("#fastTrend_selectObj"),this.betMoneyObj=$("#fastTrend_betMoneyObj"),this.qhObj=$("#fastTrend_qhObj"),this.subObj=$("#fastTrend_subObj")},fastTrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){fastTrendObj.lotteryEvent(a)})},fastTrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return fastTrendObj.goBack(),!0;case"updatelottery":return fastTrendObj.updatelottery(c.attr("data-v"),c.attr("data-cn")),!0;case"subData":return fastTrendObj.subData(c),!0;case"delAll":return fastTrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return fastTrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("fastTrend_setObj"!=c[0].id)return!1;fastTrendObj.hideSet()}},fastTrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.hide(),a.attr("data-s",0),this.lotteryObj.find(".trend_tab").css({position:"fixed"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap").addClass("centerWrap_1")):(this.updataPlayObj.show(),a.attr("data-s",1),this.lotteryObj.find(".trend_tab").css({position:"static"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap_1").addClass("centerWrap"));var b=document.body.scrollHeight,c=$('<div id="fastTrend_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("#fastTrend").append(c),c.tap(function(){fastTrendObj.updataPlayObj.hide(),fastTrendObj.playTitleObj.attr("data-s","0"),c.remove()})},fastTrendObj.ajaxGetData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastLotApi[ConfigObj.fastLotType].chart,data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),fastTrendObj.temTrendData=a.info,fastTrendObj.createPageData(),fastTrendObj.createDataDom()}})},fastTrendObj.ajaxGetLRData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastLotApi[ConfigObj.fastLotType].chart,data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),fastTrendObj.temLRTrendData=a.info,fastTrendObj.createPageData(),fastTrendObj.createDataDom()}})},fastTrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},fastTrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},fastTrendObj.subSet=function(){for(var a=$("#fastTrend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},fastTrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},fastTrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight()},fastTrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b],d=this[a+"TitleFirst"][b][this.page],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↑</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},fastTrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(fastTrendObj.temTrendData);break;case"YL":this.createYLLIst(fastTrendObj.temTrendData);break;case"LR":this.createLRLIst(fastTrendObj.temLRTrendData)}this.createListTitleIscroll(),this.createListIscroll()},fastTrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-2)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=0,j=f[g].num_miss.length;i<j;i++){e.push('<div class="trend_num" style="width:'+this.conWidth+'px;">');for(var k=0,l=f[g].num_miss[i].length;k<l;k++){var m=f[g].num_miss[i][k];e.push("<span><em"+(0===Number(m.miss)?' class=" on"':"")+">"+(0===Number(m.miss)?m.hao:b?m.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){var n=this.createHMStatistics(a);d=d.concat(n.titleHtml),e=e.concat(n.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},fastTrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(a.num_all)),c.push(this.createHMStatisticeCon(a.num_avg_miss)),c.push(this.createHMStatisticeCon(a.num_max_miss)),c.push(this.createHMStatisticeCon(a.num_con_miss)),{titleHtml:b,conHtml:c}},fastTrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},fastTrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},fastTrendObj.createLRLIst=function(data){var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},fastTrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},fastTrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.betData[a],c=this.betTitle[a][this.page],d=new Array;d.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){d.push('<div class="trend_num fontred" style="width:'+this.conWidth+'px;">');for(var g=0,h=b[e].length;g<h;g++)d.push('<span data-t="bet" data-i="'+e+'" data-k="'+g+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][g]?"class='on'":"")+">"+b[e][g]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},fastTrendObj.createListHeight=function(){var a=this.betObj.height(),b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},fastTrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastTrendObj.listIscroll.scrollTo(fastTrendObj.listIscroll.x,this.y)},onMomentum:function(){fastTrendObj.listIscroll.scrollTo(fastTrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},fastTrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastTrendObj.listIscroll.scrollTo(this.x,fastTrendObj.listIscroll.y),fastTrendObj.betIscroll.scrollTo(this.x,fastTrendObj.betIscroll.y),fastTrendObj.updatePage(this.x)},onMomentum:function(){fastTrendObj.listIscroll.scrollTo(this.x,fastTrendObj.listIscroll.y,this.duration),fastTrendObj.betIscroll.scrollTo(this.x,fastTrendObj.betIscroll.y,this.duration),fastTrendObj.updatePage(this.x)}})},fastTrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastTrendObj.titleIscroll.scrollTo(this.x,fastTrendObj.titleIscroll.y),fastTrendObj.betIscroll.scrollTo(this.x,fastTrendObj.betIscroll.y),fastTrendObj.listTitleIscroll.scrollTo(fastTrendObj.listTitleIscroll.x,this.y),fastTrendObj.updatePage(this.x)},onMomentum:function(){fastTrendObj.titleIscroll.scrollTo(this.x,fastTrendObj.titleIscroll.y,this.duration),fastTrendObj.betIscroll.scrollTo(this.x,fastTrendObj.betIscroll.y,this.duration),fastTrendObj.listTitleIscroll.scrollTo(fastTrendObj.listTitleIscroll.x,this.y,this.duration),fastTrendObj.updatePage(this.x)}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},fastTrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){fastTrendObj.listIscroll.scrollTo(this.x,fastTrendObj.listIscroll.y),fastTrendObj.titleIscroll.scrollTo(this.x,fastTrendObj.titleIscroll.y),fastTrendObj.updatePage(this.x)},onMomentum:function(){fastTrendObj.listIscroll.scrollTo(this.x,fastTrendObj.listIscroll.y,this.duration),fastTrendObj.titleIscroll.scrollTo(this.x,fastTrendObj.titleIscroll.y,this.duration),fastTrendObj.updatePage(this.x)}})},fastTrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page],d=this.betTitle[this.postData.trendType][this.page];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.page+'"]').addClass("on")},fastTrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?this.createDataDom():(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.page])},fastTrendObj.updatelottery=function(a,b){this.playTitleObj.html("11选5-"+b+'<em class="down"></em>'),this.postData.trendType=a,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.playTitleObj.attr("data-s","0"),$("#fastTrend_upBGObj").length&&$("#fastTrend_upBGObj").remove(),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array},fastTrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.page];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↑")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↑"),this.sortData(e,"down")),this.temSortDom=a},fastTrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?a[e]-a[f]:"up"==b?a[f]-a[e]:"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd")),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},fastTrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");d.hasClass("on")?(d.removeClass("on"),delete this.selectBetData[b][c]):(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c])},fastTrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg(this.lotteryBetError[this.postData.trendType][b]),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!(d.length&&d.length>=this.betNumData[this.postData.trendType][b]))return $.alertMsg(this.lotteryBetError[this.postData.trendType][b]),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return a.push(this.postData.trendType),a.push(g),a.join("|")},fastTrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},fastTrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},fastTrendObj.getZS=function(){return"FP2"==this.postData.trendType||"FP3"==this.postData.trendType?fastTrendObj.FP2Bonus():fastTrendObj.R2Bonus()},fastTrendObj.R2Bonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},fastTrendObj.FP2Bonus=function(){for(var a=new Array,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++)!function(b){if(!b||!b.length)return!0;if(!a.length)return a=b,!0;for(var c=new Array,d=0,e=a.length;d<e;d++)if(a[d])for(var f=0,g=b.length;f<g;f++)if(b[f]){var h=a[d].split(",");$.inArray(b[f],h)>-1||c.push(a[d]+","+b[f])}!!c.length&&(a=c.concat([]))}(this.selectBetData[b]);var d=0;for(var b in a)a[b]&&a[b].split(",").length==this.betNumData[this.postData.trendType].length&&d++;return d},fastTrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case ConfigObj.fastLotType:this.goFastBetConfirm()}},fastTrendObj.goFastBetConfirm=function(){var a=this;fastBetConfirmObj.goBack=function(){fastTrendObj.show()},fastBetConfirmObj.show("reload",function(){fastBetConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"11选5",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},fastTrendObj.delAll=function(){this.selectBetData=new Array,
this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},fastTrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},fastTrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.page==b?" on":"")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"]().css({transform:""}),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},fastTrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},fastTrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},fastTrendObj.init=function(){fastTrendObj.setDefConfig(),fastTimeObj.setDefConfig(),fastTrendObj.onloadExecution(),fastTimeObj.init()},fastTrendObj.destroy=function(){fastTrendObj.setDefConfig(),fastTimeObj.setDefConfig(),$("#fastTrend").html("").remove()};var hn4j1TimeObj=new Object;hn4j1TimeObj.createDom=function(){this.qhObj=$("#hn4j1Trend_qhObj"),this.subObj=$("#hn4j1Trend_subObj")},hn4j1TimeObj.getClientTime=function(){return(new date).getTime()},hn4j1TimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},hn4j1TimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+"?m=Ajax.stat.getscheduletime",data:"lotteryType=hn4j1&v="+(new Date).getTime(),type:"post",dataType:"json",success:function(a){return"0000"!=a.code?($.alertMsg(a.code_str),hn4j1TimeObj.getTimeObj=setTimeout(function(){hn4j1TimeObj.getLotteryData()},hn4j1TimeObj.hn4j1TimeObjNoInterval),!1):"Y"==a.info.stop?(hn4j1TimeObj.stop=!0,hn4j1TimeObj.qhObj.html("每天09:00-23:50销售"),hn4j1TimeObj.setData(a.info),hn4j1TimeObj.resetSetTime(),hn4j1TimeObj.subObj.attr("data-stop","1"),!1):(hn4j1TimeObj.subObj.removeAttr("data-stop"),hn4j1TimeObj.stop=!1,hn4j1TimeObj.getTimeObj&&(clearTimeout(hn4j1TimeObj.getTimeObj),hn4j1TimeObj.getTimeObj=""),void(hn4j1TimeObj.lotteryNoChange&&a.info.lotteryNo!=hn4j1TimeObj.lotteryNo?(hn4j1TimeObj.setData(a.info),hn4j1TimeObj.resetSetTime(),hn4j1TimeObj.lotteryNoChange(a.info)):(hn4j1TimeObj.setData(a.info),hn4j1TimeObj.resetSetTime())))}})},hn4j1TimeObj.lotteryNoChange=function(a){hn4j1TrendObj.postData.lotteryNoVal=a.lotteryNo,$("#hn4j1Confirm").length>0&&hn4j1ConfirmObj.updBetTipsObj&&hn4j1ConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},hn4j1TimeObj.getCG=function(a,b){a=a||this.hn4j1TimeObjCG,hn4j1TimeObj.getCGObj=setTimeout(function(){var a=hn4j1TrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal),$.ajax({url:ConfigObj.localSite+"?m=Lottery.hn4j1.getChartData",data:c,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),hn4j1TimeObj.getCG(hn4j1TimeObj.hn4j1TimeObjCGInterval,b),!1):a.info&&a.info.list&&a.info.list.length?(hn4j1TimeObj.getCGObj&&(clearTimeout(hn4j1TimeObj.getCGObj),hn4j1TimeObj.getCGObj=""),void hn4j1TimeObj.createNewCG(a.info)):(hn4j1TimeObj.getCG(hn4j1TimeObj.hn4j1TimeObjCGInterval,b),!1)}})},a)},hn4j1TimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},hn4j1TimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},hn4j1TimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){hn4j1TimeObj.nowTime+=1e3},1e3)},hn4j1TimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!hn4j1TimeObj.syTime)return!1;Math.abs(a-hn4j1TimeObj.nowTime)>hn4j1TimeObj.errorTime&&hn4j1TimeObj.getLotteryData()},this.correctInterval)},hn4j1TimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return hn4j1TimeObj.syTimeObj&&clearTimeout(hn4j1TimeObj.syTimeObj),hn4j1TimeObj.syTimeObj="",hn4j1TimeObj.getCG(hn4j1TimeObj.hn4j1TimeObjCG,"append"),hn4j1TimeObj.setLotteryNoTipsHtml(),hn4j1TimeObj.getLotteryData(),!1;if(!hn4j1TimeObj.stop){var b=0;a>3600&&(b=Math.floor(a/3600));var c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=hn4j1TimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+(b?b+":":"")+c+":"+d+"</span>";hn4j1TimeObj.qhObj.html(e)}a--},1e3)},hn4j1TimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},hn4j1TimeObj.setDefConfig=function(){hn4j1TimeObj.lotteryNo="",hn4j1TimeObj.nowTime=(new Date).getTime(),hn4j1TimeObj.syTime=0,hn4j1TimeObj.hn4j1TimeObjCG=36e4,hn4j1TimeObj.hn4j1TimeObjCGInterval=6e4,hn4j1TimeObj.hn4j1TimeObjNoInterval=6e4,hn4j1TimeObj.correctInterval=1e4,hn4j1TimeObj.errorTime=1e5,hn4j1TimeObj.stop=!1,hn4j1TimeObj.tips=!0,this.correctTimeObj&&clearInterval(hn4j1TimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(hn4j1TimeObj.nowTimeObj),this.syTimeObj&&clearInterval(hn4j1TimeObj.syTimeObj),this.getTimeObj&&clearTimeout(hn4j1TimeObj.getTimeObj),this.getCGObj&&clearTimeout(hn4j1TimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var hn4j1TrendObj=new PageController({name:"hn4j1Trend",tpl:"template/kaijiang/hn4j1Trend.html"});hn4j1TrendObj.setDefConfig=function(){hn4j1TrendObj.titleWidth=.175,hn4j1TrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),hn4j1TrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),hn4j1TrendObj.conWidth=Number((Number(hn4j1TrendObj.clientWidth)*(1-hn4j1TrendObj.titleWidth)).toFixed(2)),hn4j1TrendObj.conHeight=Number(hn4j1TrendObj.clientHeight-101-78),hn4j1TrendObj.maxPage=0,hn4j1TrendObj.page=0,hn4j1TrendObj.borderWidth=1,hn4j1TrendObj.titleIscroll="",hn4j1TrendObj.listTitleIscroll="",hn4j1TrendObj.listIscroll="",hn4j1TrendObj.temTrendData="",hn4j1TrendObj.temLRTrendData="",hn4j1TrendObj.temSortDom="",hn4j1TrendObj.selectBetData=new Array,hn4j1TrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:"hn4j1",trendType:"D5",trendName:"HM",lotteryNoVal:""}},hn4j1TrendObj.betNumData={D5:[1,1,1,1,1],R4C3:[1,1],R3C2:[1,1],D4:[1,1,1,1],R4C2:[2],R3:[3],D3:[1,1,1,1],R4C1:[1,2],R2C2:[1],D2:[1,1,1,1],R4:[4],R2:[2],D1:[1,1,1,1],R3C3:[1]},hn4j1TrendObj.betMaxNumData={D5:[10,10,10,10,10],R4C3:[1,1],R3C2:[1,1],D4:[10,10,10,10],R4C2:[2],R3:[10],D3:[10,10,10,10],R4C1:[1,2],R2C2:[1],D2:[10,10,10,10],R4:[10],R2:[10],D1:[10,10,10,10],R3C3:[1]},hn4j1TrendObj.lotteryBallWei={D3:3,D2:2,D1:1},hn4j1TrendObj.betData={D5:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),R4C3:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),R3C2:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),D4:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),R4C2:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),R3:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),D3:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),R4C1:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),R2C2:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),D2:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),R4:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),R2:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),D1:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),R3C3:new Array(new Array("0","1","2","3","4","5","6","7","8","9"))},hn4j1TrendObj.betTitle={D5:["第一位","第二位","第三位","第四位","特殊号"],R4C3:["重号","单号"],R3C2:["重号","单号"],D4:["第一位","第二位","第三位","第四位"],R4C2:["重号"],R3:["单号"],D3:["第一位","第二位","第三位","第四位"],R4C1:["重号","单号"],R2C2:["重号"],D2:["第一位","第二位","第三位","第四位"],R4:["单号"],R2:["单号"],D1:["第一位","第二位","第三位","第四位"],R3C3:["重号"]},hn4j1TrendObj.HMTitleData=hn4j1TrendObj.betData,hn4j1TrendObj.YLTitleData={D5:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),R4C3:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),R3C2:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),D4:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),R4C2:new Array(new Array("最大","上次","当期","欲出")),R3:new Array(new Array("最大","上次","当期","欲出")),D3:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),R4C1:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),R2C2:new Array(new Array("最大","上次","当期","欲出")),D2:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),R4:new Array(new Array("最大","上次","当期","欲出")),R2:new Array(new Array("最大","上次","当期","欲出")),D1:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),R3C3:new Array(new Array("最大","上次","当期","欲出"))},hn4j1TrendObj.LRTitleData={D5:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),R4C3:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),R3C2:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),D4:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),R4C2:new Array(new Array("30期","50期","100期","遗漏")),R3:new Array(new Array("30期","50期","100期","遗漏")),D3:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),R4C1:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),R2C2:new Array(new Array("30期","50期","100期","遗漏")),D2:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),R4:new Array(new Array("30期","50期","100期","遗漏")),R2:new Array(new Array("30期","50期","100期","遗漏")),D1:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),R3C3:new Array(new Array("30期","50期","100期","遗漏"))},hn4j1TrendObj.YLSortKey={D5:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),R4C3:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R3C2:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],D4:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R4C2:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R3:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],D3:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R4C1:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R2C2:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],D2:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R4:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R2:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],D1:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")],R3C3:[new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")]},hn4j1TrendObj.LRSortKey={D5:[new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")],R4C3:[new Array("30","50","100","miss"),new Array("30","50","100","miss")],R3C2:[new Array("30","50","100","miss"),new Array("30","50","100","miss")],D4:[new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")],R4C2:[new Array("30","50","100","miss")],R3:[new Array("30","50","100","miss")],D3:[new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")],R4C1:[new Array("30","50","100","miss"),new Array("30","50","100","miss")],R2C2:[new Array("30","50","100","miss")],D2:[new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")],R4:[new Array("30","50","100","miss")],R2:[new Array("30","50","100","miss")],D1:[new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")],R3C3:[new Array("30","50","100","miss")]},hn4j1TrendObj.HMTitleClass={D5:["trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5"],R4C3:["trend_num fontred","trend_num fontred tn2"],R3C2:["trend_num fontred","trend_num fontred tn2"],D4:["trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4"],R4C2:["trend_num fontred"],R3:["trend_num fontred"],D3:["trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4"],R4C1:["trend_num fontred","trend_num fontred tn2"],R2C2:["trend_num fontred"],D2:["trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4"],R4:["trend_num fontred"],R2:["trend_num fontred"],D1:["trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4"],R3C3:["trend_num fontred"]},hn4j1TrendObj.YLTitleClass={D5:["trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3","trend_num trend_yl fontred tn4","trend_num trend_yl fontred tn5"],R4C3:["trend_num trend_yl","trend_num trend_yl fontred tn2"],R3C2:["trend_num trend_yl","trend_num trend_yl fontred tn2"],D4:["trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3","trend_num trend_yl fontred tn4"],R4C2:["trend_num trend_yl"],R3:["trend_num trend_yl"],D3:["trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3","trend_num trend_yl fontred tn4"],R4C1:["trend_num trend_yl","trend_num trend_yl fontred tn2"],R2C2:["trend_num trend_yl"],D2:["trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3","trend_num trend_yl fontred tn4"],R4:["trend_num trend_yl"],R2:["trend_num trend_yl"],D1:["trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3","trend_num trend_yl fontred tn4"],R3C3:["trend_num trend_yl"]},hn4j1TrendObj.LRTitleClass=hn4j1TrendObj.YLTitleClass,hn4j1TrendObj.HMTitleFirst={D5:["第一位>","第二位>","第三位>","第四位>","特殊号>"],R4C3:["重号>","单号>"],R3C2:["重号>","单号>"],D4:["第一位>","第二位>","第三位>","第四位>"],R4C2:["重号>"],R3:["单号>"],D3:["第一位>","第二位>","第三位>","第四位>"],R4C1:["重号>","单号>"],R2C2:["重号>"],D2:["第一位>","第二位>","第三位>","第四位>"],R4:["单号>"],R2:["单号>"],D1:["第一位>","第二位>","第三位>","第四位>"],R3C3:["重号>"]},hn4j1TrendObj.YLTitleFirst={D5:["第一位<i>↓</i>","第二位<i>↓</i>","第三位<i>↓</i>","第四位<i>↓</i>","特殊号<i>↓</i>"],R4C3:["重号<i>↓</i>","单号<i>↓</i>"],R3C2:["重号<i>↓</i>","单号<i>↓</i>"],D4:["第一位<i>↓</i>","第二位<i>↓</i>","第三位<i>↓</i>","第四位<i>↓</i>"],R4C2:["重号<i>↓</i>"],R3:["单号<i>↓</i>"],D3:["第一位<i>↓</i>","第二位<i>↓</i>","第三位<i>↓</i>","第四位<i>↓</i>"],R4C1:["重号<i>↓</i>","单号<i>↓</i>"],R2C2:["重号<i>↓</i>"],D2:["第一位<i>↓</i>","第二位<i>↓</i>","第三位<i>↓</i>","第四位<i>↓</i>"],R4:["单号<i>↓</i>"],R2:["单号<i>↓</i>"],D1:["第一位<i>↓</i>","第二位<i>↓</i>","第三位<i>↓</i>","第四位<i>↓</i>"],R3C3:["重号<i>↓</i>"]},hn4j1TrendObj.LRTitleFirst=hn4j1TrendObj.YLTitleFirst,hn4j1TrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],hn4j1TrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],hn4j1TrendObj.createDom=function(){this.lotteryObj=$("#hn4j1Trend_lotteryObj"),this.playTitleObj=$("#hn4j1Trend_playTitleObj"),this.updataPlayObj=$("#hn4j1Trend_updataPlayObj"),this.setObj=$("#hn4j1Trend_setObj"),this.titleFirstObj=$("#hn4j1Trend_titleFirstObj"),this.titleConObj=$("#hn4j1Trend_titleConObj"),this.listFirstObj=$("#hn4j1Trend_listFirstObj"),this.listConObj=$("#hn4j1Trend_listConObj"),this.betFirstObj=$("#hn4j1Trend_betFirstObj"),this.betConObj=$("#hn4j1Trend_betConObj"),this.explainObj=$("#hn4j1Trend_explainObj"),this.betObj=$("#hn4j1Trend_betObj"),this.selectObj=$("#hn4j1Trend_selectObj"),this.betMoneyObj=$("#hn4j1Trend_betMoneyObj"),this.qhObj=$("#hn4j1Trend_qhObj"),this.subObj=$("#hn4j1Trend_subObj")},hn4j1TrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){hn4j1TrendObj.lotteryEvent(a)})},hn4j1TrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return hn4j1TrendObj.goBack(),!0;case"updatelottery":return hn4j1TrendObj.updatelottery(c),!0;case"subData":return hn4j1TrendObj.subData(c),!0;case"delAll":return hn4j1TrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return hn4j1TrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("hn4j1Trend_setObj"!=c[0].id)return!1;hn4j1TrendObj.hideSet()}},hn4j1TrendObj.showUpdPlay=function(a){if(Number(a.attr("data-s")))this.updataPlayObj.hide(),a.attr("data-s",0),this.lotteryObj.find(".trend_tab").css({position:"fixed"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap").addClass("centerWrap_1");else if(this.updataPlayObj.show(),a.attr("data-s",1),this.lotteryObj.find(".trend_tab").css({position:"static"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap_1").addClass("centerWrap"),0==$("#hn4j1Trend_upBGObj").length){var b=document.body.scrollHeight,c=$('<div  style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" id="hn4j1Trend_upBGObj"></div>');$("body").append(c),c.tap(function(){hn4j1TrendObj.updataPlayObj.hide(),hn4j1TrendObj.playTitleObj.attr("data-s","0"),c.remove()})}},hn4j1TrendObj.ajaxGetData=function(){$.ajax({url:ConfigObj.localSite+"?m=Lottery.hn4j1.getChartData",data:this.postData,type:"post",dataType:"json",success:function(a){return a.trendType==hn4j1TrendObj.postData.trendType&&("0000"!=a.code?($.alertMsg(a.code_str),!1):(hn4j1TrendObj.temTrendData=a.info,hn4j1TrendObj.createPageData(),void hn4j1TrendObj.createDataDom()))}})},hn4j1TrendObj.ajaxGetLRData=function(){$.ajax({url:ConfigObj.localSite+"?m=Lottery.hn4j1.getChartData",data:this.postData,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;hn4j1TrendObj.temLRTrendData=a.info,hn4j1TrendObj.createPageData(),hn4j1TrendObj.createDataDom()}})},hn4j1TrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},hn4j1TrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},hn4j1TrendObj.subSet=function(){for(var a=$("#hn4j1Trend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},hn4j1TrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},hn4j1TrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight()},hn4j1TrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b],d=this[a+"TitleFirst"][b][this.page],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+" trend_w"+c[g].length+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↓</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},hn4j1TrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(hn4j1TrendObj.temTrendData);break;case"YL":this.createYLLIst(hn4j1TrendObj.temTrendData);break;case"LR":this.createLRLIst(hn4j1TrendObj.temLRTrendData)}this.createListTitleIscroll(),this.createListIscroll()},hn4j1TrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=0,j=f[g].num_miss.length;i<j;i++){e.push('<div class="trend_num trend_w'+f[g].num_miss[i].length+'" style="width:'+this.conWidth+'px;">');for(var k=0,l=f[g].num_miss[i].length;k<l;k++){var m=f[g].num_miss[i][k];e.push("<span><em"+(0===Number(m.miss)?' class=" on"':"")+">"+(0===Number(m.miss)?m.hao:b?m.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){var n=this.createHMStatistics(a);d=d.concat(n.titleHtml),e=e.concat(n.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},hn4j1TrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(a.num_all)),c.push(this.createHMStatisticeCon(a.num_avg_miss)),c.push(this.createHMStatisticeCon(a.num_max_miss)),c.push(this.createHMStatisticeCon(a.num_con_miss)),{titleHtml:b,conHtml:c}},hn4j1TrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num trend_w'+a[c].length+'" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},hn4j1TrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},hn4j1TrendObj.createLRLIst=function(data){var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},hn4j1TrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},hn4j1TrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.betData[a],c=this.betTitle[a][this.page],d=new Array;d.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){d.push('<div class="trend_num fontred trend_w'+b[e].length+(4==e?" numblue  fontblue":"")+'" style="width:'+this.conWidth+'px;">');for(var g=0,h=b[e].length;g<h;g++)d.push('<span data-t="bet" data-i="'+e+'" data-k="'+g+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][g]?"class='on'":"")+">"+b[e][g]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},hn4j1TrendObj.createListHeight=function(){var a=this.betObj.height(),b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},hn4j1TrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){hn4j1TrendObj.listIscroll.scrollTo(hn4j1TrendObj.listIscroll.x,this.y)},onMomentum:function(){hn4j1TrendObj.listIscroll.scrollTo(hn4j1TrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},hn4j1TrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{
hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){hn4j1TrendObj.listIscroll.scrollTo(this.x,hn4j1TrendObj.listIscroll.y),hn4j1TrendObj.betIscroll.scrollTo(this.x,hn4j1TrendObj.betIscroll.y),hn4j1TrendObj.updatePage(this.x)},onMomentum:function(){hn4j1TrendObj.listIscroll.scrollTo(this.x,hn4j1TrendObj.listIscroll.y,this.duration),hn4j1TrendObj.betIscroll.scrollTo(this.x,hn4j1TrendObj.betIscroll.y,this.duration),hn4j1TrendObj.updatePage(this.x)}})},hn4j1TrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){hn4j1TrendObj.titleIscroll.scrollTo(this.x,hn4j1TrendObj.titleIscroll.y),hn4j1TrendObj.betIscroll.scrollTo(this.x,hn4j1TrendObj.betIscroll.y),hn4j1TrendObj.listTitleIscroll.scrollTo(hn4j1TrendObj.listTitleIscroll.x,this.y),hn4j1TrendObj.updatePage(this.x)},onMomentum:function(){hn4j1TrendObj.titleIscroll.scrollTo(this.x,hn4j1TrendObj.titleIscroll.y,this.duration),hn4j1TrendObj.betIscroll.scrollTo(this.x,hn4j1TrendObj.betIscroll.y,this.duration),hn4j1TrendObj.listTitleIscroll.scrollTo(hn4j1TrendObj.listTitleIscroll.x,this.y,this.duration),hn4j1TrendObj.updatePage(this.x)}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},hn4j1TrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){hn4j1TrendObj.listIscroll.scrollTo(this.x,hn4j1TrendObj.listIscroll.y),hn4j1TrendObj.titleIscroll.scrollTo(this.x,hn4j1TrendObj.titleIscroll.y),hn4j1TrendObj.updatePage(this.x)},onMomentum:function(){hn4j1TrendObj.listIscroll.scrollTo(this.x,hn4j1TrendObj.listIscroll.y,this.duration),hn4j1TrendObj.titleIscroll.scrollTo(this.x,hn4j1TrendObj.titleIscroll.y,this.duration),hn4j1TrendObj.updatePage(this.x)}})},hn4j1TrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page],d=this.betTitle[this.postData.trendType][this.page];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.page+'"]').addClass("on")},hn4j1TrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?this.createDataDom():(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.page])},hn4j1TrendObj.updatelottery=function(a){var b=a.attr("data-v"),c=a.attr("data-cn");this.playTitleObj.html("海南-"+c+'<em class="down"></em>'),this.postData.trendType=b,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.playTitleObj.attr("data-s","0"),$("#hn4j1Trend_upBGObj").length&&$("#hn4j1Trend_upBGObj").remove(),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom()},hn4j1TrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.page];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↓")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↓"),this.sortData(e,"down")),this.temSortDom=a},hn4j1TrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?a[e]-a[f]:"up"==b?a[f]-a[e]:"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd")),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},hn4j1TrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");if(d.hasClass("on"))d.removeClass("on"),delete this.selectBetData[b][c];else{for(var e=new Array,f=0,g=this.betNumData[this.postData.trendType].length;f<g;f++)if(e[f]=0,this.selectBetData[f])for(var h=0,i=this.selectBetData[f].length;h<i;h++)this.selectBetData[f][h]&&(e[f]+=1);if(this.lotteryBallWei){for(var f=0,h=0,g=e.length;f<g;f++)e[f]>0&&h++;if(h>=this.lotteryBallWei[this.postData.trendType]&&0===e[b])return $.alertMsg("最多可选"+this.lotteryBallWei[this.postData.trendType]+"位"),!1}if(e[b]>=this.betMaxNumData[this.postData.trendType][b])return $.alertMsg("最多可选"+this.betMaxNumData[this.postData.trendType][b]+"个"+this.betTitle[this.postData.trendType][b]),!1;d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c]}},hn4j1TrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(this.selectBetData[b]&&this.selectBetData[b].length){for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!d.length||d.length<this.betNumData[this.postData.trendType][b])return $.alertMsg("请至少选择1注"),!1;d.length&&a.push(d.join(","))}else a.push("-")}var g=this.getZS();return"D3"!=this.postData.trendType&&"D2"!=this.postData.trendType&&"D1"!=this.postData.trendType||0!=g?"R4C3"!=this.postData.trendType&&"R4C1"!=this.postData.trendType&&"R3C2"!=this.postData.trendType||0!=g?0==g?($.alertMsg("请至少选择1注"),!1):(a.push(this.postData.trendType),a.push(g),a.join("|")):($.alertMsg("重号和单号至少选择1个不同的号码"),!1):($.alertMsg("请每位至少选择1个不同的号码"),!1)},hn4j1TrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},hn4j1TrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},hn4j1TrendObj.getZS=function(){return hn4j1TrendObj[this.postData.trendType+"Bonus"]()},hn4j1TrendObj.D5Bonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},hn4j1TrendObj.D3Bonus=function(){for(var a=new Array,b=this.lotteryBallWei[this.postData.trendType],c=this.betNumData[this.postData.trendType],d=0,e=this.betNumData[this.postData.trendType].length;d<e;d++)if(a[d]=0,this.selectBetData[d])for(var f=0,g=this.selectBetData[d].length;f<g;f++)this.selectBetData[d][f]&&(a[d]+=1);for(var d=0,f=0,e=a.length;d<e;d++)a[d]>0&&f++;if(f<b)return 0;for(var h,d=0,e=a.length;d<e;d++)if(a[d]){for(var i=1,j=1,f=0,g=c[d];f<g;f++)i*=a[d]-f,j*=c[d]-f;h=h?h*i/j:1*i/j}return h},hn4j1TrendObj.FP2Bonus=function(){for(var a=new Array,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++)!function(b){if(!b||!b.length)return!0;if(!a.length)return a=b,!0;for(var c=new Array,d=0,e=a.length;d<e;d++)if(a[d])for(var f=0,g=b.length;f<g;f++)if(b[f]){var h=a[d].split(",");$.inArray(b[f],h)>-1||c.push(a[d]+","+b[f])}!!c.length&&(a=c.concat([]))}(this.selectBetData[b]);var d=0;for(var b in a)a[b]&&a[b].split(",").length==this.betNumData[this.postData.trendType].length&&d++;return d},hn4j1TrendObj.D4Bonus=hn4j1TrendObj.D5Bonus,hn4j1TrendObj.D2Bonus=hn4j1TrendObj.D3Bonus,hn4j1TrendObj.D1Bonus=hn4j1TrendObj.D3Bonus,hn4j1TrendObj.R4C3Bonus=hn4j1TrendObj.FP2Bonus,hn4j1TrendObj.R4C2Bonus=hn4j1TrendObj.D5Bonus,hn4j1TrendObj.R4C1Bonus=function(){for(var a=new Array,b=this.betNumData[this.postData.trendType],c=0,d=this.betNumData[this.postData.trendType].length;c<d;c++)if(a[c]=0,this.selectBetData[c])for(var e=0,f=this.selectBetData[c].length;e<f;e++)this.selectBetData[c][e]&&(a[c]+=1);for(var c=0,d=b.length;c<d;c++){if(!a[c])return 0;if(a[c]<b[c])return 0;if(1==c)for(var g=0,h=this.selectBetData[c].length;g<h;g++)if(this.selectBetData[c][g]&&$.inArray(this.selectBetData[c][g],this.selectBetData[0])>-1)return 0}return 1},hn4j1TrendObj.R4Bonus=hn4j1TrendObj.D5Bonus,hn4j1TrendObj.R3C3Bonus=hn4j1TrendObj.D5Bonus,hn4j1TrendObj.R3C2Bonus=hn4j1TrendObj.R4C3Bonus,hn4j1TrendObj.R3Bonus=hn4j1TrendObj.D5Bonus,hn4j1TrendObj.R2C2Bonus=hn4j1TrendObj.D5Bonus,hn4j1TrendObj.R2Bonus=hn4j1TrendObj.D5Bonus,hn4j1TrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case"hn4j1":this.goHn4j1Confirm()}},hn4j1TrendObj.goHn4j1Confirm=function(){var a=this;hn4j1ConfirmObj.goBack=function(){hn4j1TrendObj.show()},hn4j1ConfirmObj.show("reload",function(){hn4j1ConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"海南4+1",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},hn4j1TrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},hn4j1TrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},hn4j1TrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.page==b?" on":"")+(4==b?" fontblue":" fontred")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},hn4j1TrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},hn4j1TrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},hn4j1TrendObj.init=function(){hn4j1TrendObj.setDefConfig(),hn4j1TimeObj.setDefConfig(),hn4j1TrendObj.onloadExecution(),hn4j1TimeObj.init()},hn4j1TrendObj.destroy=function(){hn4j1TrendObj.setDefConfig(),hn4j1TimeObj.setDefConfig(),$("#hn4j1Trend").html("").remove()};var kaijiangIndexObj=new PageController({name:"kaijiangIndex",tpl:"template/kaijiang/kaijiangIndex.html",pullDistance:220});kaijiangIndexObj.setDefConfig=function(){this.allLotteryType=["ssq","dlt","jxk3","gxk3","gx11x5","ftspf","spf14","d3","pl3","pl5"]},kaijiangIndexObj.createDomObj=function(){this.kaijiangIndexList=$("#kaijiangIndex_list")},kaijiangIndexObj.createEvent=function(){this.kaijiangIndexList.on("tap",".kjli>a",function(a){var b=$.oto_checkEvent(a,"A");if(b){b=$(b);var c=b.attr("data-t"),d=b.attr("data-c");switch(c){case"goDetail":kaijiangIndexObj.goDetail(d)}}}),$("#kaijiangIndex_showSet").tap(function(){loginObj.isLogin?(prizeNotifyObj.goBack=function(){prizeNotifyObj.destroy(),kaijiangIndexObj.show()},prizeNotifyObj.show("reload",function(){prizeNotifyObj.getData()})):Global.msg("请登录后开启")})},kaijiangIndexObj.goDetail=function(a){numKaijiangObj.goBack=function(){numKaijiangObj.destroy(),kaijiangIndexObj.show()},numKaijiangObj.show("reload",null,a),Global.pv("kaijiang",{lotteryType:a})},kaijiangIndexObj.getData=function(){$.post(ConfigObj.localSite+"?m=lottery.prize.getInfo",function(a){if("0000"!=a.code)return!1;a.info=$.parseJSON(Global.crypt(a.info)),kaijiangIndexObj.formatHtml(a.info.res_info)},"json")},kaijiangIndexObj.formatHtml=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)&&-1!=this.allLotteryType.indexOf(c)){var d=a[c].lottery_cn,e=a[c].lottery_no,f=a[c].time?a[c].time:a[c].lottery_no+""+a[c].week,g=a[c],h=a[c].bet_result_arr,i='<p class="new-kjtit mb15 clearfix">                           <span class="fl">'+d+'</span>                           <span class="fl gray font12 center">第'+e+'期</span>                           <span class="fr gray font12 right">'+f+"</span>                       </p>",j="",k='<a data-t="goDetail" data-c="'+c+'"><span style="width:100%;" class="arrowbox"><em style="float:right;padding-right:6px;" class="rtarrow icon"></em></span></a>';if("spf14"==c){var l="";h.red_ball.forEach(function(a){l+='<span class="block">'+a+"</span>"}),j='<div class="clearfix wid1">'+l+"</div>"}else if("ftspf"==c)j='<div class="result_li clearfix">                              <p class="font12 gray">                                  <span>'+g.leagueName+"</span>                                  <span> "+g.sno+" "+g.betEndTime+"</span>                              </p>                              <p>"+g.host_name_q+'</p>                              <p>                                  <sapn class="fontred">'+g.scoreResult+'</sapn>                                  <span class="font12 gray">'+(g.bqcResult?"半全场："+g.bqcResult:"")+"</span>                              </p>                              <p>"+g.guest_name_q+"</p>                          </div>",i=i.replace("第"+e+"期","主队VS客队");else{var m=h.red_ball,n=h.blue_ball,o="",p="";if(m&&m.forEach(function(a){o+='<span class="ball redball">'+a+"</span>"}),n&&n.forEach(function(a){p+='<span class="ball blueball">'+a+"</span>"}),"d3"==c)var q=g.bet_result_sum?'<p class="w25">和值'+g.bet_result_sum+"</p>":"",r=g.bet_result_sum?'<p class="w25">'+g.bet_result_desc+"</p>":"";else var q=g.bet_result_sum?'<p class="w25">和值'+g.bet_result_sum+"</p>":"",r=g.bet_result_sum?'<p class="w25">和值'+g.bet_result_desc+"</p>":"";j='<div class="clearfix pl3">'+(g.bet_result_sum?'<p class="clearfix w50">':'<p class="clearfix">')+o+p+q+r+"</p></div>"}b[c]='<div class="kjli">'+i+j+k+"</div>"}var s="";this.allLotteryType.forEach(function(a){s+=b[a]?b[a]:""}),this.kaijiangIndexList.html(s)}.bind(kaijiangIndexObj),kaijiangIndexObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent(),this.getData()},kaijiangIndexObj.init=function(){this.setDefConfig(),this.onloadExecution()};var liveScoreObj=new PageController({name:"liveScore",tpl:"template/kaijiang/liveScore.html"});liveScoreObj.setDefConfig=function(){liveScoreObj.dateData="",liveScoreObj.lotteryType="FTSPF"},liveScoreObj.createDomObj=function(){this.wrapperObj=$("#liveScore_wrapperObj"),this.lotteryObj=$("#liveScore_lotteryObj"),this.dateTipsObj=$("#liveScore_dateTipsObj"),this.showDateObj=$("#liveScore_showDateObj"),this.dateList=$("#liveScore_dateList")},liveScoreObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){liveScoreObj.lotteryEvent(a)})},liveScoreObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"showMatch":return this.showMatch(c),!0;case"back":return this.goBack(),!0;case"showDate":return this.showDate(c),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"updDate":return this.updDate(c),!0}}},liveScoreObj.updDate=function(a){this.dateData=a.attr("data-v"),this.getData(),this.dateTipsObj.hide(),this.showDateObj.removeClass("showObj")},liveScoreObj.removeliveScore_bgLayer=function(){$("#liveScore_bgLayer").length&&$("#liveScore_bgLayer").remove()},liveScoreObj.addliveScore_bgLayer=function(a,b){0==$("#liveScore_bgLayer").length&&($(this.lotteryObj).append('<div style="width:100%;height:100%;background:transparent;position:absolute;left:0;top:0;z-index:98" id="liveScore_bgLayer"></div>'),$("#liveScore_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#liveScore_bgLayer").tap(function(){b.removeClass("showObj"),a.hide(),$("#liveScore_bgLayer").remove(),$(b).find(".arrow").length>0&&$(b).find(".arrow").removeClass("trans")}))},liveScoreObj.showDate=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),this.removeliveScore_bgLayer(),this.dateTipsObj.hide()):(a.addClass("showObj"),this.dateTipsObj.show(),this.addliveScore_bgLayer(this.dateTipsObj,a))},liveScoreObj.showMatch=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),a.next().hide(),a.children("span").find("em").removeClass("trans")):(a.addClass("showObj"),a.next().show(),a.children("span").find("em").addClass("trans"))},liveScoreObj.getDateData=function(){var a={lotteryType:this.lotteryType},b={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=lottery.prize.ftTrend",data:b,dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),liveScoreObj.formatDateHtml(a.info)}})},liveScoreObj.formatDateHtml=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];b+='<li data-t="updDate" data-v="'+d.LotteryNo+'"><a href="javascript:void(0);">'+d.LotteryNo+"</a></li>"}this.dateList.html(b)};var postData={lotteryNo:this.dateData,lotteryType:this.lotteryType},secretData={para:Global.encrypt(postData)};liveScoreObj.getData=function(){$.ajax({url:ConfigObj.localSite+"?m=Lottery.Charts.getFtTrend",data:secretData,dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.str),!1;a.info=$.parseJSON(Global.crypt(a.info)),liveScoreObj.createLotteryDom(a.info.matchList)}})},liveScoreObj.createLotteryDom=function(a){var b=[],c=0;for(var d in a){b.push('<p class="jzli'+(0==c?" showObj":"")+'" data-t="showMatch"><span class="gray"><em class="mr10">'+d+" "+a[d].week+'</em><em class="mr10">'+a[d].all+"场比赛</em><em>已开"+a[d].open+'场</em></span><span class="fr"><em class="arrow'+(0==d?" trans":"")+'"></em></span></p><div class="jz_result"'+(0==c?"":'style="display:none"')+">");for(var e=0,f=a[d].list.length;e<f;e++)b.push('<div class="result_li clearfix"><p class="font12 gray"><span>'+a[d].list[e].leagueName+"</span><span>"+a[d].list[e].oid.toString().substr(1)+" "+a[d].list[e].match_time_q+"</span></p><p>"+a[d].list[e].host_name_q+'</p><p><span class="fontred">'+(a[d].list[e].scoreResult?a[d].list[e].scoreResult:"-:-")+'</span><span class="font12 gray">半全场：'+(a[d].list[e].bqcResult?a[d].list[e].bqcResult:"-:-")+"</span></p><p>"+a[d].list[e].guest_name_q+"</p></div>");c++,b.push("</div>")}this.lotteryObj.html(b.join(""))},liveScoreObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData(),this.getDateData()},liveScoreObj.init=function(){this.setDefConfig(),liveScoreObj.onloadExecution()};var numKaijiangObj=new PageController({name:"numKaijiang",tpl:"template/kaijiang/numKaijiang.html",pullDistance:220});numKaijiangObj.setDefConfig=function(){this.defLotteryType="dlt",this.nowLotteryType="dlt",this.allLotteryType=["ssq","dlt","jxk3","gx11x5","ftspf","spf14","d3","pl3","pl5"],this.allLotteryCnName={dlt:"大乐透",ssq:"双色球",d3:"福彩3D",jxk3:"江西快3",pl3:"排列三",pl5:"排列五",spf14:"胜负彩/任选九",gx11x5:"广西11选5",ftspf:"竞足"},this.lotteryClass={dlt:["redball","blueball"],ssq:["redball","blueball"],pl3:["redball","redball","redball"],d3:["redball","redball","redball"],pl5:["redball","redball","redball","redball","redball"],qxc:["redball","redball","redball","redball","redball","redball","redball"],spf14:["block","block","block","block","block","block","block","block","block","block","block","block","block","block"],lcbqc:[],scjq:[],tjsyy:["redball","redball","redball","redball","redball","redball","redball"],gd11x5:["redball","redball","redball","redball","redball","redball","redball"],gx11x5:["redball","redball","redball","redball","redball","redball","redball"],xj11x5:["redball","redball","redball","redball","redball","redball","redball"],sd11x5:["redball","redball","redball","redball","redball","redball","redball"],sd11x5:["redball","redball","redball","redball","redball","redball","redball"],ftspf:[],hn4j1:["redball","redball","redball","redball"],bsksf:[]},numKaijiangObj.temData=new Object,numKaijiangObj.temDetailed=new Object,numKaijiangObj.nowPage=0,numKaijiangObj.checkAjaxEnd=!0,numKaijiangObj.nowShowDetailed="",numKaijiangObj.oldshowDetailedObj="",numKaijiangObj.maxPage=new Object,numKaijiangObj.ajaxGetDataNum=20,numKaijiangObj.clientHeight=document.documentElement.clientHeight,numKaijiangObj.dateData="",window.onscroll=null},numKaijiangObj.createDomObj=function(){this.kjDivObj=$("#numKaijiang_kjDivObj"),this.kjTitleObj=$("#numKaijiang_kjTitleObj"),this.kjListObj=$("#numKaijiang_kjListObj"),this.backObj=$("#numKaijiang_backObj"),this.scrollObj=$("#numKaijiang_scrollObj"),this.detailedDivObj=$('<div class="kj_detail"></div>'),this.dateTipsObj=$("#numKaijiang_dateTipsObj"),this.showDateObj=$("#numKaijiang_showDateObj"),this.showSetObj=$("#numKaijiang_showSet")},numKaijiangObj.createEvent=function(){this.kjDivObj.unbind("tap").tap(function(a){numKaijiangObj.lotteryEvent(a)}),this.backObj.unbind("tap").tap(function(a){numKaijiangObj.goBack()}),this.showDateObj.tap(function(){numKaijiangObj.showDate($(this))}),this.showSetObj.tap(function(){numKaijiangObj.goSet()}),this.dateTipsObj.find("li").tap(function(){numKaijiangObj.updDate($(this))}),window.onscroll=function(){if(!numKaijiangObj.checkAjaxEnd)return!1;numKaijiangObj.updatePage()},$("#numKaijiang_droploadWrap").dropload({scrollArea:window,distance:200,loadUpFn:function(a){numKaijiangObj.pullLoad=a,numKaijiangObj.nowPage=0,numKaijiangObj.dateData="","ftspf"==numKaijiangObj.nowLotteryType?numKaijiangObj.getJCLotteryData():"bsksf"==numKaijiangObj.nowLotteryType?numKaijiangObj.getBSKLotteryData():numKaijiangObj.getLotteryData()}})},numKaijiangObj.goSet=function(){prizeNotifyObj.goBack=function(){prizeNotifyObj.destroy(),numKaijiangObj.show()},prizeNotifyObj.show("",function(){prizeNotifyObj.getData()})},numKaijiangObj.updDate=function(a){this.dateData=a.attr("data-v"),"bsksf"==this.nowLotteryType?this.getBSKLotteryData():this.getJCLotteryData(),this.dateTipsObj.hide(),this.showDateObj.removeClass("showObj"),this.removeBgLayer()},numKaijiangObj.updatePage=function(){if("ftspf"==this.nowLotteryType||"bsksf"==this.nowLotteryType)return!1;if(this.nowPage>=this.maxPage[this.nowLotteryType])return!1;var a=document.body.scrollTop,b=this.kjDivObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.nowPage+=1,this.getLotteryData())},numKaijiangObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"LI");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"upd":return this.updateType(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showMatch":return this.showMatch(c),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detailed":return this.showDetailed(c),!0}}var g=$.oto_checkEvent(a,"DIV");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"detailed":return this.showDetailed(c),!0}}},numKaijiangObj.removeBgLayer=function(){$("#numKaijiang_bgLayer").length&&$("#numKaijiang_bgLayer").remove()},numKaijiangObj.addBgLayer=function(a,b){0==$("#numKaijiang_bgLayer").length&&($("body").append('<div style="width:100%;height:100%;background:transparent;position:absolute;left:0;top:0;z-index:98" id="numKaijiang_bgLayer"></div>'),$("#numKaijiang_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#numKaijiang_bgLayer").tap(function(){b.removeClass("showObj"),a.hide(),$("#numKaijiang_bgLayer").remove(),$(b).find(".arrow").length>0&&$(b).find(".arrow").removeClass("trans")}))},numKaijiangObj.showDate=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),this.removeBgLayer(),this.dateTipsObj.hide()):(a.addClass("showObj"),this.dateTipsObj.show(),this.addBgLayer(this.dateTipsObj,a))},numKaijiangObj.showMatch=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),a.next().hide(),a.children("span.fr").find("em").get(0).className="arrow"):(a.addClass("showObj"),a.next().show(),a.children("span.fr").find("em").get(0).className="arrowup")},numKaijiangObj.showDetailed=function(a){var b=this,c=a.parents(".kjli"),d=a.attr("data-v");if(this.nowShowDetailed!=d&&this.oldshowDetailedObj&&(this.oldshowDetailedObj.find("em").get(0).className="arrow"),this.nowShowDetailed=d,this.oldshowDetailedObj=c,this.detailedDivObj.html(""),this.detailedDivObj.hide(),this.detailedDivObj.insertAfter(c),c.find("em").hasClass("arrowup"))return c.find("em").get(0).className="arrow",this.detailedDivObj.hide(),!1;if(c.find("em").get(0).className="arrowup",numKaijiangObj.temDetailed[numKaijiangObj.nowLotteryType]&&numKaijiangObj.temDetailed[numKaijiangObj.nowLotteryType][d])return this.createDetailed(),!1;var e={lottery_no:d,lottery_type:this.nowLotteryType},f={para:Global.encrypt(e)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Charts.award",data:f,type:"post",dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),Number(a.info.lotteryNum)!==Number(d))return!1;b.temDetailed[b.nowLotteryType]||(b.temDetailed[b.nowLotteryType]=new Object),b.temDetailed[b.nowLotteryType][d]=a.info,b.createDetailed()}}})},numKaijiangObj.createDetailed=function(){switch(this.nowLotteryType){case"ssq":case"dlt":numKaijiangObj.setDltDetailed();break;case"d3":case"pl3":numKaijiangObj.setpl3Detailed();break;case"pl5":numKaijiangObj.setpl5Detailed();break;case"qxc":numKaijiangObj.setQxcDetailed();break;case"spf14":numKaijiangObj.setSPF14Detailed();break;case"hn4j1":numKaijiangObj.setHn4j1Detailed()}},numKaijiangObj.setHn4j1Detailed=function(){for(var a=this.temDetailed[this.nowLotteryType][this.nowShowDetailed],b=['<p class="clearfix"><span class="w50 fontred"><em>'+a.salesVal+'<i class="font12 gray">本期销量</i></em></span><span class="w50 fontred"><em>'+a.bonusVal+'<i class="font12 gray">奖池滚存</i></em></span></p><p class="font12 gray"><span class="w33">奖级</span><span class="w33">中奖注数</span><span class="w33">单注奖金</span></p>'],c=0,d=a.list.length;c<d;c++)b.push('<p><span class="w33">'+a.list[c].level+'</span><span class="w33">'+a.list[c].num+'</span><span class="w33 fontred">'+a.list[c].money+"</span></p>");this.detailedDivObj.html(b.join("")),this.detailedDivObj.show()},numKaijiangObj.setDltDetailed=function(){for(var a=this.temDetailed[this.nowLotteryType][this.nowShowDetailed],b=['<p class="clearfix"><span class="w50 fontred"><em>'+a.salesVal+'<i class="font12 gray">本期销量</i></em></span><span class="w50 fontred"><em>'+a.bonusVal+'<i class="font12 gray">奖池滚存</i></em></span></p><p class="font12 gray"><span class="w33">奖级</span><span class="w33">中奖注数</span><span class="w33">单注奖金</span></p>'],c=0,d=a.list.length;c<d;c++)b.push('<p><span class="w33">'+a.list[c].level+'</span><span class="w33">'+a.list[c].num+'</span><span class="w33 fontred">'+a.list[c].money+"</span></p>");this.detailedDivObj.html(b.join("")),this.detailedDivObj.show()},numKaijiangObj.setpl3Detailed=function(){for(var a=this.temDetailed[this.nowLotteryType][this.nowShowDetailed],b=['<p class="clearfix"><span class="w100 fontred"><em>'+a.salesVal+'<i class="font12 gray">本期销量</i></em></span></p><p class="font12 gray"><span class="w33">奖级</span><span class="w33">中奖注数</span><span class="w33">单注奖金</span></p>'],c=0,d=a.list.length;c<d;c++)b.push('<p><span class="w33">'+a.list[c].level+'</span><span class="w33">'+a.list[c].num+'</span><span class="w33 fontred">'+a.list[c].money+"</span></p>");this.detailedDivObj.html(b.join("")),this.detailedDivObj.show()},numKaijiangObj.setpl5Detailed=numKaijiangObj.setpl3Detailed,numKaijiangObj.setQxcDetailed=numKaijiangObj.setDltDetailed,numKaijiangObj.setSPF14Detailed=function(){for(var a=this.temDetailed[this.nowLotteryType][this.nowShowDetailed],b=['<p class="clearfix"><span class="w50 fontred"><em><i class="fontred">'+a.salesVal+'</i><i class="font12 gray">本期销量</i></em></span><span class="w50"><em><i class="fontred">'+a.bonusVal+'</i><i class="font12 gray">奖池滚存</i></em></span></p><p class="font12 gray"><span class="w33">奖级</span><span class="w33">中奖注数</span><span class="w33">单注奖金</span></p>'],c=0,d=a.list.length;c<d;c++)b.push('<p><span class="w33">'+a.list[c].level+'</span><span class="w33">'+a.list[c].num+'</span><span class="w33 fontred">'+a.list[c].money+"</span></p>");var e=[],f=[];if(a.schdulelist){for(var c=0,d=a.schdulelist.length;c<d;c++)e.push('<span class="top">'),a.schdulelist[c].betResult&&-1!=a.schdulelist[c].betResult&&e.push("<em>"+a.schdulelist[c].betResult+"</em>"),-1!=a.schdulelist[c].homeGoals&&e.push('<em class="font12">'+a.schdulelist[c].homeGoals+":"+a.schdulelist[c].awayGoals+"</em>"),e.push("</span>");for(var c=0,d=a.schdulelist.length;c<d;c++)f.push('<span class="vs"><em>'+a.schdulelist[c].homeName.substr(0,4)+"</em><i>·</i><em>"+a.schdulelist[c].awayName.substr(0,4)+"</em></span>")}b.push('<div class="sfc_kj"><div class="sfc_li clearfix">'+e.join("")+"</div>"),b.push('<div class="sfc_li clearfix">'+f.join("")+"</div></div>"),this.detailedDivObj.html(b.join("")),this.detailedDivObj.show()},numKaijiangObj.updateType=function(a){a.siblings().removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.nowLotteryType=b,this.nowPage=0,this.kjListObj.html('<p class="loading_1"></p>'),"ftspf"==b?this.getJCLotteryData():"bsksf"==b?this.getBSKLotteryData():this.getLotteryData(),this.titleScrollVal(),this.checkDateShow()},numKaijiangObj.titleScrollVal=function(){for(var a=0,b=document.documentElement.clientWidth,c=this.scrollObj.children("ul").width(),d=this.scrollObj.find("li"),e=0,f=d.length;e<f;e++){var g=d.eq(e).attr("data-v");if(a+=d.eq(e).width(),g==this.nowLotteryType)break}a>b/2&&this.myScroll?c-a<b/2?this.myScroll.scrollTo(-1*(c-b),0,800,!1):this.myScroll.scrollTo(-1*(a-b/2),0,800,!1):this.myScroll.scrollTo(0,0,800,!1)},numKaijiangObj.getLotteryData=function(){var a=this;if(!this.checkAjaxEnd)return!1;var b={lottery_type:this.nowLotteryType,page:this.nowPage,size:this.ajaxGetDataNum};this.checkAjaxEnd=!1;var c={para:Global.encrypt(b)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Charts.trend",data:c,type:"post",dataType:"json",success:function(b){numKaijiangObj.pullLoad&&numKaijiangObj.pullLoad.resetload(),"0000"==b.code?(b.info=$.parseJSON(Global.crypt(b.info)),a.temData[a.nowLotteryType]||(a.temData[a.nowLotteryType]=new Array),a.temData[a.nowLotteryType][a.nowPage]=b.info.list,a.setLotteryHtml(),(!b.info.list||b.info.list.length<a.ajaxGetDataNum)&&(a.maxPage[a.nowLotteryType]=a.nowPage)):$.alertMsg(b.code_str),a.checkAjaxEnd=!0,$("#numKaijiang .loading_1").remove()},error:function(){a.checkAjaxEnd=!0,$("#numKaijiang .loading_1").remove()}})},numKaijiangObj.getJCLotteryData=function(){var a={lotteryNo:this.dateData,lotteryType:this.nowLotteryType.toUpperCase()},b={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Charts.getFtTrend",data:b,dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.str),!1;a.info=$.parseJSON(Global.crypt(a.info)),numKaijiangObj.createLotteryDom(a.info.matchList),numKaijiangObj.pullLoad&&numKaijiangObj.pullLoad.resetload(),$("#numKaijiang .loading_1").remove()}}),this.getDateData()},numKaijiangObj.getBSKLotteryData=function(){var a={lotteryNo:this.dateData,lotteryType:this.nowLotteryType.toUpperCase()},b={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=lottery.charts.getFtTrend",data:b,
dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.str),!1;a.info=$.parseJSON(Global.crypt(a.info)),numKaijiangObj.createBSKLotteryDom(a.info.matchList),numKaijiangObj.pullLoad&&numKaijiangObj.pullLoad.resetload(),$("#numKaijiang .loading_1").remove()}}),this.getDateData()},numKaijiangObj.getDateData=function(){var a={lotteryType:this.nowLotteryType.toUpperCase()},b={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=lottery.prize.ftTrend",data:b,dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),numKaijiangObj.formatDateHtml(a.info)}})},numKaijiangObj.formatDateHtml=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];b+='<li data-t="updDate" data-v="'+d.LotteryNo+'"><a href="javascript:void(0);">'+d.LotteryNo+"</a></li>"}this.dateTipsObj.find("ul").html(b),this.dateTipsObj.find("li").unbind("tap").tap(function(){numKaijiangObj.updDate($(this))})},numKaijiangObj.createBSKLotteryDom=function(a){var b=[],c=0;for(var d in a){b.push('<p class="jzli'+(0==c?" showObj":"")+'" data-t="showMatch"><span class="gray"><em class="mr10">'+d+" "+a[d].week+'</em><em class="mr10">'+a[d].all+"场比赛</em><em>已开"+a[d].open+'场</em></span><span class="fr"><em class="arrow'+(0==c?" trans":"")+'"></em></span></p><div class="jz_result"'+(0==c?"":'style="display:none"')+">");for(var e=0,f=a[d].list.length;e<f;e++){var g="";g='</span><span class="font12 gray kj_lq">总分'+(a[d].list[e].totalResult?a[d].list[e].totalResult:"-")+" 分差"+(a[d].list[e].diffResult?a[d].list[e].diffResult:"-"),b.push('<div class="result_li clearfix"><p class="font12 gray"><span>'+a[d].list[e].leagueName+"</span><span>"+a[d].list[e].oid.toString().substr(1)+" "+a[d].list[e].match_time_q+"</span></p><p>"+a[d].list[e].host_name_q+'</p><p><span class="fontred">'+(a[d].list[e].scoreResult?a[d].list[e].scoreResult:"--:--")+g+"</span></p><p>"+a[d].list[e].guest_name_q+"</p></div>")}c++,b.push("</div>")}b.length>0?this.kjListObj.html(b.join("")):this.kjListObj.html('<p class="center" style="margin-top:20px">暂无数据</p>')},numKaijiangObj.createLotteryDom=function(a){var b=[],c=0;for(var d in a){b.push('<p class="jzli'+(0==c?" showObj":"")+'" data-t="showMatch"><span class="gray"><em class="mr10">'+d+" "+a[d].week+'</em><em class="mr10">'+a[d].all+"场比赛</em><em>已开"+a[d].open+'场</em></span><span class="fr"><em class="'+(0==c?" arrowup":"arrow")+'"></em></span></p><div class="jz_result"'+(0==c?"":'style="display:none"')+">");for(var e=0,f=a[d].list.length;e<f;e++)b.push('<div class="result_li kjli clearfix"><p class="font12 gray"><span>'+a[d].list[e].leagueName+"</span><span>"+a[d].list[e].oid.toString().substr(1)+" "+a[d].list[e].match_time_q+"</span></p><p>"+a[d].list[e].host_name_q+'</p><p><span class="fontred">'+(a[d].list[e].scoreResult?a[d].list[e].scoreResult:-1==a[d].list[e].result?"延期":"--:--")+"</span>"+(-1!=a[d].list[e].result?'<span class="font12 gray">半全场：'+(a[d].list[e].bqcResult?a[d].list[e].bqcResult:"--:--")+"</span>":"")+"</p><p>"+a[d].list[e].guest_name_q+"</p></div>");c++,b.push("</div>")}b.length>0&&this.kjListObj.html(b.join(""))},numKaijiangObj.checkTemData=function(){return!(!this.temData[this.nowLotteryType]||!this.temData[this.nowLotteryType][this.nowPage])&&(this.setLotteryHtml(),!0)},numKaijiangObj.setLotteryHtml=function(){switch(this.nowLotteryType){case"dlt":case"ssq":numKaijiangObj.setDltLottery();break;case"gxk3":numKaijiangObj.setK3Lottery("gxk3");break;case"jxk3":numKaijiangObj.setK3Lottery("jxk3");break;case"pl3":case"d3":numKaijiangObj.setpl3Lottery();break;case"pl5":numKaijiangObj.setpl5Lottery();break;case"qxc":numKaijiangObj.setQxcLottery();break;case"spf14":numKaijiangObj.setSPF14Lottery();break;case"gd11x5":numKaijiangObj.setFastLottery("gd11x5");break;case"gx11x5":numKaijiangObj.setFastLottery("gx11x5");break;case"tjsyy":numKaijiangObj.setFastLottery("tjsyy");break;case"hn4j1":numKaijiangObj.setHn4j1Lottery()}},numKaijiangObj.createBallHtml=function(a){for(var b=a.split("|"),c=[],d=0,e=b.length;d<e;d++){var f=b[d].split(","),g=this.lotteryClass[this.nowLotteryType][d];$.each(f,function(a){f[a]='<span class="ball '+g+'">'+f[a]+"</span>"}),c.push(f.join(""))}return c.join("")},numKaijiangObj.createLotteryHtml=function(a){for(var b=a.split(","),c=[],d=0,e=b.length;d<e;d++){var f=this.lotteryClass[this.nowLotteryType][d];c.push('<span class="'+f+'">'+b[d]+"</span>")}return c.join("")},numKaijiangObj.setK3Lottery=function(){var a=this.temData[this.nowLotteryType][this.nowPage],b="";if(!a||!a.length)return b.join("");for(var c={"三不同":"fontblue","三同号":"fontred","二不同":"fontaqua","二同号":"fontorange","三连号":"fontgold"},d=0,e=a.length;d<e;d++){var f=a[d];b+='<div class="kjli"><p class="mb15 clearfix"><span class="fl '+(0==d&&0==this.nowPage?"fontblue":"")+'">第'+f.lotteryNum+'期</span><span class="fr gray font12">'+f.time+'</span></p><div class="clearfix pl3"><p class="w50 clearfix">';for(var g=f.lotteryResult.split(","),h=0;h<g.length;h++)b+='<span class="ball redball">'+g[h]+"</span>";b+='</p><p class="w25">'+f.sum+'</p><p class="w25 '+(c[f.type]?c[f.type]:"")+'">'+f.type+'</p></div><span class="arrowbox"></span></div>'}this.kjListObj.append(b)},numKaijiangObj.setHn4j1Lottery=function(){var a=this.temData[this.nowLotteryType][this.nowPage],b=[];if(!a||!a.length)return b.join("");for(var c=0,d=a.length;c<d;c++)b.push('<div class="kjli" ><p class="mb15 clearfix"><span class="fl '+(0==c&&0==this.nowPage?"fontblue":"")+'">第'+a[c].lotteryNum+'期</span><span class="fr gray font12">'+a[c].time+'</span></p><div class="clearfix" data-t="detailed" data-v="'+a[c].lotteryNum+'"><p class="clearfix" >'+this.createBallHtml(a[c].lotteryResult)+'</p></div><span class="arrowbox" data-t="detailed" data-v="'+a[c].lotteryNum+'"><em class="arrow"></em></span></div>');this.kjListObj.append(b.join(""))},numKaijiangObj.setDltLottery=function(){var a=this.temData[this.nowLotteryType][this.nowPage],b=[];if(!a||!a.length)return b.join("");for(var c=0,d=a.length;c<d;c++)b.push('<div class="kjli" ><p class="mb15 clearfix"><span class="fl '+(0==c&&0==this.nowPage?"fontblue":"")+'">第'+a[c].lotteryNum+'期</span><span class="fr gray font12">'+a[c].time+'</span></p><div class="clearfix" data-t="detailed" data-v="'+a[c].lotteryNum+'"><p class="clearfix">'+this.createBallHtml(a[c].lotteryResult)+'</p></div><span class="arrowbox" data-t="detailed" data-v="'+a[c].lotteryNum+'"><em class="arrow"></em></span></div>');0==this.nowPage?this.kjListObj.html(b.join("")):this.kjListObj.append(b.join(""))},numKaijiangObj.setpl3Lottery=function(){var a=this.temData[this.nowLotteryType][this.nowPage],b=[];if(!a||!a.length)return b.join("");for(var c=0,d=a.length;c<d;c++)b.push('<div class="kjli" ><p class="mb15 clearfix"><span class="fl '+(0==c&&0==this.nowPage?"fontblue":"")+'">第'+a[c].lotteryNum+'期</span><span class="fr gray font12">'+a[c].time+'</span></p><div class="clearfix pl3" data-t="detailed" data-v="'+a[c].lotteryNum+'"><p class="w50 clearfix">'+this.createBallHtml(a[c].lotteryResult)+'</p><p class="w25">和值'+a[c].sum+'</p><p class="w25'+("豹子"==a[c].type?" fontred":"组三"==a[c].type?" fontblue":"")+'">'+a[c].type+'</p></div><span data-t="detailed" data-v="'+a[c].lotteryNum+'" class="arrowbox"><em class="arrow"></em></span></div>');0==this.nowPage?this.kjListObj.html(b.join("")):this.kjListObj.append(b.join(""))},numKaijiangObj.setpl5Lottery=numKaijiangObj.setDltLottery,numKaijiangObj.setQxcLottery=numKaijiangObj.setDltLottery,numKaijiangObj.setFastLottery=function(){var a=this.temData[this.nowLotteryType][this.nowPage],b=[];if(!a||!a.length)return b.join("");for(var c=0,d=a.length;c<d;c++)b.push('<div class="kjli"><p class="mb15 clearfix"><span class="fl '+(0==c&&0==this.nowPage?"fontblue":"")+'">第'+a[c].lotteryNum+'期</span><span class="fr gray font12">'+a[c].time+'</span></p><div class="clearfix"><p class="clearfix">'+this.createBallHtml(a[c].lotteryResult)+"</p></div></div>");0==this.nowPage?this.kjListObj.html(b.join("")):this.kjListObj.append(b.join(""))},numKaijiangObj.setSPF14Lottery=function(){var a=this.temData[this.nowLotteryType][this.nowPage],b=[];if(!a||!a.length)return b.join("");for(var c=0,d=a.length;c<d;c++)b.push('<div class="kjli"><p class="mb15 clearfix"><span class="fl '+(0==c&&0==this.nowPage?"fontblue":"")+'">第'+a[c].lotteryNum+'期</span><span class="fr gray font12">'+a[c].time+'</span></p><div class="clearfix wid1"><p class="clearfix">'+this.createLotteryHtml(a[c].lotteryResult)+'</p></div><span class="arrowbox" data-t="detailed" data-v="'+a[c].lotteryNum+'" ><em class="arrow"></em></span></div>');0==this.nowPage?this.kjListObj.html(b.join("")):this.kjListObj.append(b.join(""))},numKaijiangObj.createTitleDom=function(){for(var a=[],b=0,c=this.allLotteryType.length;b<c;b++)a.push('<li style="width:100px;" data-v="'+this.allLotteryType[b]+'" data-t="upd"'+(this.allLotteryType[b]==this.defLotteryType?' class="on"':"")+"><span>"+this.allLotteryCnName[this.allLotteryType[b]]+"</span></li>");this.kjTitleObj.html(a.join(""))},numKaijiangObj.checkDateShow=function(){"ftspf"==this.nowLotteryType||"bsksf"==this.nowLotteryType?this.showDateObj.show():this.showDateObj.hide()},numKaijiangObj.titleScroll=function(){this.myScroll=new iScroll(this.scrollObj[0],{hScrollbar:!1,hScroll:!0,vScroll:!1})},numKaijiangObj.initIScroll=function(){numKaijiangObj.titleScroll(),setTimeout(function(){numKaijiangObj.myScroll.refresh(),numKaijiangObj.titleScrollVal()},300)},numKaijiangObj.onloadExecution=function(){numKaijiangObj.createDomObj(),numKaijiangObj.createEvent(),numKaijiangObj.createTitleDom(),numKaijiangObj.initIScroll(),numKaijiangObj.checkDateShow()},numKaijiangObj.init=function(a){this.setDefConfig(),a&&(this.nowLotteryType=a,this.defLotteryType=a),numKaijiangObj.onloadExecution(),"ftspf"==a?this.getJCLotteryData():"bsksf"==a?this.getBSKLotteryData():this.getLotteryData()},numKaijiangObj.show=function(a,b,c,d){var e=Global.getActivePage();0==$("#numKaijiang").length||a?$.ajax({url:"template/kaijiang/numKaijiang.html",data:"t="+(new Date).getTime(),dataType:"text",success:function(a){var d=/<body[^>]*>([\s\S]+?)<\/body>/i,f=d.exec(a);f&&(f=f[1]);var g='<div class="page" style="display:none" id="numKaijiang">'+f+"</div>";$(document.body).append(g),Global.pageSwitch($("#numKaijiang"),$(e)),numKaijiangObj.init(c),b&&b()}}):Global.pageSwitch($("#numKaijiang"),$(e))},numKaijiangObj.dirShow=function(a){var b=this,c=a.type?a.type.toLowerCase():"dlt";c="jczq"==c?"ftspf":c,b.show("reload",null,c,a.from)};var pl3TimeObj=new Object;pl3TimeObj.createDom=function(){this.qhObj=$("#pl3Trend_qhObj"),this.subObj=$("#pl3Trend_subObj")},pl3TimeObj.getClientTime=function(){return(new date).getTime()},pl3TimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},pl3TimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+"?m=Ajax.stat.getscheduletime",data:"lotteryType=PL3&v="+(new Date).getTime(),type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),pl3TimeObj.getTimeObj=setTimeout(function(){pl3TimeObj.getLotteryData()},pl3TimeObj.pl3TimeObjNoInterval),!1):"Y"==a.info.stop?(pl3TimeObj.stop=!0,pl3TimeObj.qhObj.html("每天09:00-23:50销售"),pl3TimeObj.setData(a.info),pl3TimeObj.resetSetTime(),pl3TimeObj.subObj.attr("data-stop","1"),!1):(pl3TimeObj.subObj.removeAttr("data-stop"),pl3TimeObj.stop=!1,pl3TimeObj.getTimeObj&&(clearTimeout(pl3TimeObj.getTimeObj),pl3TimeObj.getTimeObj=""),void(pl3TimeObj.lotteryNoChange&&a.info.lotteryNo!=pl3TimeObj.lotteryNo?(pl3TimeObj.setData(a.info),pl3TimeObj.resetSetTime(),pl3TimeObj.lotteryNoChange(a.info)):(pl3TimeObj.setData(a.info),pl3TimeObj.resetSetTime())))}})},pl3TimeObj.lotteryNoChange=function(a){pl3TrendObj.postData.lotteryNoVal=a.lotteryNo,$("#pl3Confirm").length>0&&pl3ConfirmObj.updBetTipsObj&&pl3ConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},pl3TimeObj.getCG=function(a,b){a=a||this.pl3TimeObjCG,pl3TimeObj.getCGObj=setTimeout(function(){var a=pl3TrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.pl3.getChartData",data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),pl3TimeObj.getCG(pl3TimeObj.pl3TimeObjCGInterval,b),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.list&&a.info.list.length?(pl3TimeObj.getCGObj&&(clearTimeout(pl3TimeObj.getCGObj),pl3TimeObj.getCGObj=""),void pl3TimeObj.createNewCG(a.info)):(pl3TimeObj.getCG(pl3TimeObj.pl3TimeObjCGInterval,b),!1))}})},a)},pl3TimeObj.createNewCG=function(a){pl3TrendObj.temTrendData.list.push(a.list[0]),pl3TrendObj.temTrendData.num_max_miss=a.num_max_miss,pl3TrendObj.temTrendData.num_avg_miss=a.num_avg_miss,pl3TrendObj.temTrendData.num_pre_miss=a.num_pre_miss,pl3TrendObj.temTrendData.num_cur_miss=a.num_cur_miss,pl3TrendObj.temTrendData.num_con_miss=a.num_con_miss,pl3TrendObj.temTrendData.num_hap_pro=a.num_hap_pro,pl3TrendObj.temTrendData.num_all=a.num_all,"LR"==pl3TrendObj.postData.trendName?pl3TrendObj.ajaxGetLRData():pl3TrendObj.createListDom(a.list)},pl3TimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},pl3TimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},pl3TimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){pl3TimeObj.nowTime+=1e3},1e3)},pl3TimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!pl3TimeObj.syTime)return!1;Math.abs(a-pl3TimeObj.nowTime)>pl3TimeObj.errorTime&&pl3TimeObj.getLotteryData()},this.correctInterval)},pl3TimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return pl3TimeObj.syTimeObj&&clearTimeout(pl3TimeObj.syTimeObj),pl3TimeObj.syTimeObj="",pl3TimeObj.getCG(pl3TimeObj.pl3TimeObjCG,"append"),pl3TimeObj.setLotteryNoTipsHtml(),pl3TimeObj.getLotteryData(),!1;if(!pl3TimeObj.stop){var b=0;a>3600&&(b=Math.floor(a/3600));var c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=pl3TimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+(b?b+":":"")+c+":"+d+"</span>";pl3TimeObj.qhObj.html(e)}a--},1e3)},pl3TimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},pl3TimeObj.setDefConfig=function(){pl3TimeObj.lotteryNo="",pl3TimeObj.nowTime=(new Date).getTime(),pl3TimeObj.syTime=0,pl3TimeObj.pl3TimeObjCG=36e4,pl3TimeObj.pl3TimeObjCGInterval=6e4,pl3TimeObj.pl3TimeObjNoInterval=6e4,pl3TimeObj.correctInterval=1e4,pl3TimeObj.errorTime=1e5,pl3TimeObj.stop=!1,pl3TimeObj.tips=!0,this.correctTimeObj&&clearInterval(pl3TimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(pl3TimeObj.nowTimeObj),this.syTimeObj&&clearInterval(pl3TimeObj.syTimeObj),this.getTimeObj&&clearTimeout(pl3TimeObj.getTimeObj),this.getCGObj&&clearTimeout(pl3TimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var pl3TrendObj=new PageController({name:"pl3Trend",tpl:"template/kaijiang/pl3Trend.html"});pl3TrendObj.setDefConfig=function(){pl3TrendObj.titleWidth=.175,pl3TrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),pl3TrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),pl3TrendObj.conWidth=Number((Number(pl3TrendObj.clientWidth)*(1-pl3TrendObj.titleWidth)).toFixed(2)),pl3TrendObj.conHeight=Number(pl3TrendObj.clientHeight-101-78),pl3TrendObj.maxPage=0,pl3TrendObj.page=0,pl3TrendObj.borderWidth=1,pl3TrendObj.titleIscroll="",pl3TrendObj.listTitleIscroll="",pl3TrendObj.listIscroll="",pl3TrendObj.temTrendData="",pl3TrendObj.temLRTrendData="",pl3TrendObj.temSortDom="",pl3TrendObj.selectBetData=new Array,pl3TrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:"pl3",trendType:"IP",trendName:"HM",lotteryNoVal:""}},pl3TrendObj.betNumData={IP:[1,1,1],UP3:[2],UP6:[3],IH:[1],UH3:[1],UH6:[1]},pl3TrendObj.betData={IP:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9")),UP3:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),UP6:new Array(new Array("0","1","2","3","4","5","6","7","8","9")),IH:new Array(new Array("0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27")),UH3:new Array(new Array("0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27")),UH6:new Array(new Array("0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27"))},pl3TrendObj.betTitle={IP:["第一位","第二位","第三位"],UP3:["组三"],UP6:["组六"],IH:["直选和值","直选和值","直选和值"],UH3:["组三和值","组三和值","组三和值"],UH6:["组六和值","组六和值","组六和值"]},pl3TrendObj.HMTitleData=pl3TrendObj.betData,pl3TrendObj.YLTitleData={IP:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出")),UP3:new Array(new Array("最大","上次","当期","欲出")),UP6:new Array(new Array("最大","上次","当期","欲出")),IH:new Array(new Array("最大","上次","当期","欲出")),UH3:new Array(new Array("最大","上次","当期","欲出")),UH6:new Array(new Array("最大","上次","当期","欲出"))},pl3TrendObj.LRTitleData={IP:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏")),UP3:new Array(new Array("30期","50期","100期","遗漏")),UP6:new Array(new Array("30期","50期","100期","遗漏")),IH:new Array(new Array("30期","50期","100期","遗漏")),UH3:new Array(new Array("30期","50期","100期","遗漏")),UH6:new Array(new Array("30期","50期","100期","遗漏"))},pl3TrendObj.YLSortKey={IP:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UP3:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UP6:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),IH:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UH3:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro")),UH6:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"))},pl3TrendObj.LRSortKey={IP:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss")),UP3:new Array(new Array("30","50","100","miss")),UP6:new Array(new Array("30","50","100","miss")),IH:new Array(new Array("30","50","100","miss")),UH3:new Array(new Array("30","50","100","miss")),UH6:new Array(new Array("30","50","100","miss"))},pl3TrendObj.HMTitleClass={IP:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3"),UP3:new Array("trend_num fontred"),UP6:new Array("trend_num fontred"),IH:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3"),UH3:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3"),UH6:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3")},pl3TrendObj.YLTitleClass={IP:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3"),UP3:new Array("trend_num trend_yl"),UP6:new Array("trend_num trend_yl"),IH:new Array("trend_num trend_yl"),UH3:new Array("trend_num trend_yl"),UH6:new Array("trend_num trend_yl")},pl3TrendObj.LRTitleClass=pl3TrendObj.YLTitleClass,pl3TrendObj.HMTitleFirst={IP:["第一位>","第二位>","第三位>"],UP3:["期号"],UP6:["期号"],IH:["期号","期号","期号"],UH3:["期号","期号","期号"],UH6:["期号","期号","期号"]},pl3TrendObj.YLTitleFirst={IP:["第一位<i>↑</i>","第二位<i>↑</i>","第三位<i>↑</i>"],UP3:["选号<i>↑</i>"],UP6:["选号<i>↑</i>"],IH:["选号<i>↑</i>"],UH3:["选号<i>↑</i>"],UH6:["选号<i>↑</i>"]},pl3TrendObj.LRTitleFirst=pl3TrendObj.YLTitleFirst,pl3TrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],pl3TrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],pl3TrendObj.createDom=function(){this.lotteryObj=$("#pl3Trend_lotteryObj"),this.playTitleObj=$("#pl3Trend_playTitleObj"),this.updataPlayObj=$("#pl3Trend_updataPlayObj"),this.setObj=$("#pl3Trend_setObj"),this.titleFirstObj=$("#pl3Trend_titleFirstObj"),this.titleConObj=$("#pl3Trend_titleConObj"),this.listFirstObj=$("#pl3Trend_listFirstObj"),this.listConObj=$("#pl3Trend_listConObj"),this.betFirstObj=$("#pl3Trend_betFirstObj"),this.betConObj=$("#pl3Trend_betConObj"),this.explainObj=$("#pl3Trend_explainObj"),this.betObj=$("#pl3Trend_betObj"),this.selectObj=$("#pl3Trend_selectObj"),this.betMoneyObj=$("#pl3Trend_betMoneyObj"),this.qhObj=$("#pl3Trend_qhObj"),this.subObj=$("#pl3Trend_subObj")},pl3TrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){pl3TrendObj.lotteryEvent(a)})},pl3TrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return pl3TrendObj.goBack(),!0;case"updatelottery":return pl3TrendObj.updatelottery(c.attr("data-v"),c.attr("data-cn")),!0;case"subData":return pl3TrendObj.subData(c),!0;case"delAll":return pl3TrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return pl3TrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("pl3Trend_setObj"!=c[0].id)return!1;pl3TrendObj.hideSet()}},pl3TrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.hide(),a.attr("data-s",0),this.lotteryObj.find(".trend_tab").css({position:"fixed"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap").addClass("centerWrap_1")):(this.updataPlayObj.show(),a.attr("data-s",1),this.lotteryObj.find(".trend_tab").css({position:"static"}),this.lotteryObj.find("section.topfix").removeClass("centerWrap_1").addClass("centerWrap"));var b=document.body.scrollHeight,c=$('<div id="pl3Trend_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("#pl3Trend").append(c),c.unbind("tap").tap(function(){pl3TrendObj.updataPlayObj.hide(),pl3TrendObj.playTitleObj.attr("data-s","0"),c.remove()})},pl3TrendObj.ajaxGetData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.pl3.getChartData",data:a,type:"post",dataType:"json",success:function(a){return"0000"!=a.code?($.alertMsg(a.code_str),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.trendType==pl3TrendObj.postData.trendType&&(pl3TrendObj.temTrendData=a.info,pl3TrendObj.createPageData(),pl3TrendObj.createDataDom(),void 0))}})},pl3TrendObj.createFormatData=function(a){if("IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType)return a;var b=new Array;return b.push(a[0].slice(0,9)),b.push(a[0].slice(9,18)),b.push(a[0].slice(18,28)),b},pl3TrendObj.createFormatI=function(a){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?a:0},pl3TrendObj.createFormatKey=function(a,b){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?b:9*a+b},pl3TrendObj.createFormatPage=function(a,b){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?3:"bet"==b?3:1},pl3TrendObj.createFormatNowPage=function(a){return"IH"!=this.postData.trendType&&"UH3"!=this.postData.trendType&&"UH6"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?a:0},pl3TrendObj.createFormatBet=function(a,b){if("UH3"==this.postData.trendType){if(a<1)return"";if(a>26)return""}if("UH6"==this.postData.trendType){if(a<3)return"";if(a>24)return""}return b},pl3TrendObj.createFormatClass=function(a){if("UH3"==this.postData.trendType){if(a<1)return"class='disabled'";if(a>26)return"class='disabled'"}if("UH6"==this.postData.trendType){if(a<3)return"class='disabled'";if(a>24)return"class='disabled'"}return""},pl3TrendObj.ajaxGetLRData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.pl3.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),pl3TrendObj.temLRTrendData=a.info,pl3TrendObj.createPageData(),pl3TrendObj.createDataDom()}})},pl3TrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},pl3TrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},pl3TrendObj.subSet=function(){for(var a=$("#pl3Trend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},pl3TrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},pl3TrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight()},pl3TrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this.createFormatData(this[a+"TitleData"][b]),d=this[a+"TitleFirst"][b][this.createFormatNowPage(this.page)],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+" trend_w"+c[g].length+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↑</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},pl3TrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(pl3TrendObj.temTrendData);break;case"YL":this.createYLLIst(pl3TrendObj.temTrendData);break;case"LR":this.createLRLIst(pl3TrendObj.temLRTrendData)}this.createListTitleIscroll(),this.createListIscroll()},pl3TrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=this.createFormatData(f[g].num_miss),j=0,k=i.length;j<k;j++){e.push('<div class="trend_num trend_w'+i[j].length+'" style="width:'+this.conWidth+'px;">');for(var l=0,m=i[j].length;l<m;l++){var n=i[j][l];e.push("<span>"+(2==Number(n.hit)?'<em class="topNum_1">'+n.hit+"</em>":"")+"<em"+(0===Number(n.miss)?' class=" on"':"")+">"+(0===Number(n.miss)?n.hao:b?n.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){var o=this.createHMStatistics(a);d=d.concat(o.titleHtml),e=e.concat(o.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},pl3TrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_all))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_avg_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_max_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_con_miss))),{titleHtml:b,conHtml:c}},pl3TrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num trend_w'+a[c].length+'" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},pl3TrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},pl3TrendObj.createLRLIst=function(data){
var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},pl3TrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},pl3TrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.createFormatData(this.betData[a]),c=this.betTitle[a][this.createFormatNowPage(this.page)],d=new Array;d.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage,"bet")>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage,"bet")).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage,"bet")).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){d.push('<div class="trend_num fontred trend_w'+b[e].length+'" style="width:'+this.conWidth+'px;">');for(var g=0,h=b[e].length;g<h;g++)d.push('<span data-t="'+this.createFormatBet(this.createFormatKey(e,g),"bet")+'" data-i="'+this.createFormatI(e)+'" data-k="'+this.createFormatKey(e,g)+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][g]?"class='on'":this.createFormatClass(this.createFormatKey(e,g)))+">"+b[e][g]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},pl3TrendObj.createListHeight=function(){var a=this.betObj.height(),b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},pl3TrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){pl3TrendObj.listIscroll.scrollTo(pl3TrendObj.listIscroll.x,this.y)},onMomentum:function(){pl3TrendObj.listIscroll.scrollTo(pl3TrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},pl3TrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){pl3TrendObj.listIscroll.scrollTo(this.x,pl3TrendObj.listIscroll.y),pl3TrendObj.betIscroll.scrollTo(this.x,pl3TrendObj.betIscroll.y),pl3TrendObj.updatePage(this.x)},onMomentum:function(){pl3TrendObj.listIscroll.scrollTo(this.x,pl3TrendObj.listIscroll.y,this.duration),pl3TrendObj.betIscroll.scrollTo(this.x,pl3TrendObj.betIscroll.y,this.duration),pl3TrendObj.updatePage(this.x)}})},pl3TrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){pl3TrendObj.titleIscroll.scrollTo(this.x,pl3TrendObj.titleIscroll.y),pl3TrendObj.betIscroll.scrollTo(this.x,pl3TrendObj.betIscroll.y),pl3TrendObj.listTitleIscroll.scrollTo(pl3TrendObj.listTitleIscroll.x,this.y),pl3TrendObj.updatePage(this.x)},onMomentum:function(){pl3TrendObj.titleIscroll.scrollTo(this.x,pl3TrendObj.titleIscroll.y,this.duration),pl3TrendObj.betIscroll.scrollTo(this.x,pl3TrendObj.betIscroll.y,this.duration),pl3TrendObj.listTitleIscroll.scrollTo(pl3TrendObj.listTitleIscroll.x,this.y,this.duration),pl3TrendObj.updatePage(this.x)}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},pl3TrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){if(!("YL"!=pl3TrendObj.postData.trendName&&"LR"!=pl3TrendObj.postData.trendName||"IH"!=pl3TrendObj.postData.trendType&&"UH3"!=pl3TrendObj.postData.trendType&&"UH6"!=pl3TrendObj.postData.trendType))return!1;pl3TrendObj.listIscroll.scrollTo(this.x,pl3TrendObj.listIscroll.y),pl3TrendObj.titleIscroll.scrollTo(this.x,pl3TrendObj.titleIscroll.y),pl3TrendObj.updatePage(this.x)},onMomentum:function(){if(!("YL"!=pl3TrendObj.postData.trendName&&"LR"!=pl3TrendObj.postData.trendName||"IH"!=pl3TrendObj.postData.trendType&&"UH3"!=pl3TrendObj.postData.trendType&&"UH6"!=pl3TrendObj.postData.trendType))return!1;pl3TrendObj.listIscroll.scrollTo(this.x,pl3TrendObj.listIscroll.y,this.duration),pl3TrendObj.titleIscroll.scrollTo(this.x,pl3TrendObj.titleIscroll.y,this.duration),pl3TrendObj.updatePage(this.x)}})},pl3TrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page],d=this.betTitle[this.postData.trendType][this.page];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.page+'"]').addClass("on")},pl3TrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?(this.page=0,this.createDataDom()):(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.createFormatNowPage(this.page)]),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.createFormatNowPage(this.page)+'"]').addClass("on")},pl3TrendObj.updatelottery=function(a,b){this.playTitleObj.html("排列三-"+b+'<em class="down"></em>'),this.postData.trendType=a,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.playTitleObj.attr("data-s","0"),$("#pl3Trend_upBGObj").length&&$("#pl3Trend_upBGObj").remove(),this.updataPlayObj.find("p").removeClass("selected"),this.updataPlayObj.find('p[data-v="'+a+'"]').addClass("selected"),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom()},pl3TrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↑")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↑"),this.sortData(e,"down")),this.temSortDom=a},pl3TrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?a[e]-a[f]:"up"==b?a[f]-a[e]:"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd")),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},pl3TrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");d.hasClass("on")?(d.removeClass("on"),delete this.selectBetData[b][c]):(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c])},pl3TrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg("请至少选择1注"),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!d.length||d.length<this.betNumData[this.postData.trendType][b])return $.alertMsg("请至少选择1注"),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return"FP2"!=this.postData.trendType&&"FP3"!=this.postData.trendType||0!=g?(a.push(this.postData.trendType),a.push(g),a.join("|")):($.alertMsg("请每位至少选择1个不同的号码"),!1)},pl3TrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},pl3TrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},pl3TrendObj.getZS=function(){switch(this.postData.trendType){case"IP":return pl3TrendObj.IPBonus();case"UP3":return 2*pl3TrendObj.IPBonus();case"UP6":return pl3TrendObj.IPBonus();case"IH":return pl3TrendObj.IHBonus();case"UH3":return pl3TrendObj.UH3Bonus();case"UH6":return pl3TrendObj.UH6Bonus()}},pl3TrendObj.IPBonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;if(this.selectBetData[b].every(function(a){return!a}))return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},pl3TrendObj.IHBonus=function(){for(var a={0:1,1:3,2:6,3:10,4:15,5:21,6:28,7:36,8:45,9:55,10:63,11:69,12:73,13:75,14:75,15:73,16:69,17:63,18:55,19:45,20:36,21:28,22:21,23:15,24:10,25:6,26:3,27:1},b=0,c=0,d=this.betNumData[this.postData.trendType].length;b<d;b++)for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&(c+=a[this.selectBetData[b][e]]);return c},pl3TrendObj.UH3Bonus=function(){for(var a={0:0,1:1,2:2,3:1,4:3,5:3,6:3,7:4,8:5,9:4,10:5,11:5,12:4,13:5,14:5,15:4,16:5,17:5,18:4,19:5,20:4,21:3,22:3,23:3,24:1,25:2,26:1,27:0},b=0,c=0,d=this.betNumData[this.postData.trendType].length;b<d;b++)for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&(c+=a[this.selectBetData[b][e]]);return c},pl3TrendObj.UH6Bonus=function(){for(var a={0:0,1:0,2:0,3:1,4:1,5:2,6:3,7:4,8:5,9:7,10:8,11:9,12:10,13:10,14:10,15:10,16:9,17:8,18:7,19:5,20:4,21:3,22:2,23:1,24:1,25:0,26:0,27:0},b=0,c=0,d=this.betNumData[this.postData.trendType].length;b<d;b++)for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&(c+=a[this.selectBetData[b][e]]);return c},pl3TrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case"pl3":this.goPl3Confirm()}},pl3TrendObj.goPl3Confirm=function(){var a=this;pl3ConfirmObj.goBack=function(){pl3TrendObj.show()},pl3ConfirmObj.show("reload",function(){pl3ConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"排列三",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},pl3TrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},pl3TrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},pl3TrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]&&!this.selectBetData[b].every(function(a){return!a})){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.createFormatNowPage(this.page)==b?" on":"")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},pl3TrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},pl3TrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},pl3TrendObj.init=function(){pl3TrendObj.setDefConfig(),pl3TimeObj.setDefConfig(),pl3TrendObj.onloadExecution(),pl3TimeObj.init()},pl3TrendObj.destroy=function(){pl3TrendObj.setDefConfig(),pl3TimeObj.setDefConfig(),$("#pl3Trend").html("").remove()};var pl5TimeObj=new Object;pl5TimeObj.createDom=function(){this.qhObj=$("#pl5Trend_qhObj"),this.subObj=$("#pl5Trend_subObj")},pl5TimeObj.getClientTime=function(){return(new date).getTime()},pl5TimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},pl5TimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+"?m=Ajax.stat.getscheduletime",data:"lotteryType=PL5&v="+(new Date).getTime(),type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),pl5TimeObj.getTimeObj=setTimeout(function(){pl5TimeObj.getLotteryData()},pl5TimeObj.pl5TimeObjNoInterval),!1):"Y"==a.info.stop?(pl5TimeObj.stop=!0,pl5TimeObj.qhObj.html("每天09:00-23:50销售"),pl5TimeObj.setData(a.info),pl5TimeObj.resetSetTime(),pl5TimeObj.subObj.attr("data-stop","1"),!1):(pl5TimeObj.subObj.removeAttr("data-stop"),pl5TimeObj.stop=!1,pl5TimeObj.getTimeObj&&(clearTimeout(pl5TimeObj.getTimeObj),pl5TimeObj.getTimeObj=""),void(pl5TimeObj.lotteryNoChange&&a.info.lotteryNo!=pl5TimeObj.lotteryNo?(pl5TimeObj.setData(a.info),pl5TimeObj.resetSetTime(),pl5TimeObj.lotteryNoChange(a.info)):(pl5TimeObj.setData(a.info),pl5TimeObj.resetSetTime())))}})},pl5TimeObj.lotteryNoChange=function(a){pl5TrendObj.postData.lotteryNoVal=a.lotteryNo,$("#pl5Confirm").length>0&&pl5ConfirmObj.updBetTipsObj&&pl5ConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},pl5TimeObj.getCG=function(a,b){a=a||this.pl5TimeObjCG,pl5TimeObj.getCGObj=setTimeout(function(){var a=pl5TrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.pl5.getChartData",data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),pl5TimeObj.getCG(pl5TimeObj.pl5TimeObjCGInterval,b),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.list&&a.info.list.length?(pl5TimeObj.getCGObj&&(clearTimeout(pl5TimeObj.getCGObj),pl5TimeObj.getCGObj=""),void pl5TimeObj.createNewCG(a.info)):(pl5TimeObj.getCG(pl5TimeObj.pl5TimeObjCGInterval,b),!1))}})},a)},pl5TimeObj.createNewCG=function(a){pl5TrendObj.temTrendData.list.push(a.list[0]),pl5TrendObj.temTrendData.num_max_miss=a.num_max_miss,pl5TrendObj.temTrendData.num_avg_miss=a.num_avg_miss,pl5TrendObj.temTrendData.num_pre_miss=a.num_pre_miss,pl5TrendObj.temTrendData.num_cur_miss=a.num_cur_miss,pl5TrendObj.temTrendData.num_con_miss=a.num_con_miss,pl5TrendObj.temTrendData.num_hap_pro=a.num_hap_pro,pl5TrendObj.temTrendData.num_all=a.num_all,"LR"==pl5TrendObj.postData.trendName?pl5TrendObj.ajaxGetLRData():pl5TrendObj.createListDom(a.list)},pl5TimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},pl5TimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},pl5TimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){pl5TimeObj.nowTime+=1e3},1e3)},pl5TimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!pl5TimeObj.syTime)return!1;Math.abs(a-pl5TimeObj.nowTime)>pl5TimeObj.errorTime&&pl5TimeObj.getLotteryData()},this.correctInterval)},pl5TimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return pl5TimeObj.syTimeObj&&clearTimeout(pl5TimeObj.syTimeObj),pl5TimeObj.syTimeObj="",pl5TimeObj.getCG(pl5TimeObj.pl5TimeObjCG,"append"),pl5TimeObj.setLotteryNoTipsHtml(),pl5TimeObj.getLotteryData(),!1;if(!pl5TimeObj.stop){var b=0;a>3600&&(b=Math.floor(a/3600));var c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=pl5TimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+(b?b+":":"")+c+":"+d+"</span>";pl5TimeObj.qhObj.html(e)}a--},1e3)},pl5TimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},pl5TimeObj.setDefConfig=function(){pl5TimeObj.lotteryNo="",pl5TimeObj.nowTime=(new Date).getTime(),pl5TimeObj.syTime=0,pl5TimeObj.pl5TimeObjCG=36e4,pl5TimeObj.pl5TimeObjCGInterval=6e4,pl5TimeObj.pl5TimeObjNoInterval=6e4,pl5TimeObj.correctInterval=1e4,pl5TimeObj.errorTime=1e5,pl5TimeObj.stop=!1,pl5TimeObj.tips=!0,this.correctTimeObj&&clearInterval(pl5TimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(pl5TimeObj.nowTimeObj),this.syTimeObj&&clearInterval(pl5TimeObj.syTimeObj),this.getTimeObj&&clearTimeout(pl5TimeObj.getTimeObj),this.getCGObj&&clearTimeout(pl5TimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var pl5TrendObj=new PageController({name:"pl5Trend",tpl:"template/kaijiang/pl5Trend.html"});pl5TrendObj.setDefConfig=function(){pl5TrendObj.titleWidth=.175,pl5TrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),pl5TrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),pl5TrendObj.conWidth=Number((Number(pl5TrendObj.clientWidth)*(1-pl5TrendObj.titleWidth)).toFixed(2)),pl5TrendObj.conHeight=Number(pl5TrendObj.clientHeight-101-78),pl5TrendObj.maxPage=0,pl5TrendObj.page=0,pl5TrendObj.borderWidth=1,pl5TrendObj.titleIscroll="",pl5TrendObj.listTitleIscroll="",pl5TrendObj.listIscroll="",pl5TrendObj.temTrendData="",pl5TrendObj.temLRTrendData="",pl5TrendObj.temSortDom="",pl5TrendObj.selectBetData=new Array,pl5TrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:"pl5",trendType:"P",trendName:"HM",lotteryNoVal:""}},pl5TrendObj.betNumData={P:[1,1,1,1,1]},pl5TrendObj.betData={P:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"))},pl5TrendObj.betTitle={P:["第一位","第二位","第三位","第四位","第五位"]},pl5TrendObj.HMTitleData=pl5TrendObj.betData,pl5TrendObj.YLTitleData={P:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"))},pl5TrendObj.LRTitleData={P:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"))},pl5TrendObj.YLSortKey={P:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"))},pl5TrendObj.LRSortKey={P:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"))},pl5TrendObj.HMTitleClass={P:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5")},pl5TrendObj.YLTitleClass={P:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3","trend_num trend_yl fontred tn4","trend_num trend_yl fontred tn5")},pl5TrendObj.LRTitleClass=pl5TrendObj.YLTitleClass,pl5TrendObj.HMTitleFirst={P:["第一位>","第二位>","第三位>","第四位>","第五位>"]},pl5TrendObj.YLTitleFirst={P:["第一位<i>↑</i>","第二位<i>↑</i>","第三位<i>↑</i>","第四位<i>↑</i>","第五位<i>↑</i>"]},pl5TrendObj.LRTitleFirst=pl5TrendObj.YLTitleFirst,pl5TrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],pl5TrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],pl5TrendObj.createDom=function(){this.lotteryObj=$("#pl5Trend_lotteryObj"),this.playTitleObj=$("#pl5Trend_playTitleObj"),this.updataPlayObj=$("#pl5Trend_updataPlayObj"),this.setObj=$("#pl5Trend_setObj"),this.titleFirstObj=$("#pl5Trend_titleFirstObj"),this.titleConObj=$("#pl5Trend_titleConObj"),this.listFirstObj=$("#pl5Trend_listFirstObj"),this.listConObj=$("#pl5Trend_listConObj"),this.betFirstObj=$("#pl5Trend_betFirstObj"),this.betConObj=$("#pl5Trend_betConObj"),this.explainObj=$("#pl5Trend_explainObj"),this.betObj=$("#pl5Trend_betObj"),this.selectObj=$("#pl5Trend_selectObj"),this.betMoneyObj=$("#pl5Trend_betMoneyObj"),this.qhObj=$("#pl5Trend_qhObj"),this.subObj=$("#pl5Trend_subObj")},pl5TrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){pl5TrendObj.lotteryEvent(a)})},pl5TrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return pl5TrendObj.goBack(),!0;case"updatelottery":return pl5TrendObj.updatelottery(c),!0;case"subData":return pl5TrendObj.subData(c),!0;case"delAll":return pl5TrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return pl5TrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("pl5Trend_setObj"!=c[0].id)return!1;pl5TrendObj.hideSet()}},pl5TrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.hide(),a.attr("data-s",0)):(this.updataPlayObj.show(),a.attr("data-s",1));var b=document.body.scrollHeight,c=$('<div id="pl5Trend_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("body").append(c),c.tap(function(){pl5TrendObj.updataPlayObj.hide(),pl5TrendObj.playTitleObj.attr("data-s","0"),c.remove()})},pl5TrendObj.ajaxGetData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.pl5.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),pl5TrendObj.temTrendData=a.info,pl5TrendObj.createPageData(),pl5TrendObj.createDataDom()}})},pl5TrendObj.createFormatData=function(a){if("P"!=this.postData.trendType||"HM"!=this.postData.trendName)return a;var b=new Array;return b.push(a[0].slice(0,12)),b.push(a[0].slice(12,24)),b.push(a[0].slice(24,35)),b.push(a[1].slice(0,12)),b},pl5TrendObj.createFormatI=function(a){return"P"!=this.postData.trendType?a:a<3?0:1},pl5TrendObj.createFormatKey=function(a,b){if("P"!=this.postData.trendType)return b;switch(a){case 0:return b;case 1:return 12+b;case 2:return 24+b;case 3:return b}},pl5TrendObj.createFormatPage=function(a,b){return"P"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?4:"YL"==this.postData.trendName?a:"LR"==this.postData.trendName?a:"bet"==b?4:1},pl5TrendObj.createFormatNowPage=function(a){return"P"!=this.postData.trendType?a:a<3?0:1},pl5TrendObj.createFormatBet=function(a,b){return b},pl5TrendObj.ajaxGetLRData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.pl5.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),pl5TrendObj.temLRTrendData=a.info,pl5TrendObj.createPageData(),pl5TrendObj.createDataDom()}})},pl5TrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},pl5TrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},pl5TrendObj.subSet=function(){for(var a=$("#pl5Trend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},pl5TrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},pl5TrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight()},pl5TrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b],d=this[a+"TitleFirst"][b][this.page],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+" trend_w"+c[g].length+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↑</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},pl5TrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(pl5TrendObj.temTrendData);break;case"YL":this.createYLLIst(pl5TrendObj.temTrendData);break;case"LR":this.createLRLIst(pl5TrendObj.temLRTrendData)}this.createListTitleIscroll(),this.createListIscroll()},pl5TrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=0,j=f[g].num_miss.length;i<j;i++){e.push('<div class="trend_num trend_w'+f[g].num_miss[i].length+'" style="width:'+this.conWidth+'px;">');for(var k=0,l=f[g].num_miss[i].length;k<l;k++){var m=f[g].num_miss[i][k];e.push("<span><em"+(0===Number(m.miss)?' class=" on"':"")+">"+(0===Number(m.miss)?m.hao:b?m.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){var n=this.createHMStatistics(a);d=d.concat(n.titleHtml),e=e.concat(n.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},pl5TrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(a.num_all)),c.push(this.createHMStatisticeCon(a.num_avg_miss)),c.push(this.createHMStatisticeCon(a.num_max_miss)),c.push(this.createHMStatisticeCon(a.num_con_miss)),{titleHtml:b,conHtml:c}},pl5TrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num trend_w'+a[c].length+'" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},pl5TrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),
conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},pl5TrendObj.createLRLIst=function(data){var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},pl5TrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},pl5TrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.betData[a],c=this.betTitle[a][this.page],d=new Array;d.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){d.push('<div class="trend_num fontred trend_w'+b[e].length+'" style="width:'+this.conWidth+'px;">');for(var g=0,h=b[e].length;g<h;g++)d.push('<span data-t="bet" data-i="'+e+'" data-k="'+g+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][g]?"class='on'":"")+">"+b[e][g]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},pl5TrendObj.createListHeight=function(){var a=this.betObj.height(),b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},pl5TrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){pl5TrendObj.listIscroll.scrollTo(pl5TrendObj.listIscroll.x,this.y)},onMomentum:function(){pl5TrendObj.listIscroll.scrollTo(pl5TrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},pl5TrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){pl5TrendObj.listIscroll.scrollTo(this.x,pl5TrendObj.listIscroll.y),pl5TrendObj.betIscroll.scrollTo(this.x,pl5TrendObj.betIscroll.y),pl5TrendObj.updatePage(this.x)},onMomentum:function(){pl5TrendObj.listIscroll.scrollTo(this.x,pl5TrendObj.listIscroll.y,this.duration),pl5TrendObj.betIscroll.scrollTo(this.x,pl5TrendObj.betIscroll.y,this.duration),pl5TrendObj.updatePage(this.x)}})},pl5TrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){pl5TrendObj.titleIscroll.scrollTo(this.x,pl5TrendObj.titleIscroll.y),pl5TrendObj.betIscroll.scrollTo(this.x,pl5TrendObj.betIscroll.y),pl5TrendObj.listTitleIscroll.scrollTo(pl5TrendObj.listTitleIscroll.x,this.y),pl5TrendObj.updatePage(this.x)},onMomentum:function(){pl5TrendObj.titleIscroll.scrollTo(this.x,pl5TrendObj.titleIscroll.y,this.duration),pl5TrendObj.betIscroll.scrollTo(this.x,pl5TrendObj.betIscroll.y,this.duration),pl5TrendObj.listTitleIscroll.scrollTo(pl5TrendObj.listTitleIscroll.x,this.y,this.duration),pl5TrendObj.updatePage(this.x)}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},pl5TrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){pl5TrendObj.listIscroll.scrollTo(this.x,pl5TrendObj.listIscroll.y),pl5TrendObj.titleIscroll.scrollTo(this.x,pl5TrendObj.titleIscroll.y),pl5TrendObj.updatePage(this.x)},onMomentum:function(){pl5TrendObj.listIscroll.scrollTo(this.x,pl5TrendObj.listIscroll.y,this.duration),pl5TrendObj.titleIscroll.scrollTo(this.x,pl5TrendObj.titleIscroll.y,this.duration),pl5TrendObj.updatePage(this.x)}})},pl5TrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page],d=this.betTitle[this.postData.trendType][this.page];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.page+'"]').addClass("on")},pl5TrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?this.createDataDom():(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.page])},pl5TrendObj.updatelottery=function(a){var b=a.attr("data-v"),c=a.attr("data-cn");this.playTitleObj.html("排列五-"+c+'<em class="down"></em>'),this.postData.trendType=b,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.playTitleObj.attr("data-s","0"),$("#pl5Trend_upBGObj").length&&$("#pl5Trend_upBGObj").remove(),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom()},pl5TrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.page];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↑")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↑"),this.sortData(e,"down")),this.temSortDom=a},pl5TrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?a[e]-a[f]:"up"==b?a[f]-a[e]:"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd")),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},pl5TrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");d.hasClass("on")?(d.removeClass("on"),delete this.selectBetData[b][c]):(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c])},pl5TrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg("请至少选择1注"),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!d.length||d.length<this.betNumData[this.postData.trendType][b])return $.alertMsg("请至少选择1注"),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return"FP2"!=this.postData.trendType&&"FP3"!=this.postData.trendType||0!=g?(a.push(this.postData.trendType),a.push(g),a.join("|")):($.alertMsg("请每位至少选择1个不同的号码"),!1)},pl5TrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},pl5TrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},pl5TrendObj.getZS=function(){return pl5TrendObj.PBonus()},pl5TrendObj.PBonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;if(this.selectBetData[b].every(function(a){return!a}))return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},pl5TrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case"pl5":this.goPl5Confirm()}},pl5TrendObj.goPl5Confirm=function(){var a=this;pl5ConfirmObj.goBack=function(){pl5TrendObj.show()},pl5ConfirmObj.show("reload",function(){pl5ConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"排列五",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},pl5TrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},pl5TrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},pl5TrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]&&!this.selectBetData[b].every(function(a){return!a})){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.page==b?" on":"")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},pl5TrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},pl5TrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},pl5TrendObj.init=function(){pl5TrendObj.setDefConfig(),pl5TimeObj.setDefConfig(),pl5TrendObj.onloadExecution(),pl5TimeObj.init()},pl5TrendObj.destroy=function(){pl5TrendObj.setDefConfig(),pl5TimeObj.setDefConfig(),$("#pl5Trend").html("").remove()};var qxcTimeObj=new Object;qxcTimeObj.createDom=function(){this.qhObj=$("#qxcTrend_qhObj"),this.subObj=$("#qxcTrend_subObj")},qxcTimeObj.getClientTime=function(){return(new date).getTime()},qxcTimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},qxcTimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+"?m=Ajax.stat.getscheduletime",data:"lotteryType=QXC&v="+(new Date).getTime(),type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),qxcTimeObj.getTimeObj=setTimeout(function(){qxcTimeObj.getLotteryData()},qxcTimeObj.qxcTimeObjNoInterval),!1):"Y"==a.info.stop?(qxcTimeObj.stop=!0,qxcTimeObj.qhObj.html("每天09:00-23:50销售"),qxcTimeObj.setData(a.info),qxcTimeObj.resetSetTime(),qxcTimeObj.subObj.attr("data-stop","1"),!1):(qxcTimeObj.subObj.removeAttr("data-stop"),qxcTimeObj.stop=!1,qxcTimeObj.getTimeObj&&(clearTimeout(qxcTimeObj.getTimeObj),qxcTimeObj.getTimeObj=""),void(qxcTimeObj.lotteryNoChange&&a.info.lotteryNo!=qxcTimeObj.lotteryNo?(qxcTimeObj.setData(a.info),qxcTimeObj.resetSetTime(),qxcTimeObj.lotteryNoChange(a.info)):(qxcTimeObj.setData(a.info),qxcTimeObj.resetSetTime())))}})},qxcTimeObj.lotteryNoChange=function(a){qxcTrendObj.postData.lotteryNoVal=a.lotteryNo,$("#qxcConfirm").length>0&&qxcConfirmObj.updBetTipsObj&&qxcConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},qxcTimeObj.getCG=function(a,b){a=a||this.qxcTimeObjCG,qxcTimeObj.getCGObj=setTimeout(function(){var a=qxcTrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal),$.ajax({url:ConfigObj.localSite+"?m=Lottery.qxc.getChartData",data:c,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),qxcTimeObj.getCG(qxcTimeObj.qxcTimeObjCGInterval,b),!1):a.info&&a.info.list&&a.info.list.length?(qxcTimeObj.getCGObj&&(clearTimeout(qxcTimeObj.getCGObj),qxcTimeObj.getCGObj=""),void qxcTimeObj.createNewCG(a.info)):(qxcTimeObj.getCG(qxcTimeObj.qxcTimeObjCGInterval,b),!1)}})},a)},qxcTimeObj.createNewCG=function(a){qxcTrendObj.temTrendData.list.push(a.list[0]),qxcTrendObj.temTrendData.num_max_miss=a.num_max_miss,qxcTrendObj.temTrendData.num_avg_miss=a.num_avg_miss,qxcTrendObj.temTrendData.num_pre_miss=a.num_pre_miss,qxcTrendObj.temTrendData.num_cur_miss=a.num_cur_miss,qxcTrendObj.temTrendData.num_con_miss=a.num_con_miss,qxcTrendObj.temTrendData.num_hap_pro=a.num_hap_pro,qxcTrendObj.temTrendData.num_all=a.num_all,"LR"==qxcTrendObj.postData.trendName?qxcTrendObj.ajaxGetLRData():qxcTrendObj.createListDom(a.list)},qxcTimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},qxcTimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},qxcTimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){qxcTimeObj.nowTime+=1e3},1e3)},qxcTimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!qxcTimeObj.syTime)return!1;Math.abs(a-qxcTimeObj.nowTime)>qxcTimeObj.errorTime&&qxcTimeObj.getLotteryData()},this.correctInterval)},qxcTimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return qxcTimeObj.syTimeObj&&clearTimeout(qxcTimeObj.syTimeObj),qxcTimeObj.syTimeObj="",qxcTimeObj.getCG(qxcTimeObj.qxcTimeObjCG,"append"),qxcTimeObj.setLotteryNoTipsHtml(),qxcTimeObj.getLotteryData(),!1;if(!qxcTimeObj.stop){var b=0;a>3600&&(b=Math.floor(a/3600));var c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=qxcTimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+(b?b+":":"")+c+":"+d+"</span>";qxcTimeObj.qhObj.html(e)}a--},1e3)},qxcTimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},qxcTimeObj.setDefConfig=function(){qxcTimeObj.lotteryNo="",qxcTimeObj.nowTime=(new Date).getTime(),qxcTimeObj.syTime=0,qxcTimeObj.qxcTimeObjCG=36e5,qxcTimeObj.qxcTimeObjCGInterval=6e4,qxcTimeObj.qxcTimeObjNoInterval=6e4,qxcTimeObj.correctInterval=1e4,qxcTimeObj.errorTime=1e5,qxcTimeObj.stop=!1,qxcTimeObj.tips=!0,this.correctTimeObj&&clearInterval(qxcTimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(qxcTimeObj.nowTimeObj),this.syTimeObj&&clearInterval(qxcTimeObj.syTimeObj),this.getTimeObj&&clearTimeout(qxcTimeObj.getTimeObj),this.getCGObj&&clearTimeout(qxcTimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var qxcTrendObj=new PageController({name:"qxcTrend",tpl:"template/kaijiang/qxcTrend.html"});qxcTrendObj.setDefConfig=function(){qxcTrendObj.titleWidth=.175,qxcTrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),qxcTrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),qxcTrendObj.conWidth=Number((Number(qxcTrendObj.clientWidth)*(1-qxcTrendObj.titleWidth)).toFixed(2)),qxcTrendObj.conHeight=Number(qxcTrendObj.clientHeight-101-78),qxcTrendObj.maxPage=0,qxcTrendObj.page=0,qxcTrendObj.borderWidth=1,qxcTrendObj.titleIscroll="",qxcTrendObj.listTitleIscroll="",qxcTrendObj.listIscroll="",qxcTrendObj.temTrendData="",qxcTrendObj.temLRTrendData="",qxcTrendObj.temSortDom="",qxcTrendObj.selectBetData=new Array,qxcTrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:"qxc",trendType:"P",trendName:"HM",lotteryNoVal:""}},qxcTrendObj.betNumData={P:[1,1,1,1,1,1,1]},qxcTrendObj.betData={P:new Array(new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"),new Array("0","1","2","3","4","5","6","7","8","9"))},qxcTrendObj.betTitle={P:["第一位","第二位","第三位","第四位","第五位","第六位","第七位"]},qxcTrendObj.HMTitleData=qxcTrendObj.betData,qxcTrendObj.YLTitleData={P:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"))},qxcTrendObj.LRTitleData={P:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"))},qxcTrendObj.YLSortKey={P:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"))},qxcTrendObj.LRSortKey={P:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"),new Array("30","50","100","miss"))},qxcTrendObj.HMTitleClass={P:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontred tn4","trend_num fontred tn5","trend_num fontred tn6","trend_num fontred tn7")},qxcTrendObj.YLTitleClass={P:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2","trend_num trend_yl fontred tn3","trend_num trend_yl fontred tn4","trend_num trend_yl fontred tn5","trend_num trend_yl fontred tn6","trend_num trend_yl fontred tn7")},qxcTrendObj.LRTitleClass=qxcTrendObj.YLTitleClass,qxcTrendObj.HMTitleFirst={P:["第一位>","第二位>","第三位>","第四位>","第五位>","第六位>","第七位>"]},qxcTrendObj.YLTitleFirst={P:["第一位<i>↑</i>","第二位<i>↑</i>","第三位<i>↑</i>","第四位<i>↑</i>","第五位<i>↑</i>","第六位<i>↑</i>","第七位<i>↑</i>"]},qxcTrendObj.LRTitleFirst=qxcTrendObj.YLTitleFirst,qxcTrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],qxcTrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],qxcTrendObj.createDom=function(){this.lotteryObj=$("#qxcTrend_lotteryObj"),this.playTitleObj=$("#qxcTrend_playTitleObj"),this.updataPlayObj=$("#qxcTrend_updataPlayObj"),this.setObj=$("#qxcTrend_setObj"),this.titleFirstObj=$("#qxcTrend_titleFirstObj"),this.titleConObj=$("#qxcTrend_titleConObj"),this.listFirstObj=$("#qxcTrend_listFirstObj"),this.listConObj=$("#qxcTrend_listConObj"),this.betFirstObj=$("#qxcTrend_betFirstObj"),this.betConObj=$("#qxcTrend_betConObj"),this.explainObj=$("#qxcTrend_explainObj"),this.betObj=$("#qxcTrend_betObj"),this.selectObj=$("#qxcTrend_selectObj"),this.betMoneyObj=$("#qxcTrend_betMoneyObj"),this.qhObj=$("#qxcTrend_qhObj"),this.subObj=$("#qxcTrend_subObj")},qxcTrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){qxcTrendObj.lotteryEvent(a)})},qxcTrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return qxcTrendObj.goBack(),!0;case"updatelottery":return qxcTrendObj.updatelottery(c),!0;case"subData":return qxcTrendObj.subData(c),!0;case"delAll":return qxcTrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return qxcTrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("qxcTrend_setObj"!=c[0].id)return!1;qxcTrendObj.hideSet()}},qxcTrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.hide(),a.attr("data-s",0)):(this.updataPlayObj.show(),a.attr("data-s",1));var b=document.body.scrollHeight,c=$('<div id="qxcTrend_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("body").append(c),c.tap(function(){qxcTrendObj.updataPlayObj.hide(),qxcTrendObj.playTitleObj.attr("data-s","0"),c.remove()})},qxcTrendObj.ajaxGetData=function(){$.ajax({url:ConfigObj.localSite+"?m=Lottery.qxc.getChartData",data:this.postData,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;qxcTrendObj.temTrendData=a.info,qxcTrendObj.createPageData(),qxcTrendObj.createDataDom()}})},qxcTrendObj.createFormatData=function(a){if("P"!=this.postData.trendType||"HM"!=this.postData.trendName)return a;var b=new Array;return b.push(a[0].slice(0,12)),b.push(a[0].slice(12,24)),b.push(a[0].slice(24,35)),b.push(a[1].slice(0,12)),b},qxcTrendObj.createFormatI=function(a){if("P"!=this.postData.trendType)return a;switch(this.postData.trendName){case"HM":return a<3?0:1;case"YL":case"LR":return a>0?1:0}},qxcTrendObj.createFormatKey=function(a,b){if("P"!=this.postData.trendType)return b;switch(a){case 0:return b;case 1:return 12+b;case 2:return 24+b;case 3:return b}},qxcTrendObj.createFormatPage=function(a,b){return"P"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?4:"YL"==this.postData.trendName?a:"LR"==this.postData.trendName?a:"bet"==b?4:1},qxcTrendObj.createFormatNowPage=function(a){return"P"!=this.postData.trendType?a:a<3?0:1},qxcTrendObj.createFormatBet=function(a,b){return b},qxcTrendObj.ajaxGetLRData=function(){$.ajax({url:ConfigObj.localSite+"?m=Lottery.qxc.getChartData",data:this.postData,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;qxcTrendObj.temLRTrendData=a.info,qxcTrendObj.createPageData(),qxcTrendObj.createDataDom()}})},qxcTrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},qxcTrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},qxcTrendObj.subSet=function(){for(var a=$("#qxcTrend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},qxcTrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},qxcTrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight()},qxcTrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b],d=this[a+"TitleFirst"][b][this.page],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+" trend_w"+c[g].length+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↑</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},qxcTrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(qxcTrendObj.temTrendData);break;case"YL":this.createYLLIst(qxcTrendObj.temTrendData);break;case"LR":this.createLRLIst(qxcTrendObj.temLRTrendData)}this.createListTitleIscroll(),this.createListIscroll()},qxcTrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=0,j=f[g].num_miss.length;i<j;i++){e.push('<div class="trend_num trend_w'+f[g].num_miss[i].length+'" style="width:'+this.conWidth+'px;">');for(var k=0,l=f[g].num_miss[i].length;k<l;k++){var m=f[g].num_miss[i][k];e.push("<span><em"+(0===Number(m.miss)?' class=" on"':"")+">"+(0===Number(m.miss)?m.hao:b?m.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){var n=this.createHMStatistics(a);d=d.concat(n.titleHtml),e=e.concat(n.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},qxcTrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(a.num_all)),c.push(this.createHMStatisticeCon(a.num_avg_miss)),c.push(this.createHMStatisticeCon(a.num_max_miss)),c.push(this.createHMStatisticeCon(a.num_con_miss)),{titleHtml:b,conHtml:c}},qxcTrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num trend_w'+a[c].length+'" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},qxcTrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},qxcTrendObj.createLRLIst=function(data){var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.page];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),
conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},qxcTrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},qxcTrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.betData[a],c=this.betTitle[a][this.page],d=new Array;d.push('<div class="clearfix" style="width:'+(this.maxPage>1?((this.conWidth+this.borderWidth)*this.maxPage).toFixed(2):(this.conWidth*this.maxPage).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){d.push('<div class="trend_num fontred trend_w'+b[e].length+'" style="width:'+this.conWidth+'px;">');for(var g=0,h=b[e].length;g<h;g++)d.push('<span data-t="bet" data-i="'+e+'" data-k="'+g+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][g]?"class='on'":"")+">"+b[e][g]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},qxcTrendObj.createListHeight=function(){var a=this.betObj.height(),b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},qxcTrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){qxcTrendObj.listIscroll.scrollTo(qxcTrendObj.listIscroll.x,this.y)},onMomentum:function(){qxcTrendObj.listIscroll.scrollTo(qxcTrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},qxcTrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){qxcTrendObj.listIscroll.scrollTo(this.x,qxcTrendObj.listIscroll.y),qxcTrendObj.betIscroll.scrollTo(this.x,qxcTrendObj.betIscroll.y),qxcTrendObj.updatePage(this.x)},onMomentum:function(){qxcTrendObj.listIscroll.scrollTo(this.x,qxcTrendObj.listIscroll.y,this.duration),qxcTrendObj.betIscroll.scrollTo(this.x,qxcTrendObj.betIscroll.y,this.duration),qxcTrendObj.updatePage(this.x)}})},qxcTrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){qxcTrendObj.titleIscroll.scrollTo(this.x,qxcTrendObj.titleIscroll.y),qxcTrendObj.betIscroll.scrollTo(this.x,qxcTrendObj.betIscroll.y),qxcTrendObj.listTitleIscroll.scrollTo(qxcTrendObj.listTitleIscroll.x,this.y),qxcTrendObj.updatePage(this.x)},onMomentum:function(){qxcTrendObj.titleIscroll.scrollTo(this.x,qxcTrendObj.titleIscroll.y,this.duration),qxcTrendObj.betIscroll.scrollTo(this.x,qxcTrendObj.betIscroll.y,this.duration),qxcTrendObj.listTitleIscroll.scrollTo(qxcTrendObj.listTitleIscroll.x,this.y,this.duration),qxcTrendObj.updatePage(this.x)}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},qxcTrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){qxcTrendObj.listIscroll.scrollTo(this.x,qxcTrendObj.listIscroll.y),qxcTrendObj.titleIscroll.scrollTo(this.x,qxcTrendObj.titleIscroll.y),qxcTrendObj.updatePage(this.x)},onMomentum:function(){qxcTrendObj.listIscroll.scrollTo(this.x,qxcTrendObj.listIscroll.y,this.duration),qxcTrendObj.titleIscroll.scrollTo(this.x,qxcTrendObj.titleIscroll.y,this.duration),qxcTrendObj.updatePage(this.x)}})},qxcTrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page],d=this.betTitle[this.postData.trendType][this.page];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.page+'"]').addClass("on")},qxcTrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?this.createDataDom():(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.page])},qxcTrendObj.updatelottery=function(a){var b=a.attr("data-v"),c=a.attr("data-cn");this.playTitleObj.html("七星彩-"+c+'<em class="down"></em>'),this.postData.trendType=b,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.playTitleObj.attr("data-s","0"),$("#qxcTrend_upBGObj").length&&$("#qxcTrend_upBGObj").remove(),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom()},qxcTrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.page];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↑")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↑"),this.sortData(e,"down")),this.temSortDom=a},qxcTrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?a[e]-a[f]:"up"==b?a[f]-a[e]:"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd")),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},qxcTrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");d.hasClass("on")?(d.removeClass("on"),delete this.selectBetData[b][c]):(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c])},qxcTrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg("请至少选择1注"),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!d.length||d.length<this.betNumData[this.postData.trendType][b])return $.alertMsg("请至少选择1注"),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return"FP2"!=this.postData.trendType&&"FP3"!=this.postData.trendType||0!=g?(a.push(this.postData.trendType),a.push(g),a.join("|")):($.alertMsg("请每位至少选择1个不同的号码"),!1)},qxcTrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},qxcTrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},qxcTrendObj.getZS=function(){return qxcTrendObj.PBonus()},qxcTrendObj.PBonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},qxcTrendObj.FP2Bonus=function(){for(var a=new Array,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++)!function(b){if(!b||!b.length)return!0;if(!a.length)return a=b,!0;for(var c=new Array,d=0,e=a.length;d<e;d++)if(a[d])for(var f=0,g=b.length;f<g;f++)if(b[f]){var h=a[d].split(",");$.inArray(b[f],h)>-1||c.push(a[d]+","+b[f])}!!c.length&&(a=c.concat([]))}(this.selectBetData[b]);var d=0;for(var b in a)a[b]&&a[b].split(",").length==this.betNumData[this.postData.trendType].length&&d++;return d},qxcTrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case"qxc":this.goQxcConfirm()}},qxcTrendObj.goQxcConfirm=function(){var a=this;qxcConfirmObj.goBack=function(){qxcTrendObj.show()},qxcConfirmObj.show("reload",function(){qxcConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"七星彩",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},qxcTrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},qxcTrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},qxcTrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.page==b?" on":"")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},qxcTrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},qxcTrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},qxcTrendObj.init=function(){qxcTrendObj.setDefConfig(),qxcTimeObj.setDefConfig(),qxcTrendObj.onloadExecution(),qxcTimeObj.init()},qxcTrendObj.destroy=function(){qxcTrendObj.setDefConfig(),qxcTimeObj.setDefConfig(),$("#qxcTrend").html("").remove()};var ssqTimeObj=new Object;ssqTimeObj.createDom=function(){this.qhObj=$("#ssqTrend_qhObj"),this.subObj=$("#ssqTrend_subObj")},ssqTimeObj.getClientTime=function(){return(new date).getTime()},ssqTimeObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},ssqTimeObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+"?m=Ajax.stat.getscheduletime",data:"lotteryType=SSQ&v="+(new Date).getTime(),type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),ssqTimeObj.getTimeObj=setTimeout(function(){ssqTimeObj.getLotteryData()},ssqTimeObj.ssqTimeObjNoInterval),!1):"Y"==a.info.stop?(ssqTimeObj.stop=!0,ssqTimeObj.qhObj.html("每天09:00-23:50销售"),ssqTimeObj.setData(a.info),ssqTimeObj.resetSetTime(),ssqTimeObj.subObj.attr("data-stop","1"),!1):(ssqTimeObj.subObj.removeAttr("data-stop"),ssqTimeObj.stop=!1,ssqTimeObj.getTimeObj&&(clearTimeout(ssqTimeObj.getTimeObj),ssqTimeObj.getTimeObj=""),void(ssqTimeObj.lotteryNoChange&&a.info.lotteryNo!=ssqTimeObj.lotteryNo?(ssqTimeObj.setData(a.info),ssqTimeObj.resetSetTime(),ssqTimeObj.lotteryNoChange(a.info)):(ssqTimeObj.setData(a.info),ssqTimeObj.resetSetTime())))}})},ssqTimeObj.lotteryNoChange=function(a){ssqTrendObj.postData.lotteryNoVal=a.lotteryNo,$("#ssqConfirm").length>0&&ssqConfirmObj.updBetTipsObj&&ssqConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},ssqTimeObj.getCG=function(a,b){a=a||this.ssqTimeObjCG,ssqTimeObj.getCGObj=setTimeout(function(){var a=ssqTrendObj.postData,c={lottery_type:a.lottery_type,trendType:a.trendType};b&&"append"===b&&(c.lottery_no=a.lotteryNoVal);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.ssq.getChartData",data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),ssqTimeObj.getCG(ssqTimeObj.ssqTimeObjCGInterval,b),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.list&&a.info.list.length?(ssqTimeObj.getCGObj&&(clearTimeout(ssqTimeObj.getCGObj),ssqTimeObj.getCGObj=""),void ssqTimeObj.createNewCG(a.info)):(ssqTimeObj.getCG(ssqTimeObj.ssqTimeObjCGInterval,b),!1))}})},a)},ssqTimeObj.createNewCG=function(a){ssqTrendObj.temTrendData.list.push(a.list[0]),ssqTrendObj.temTrendData.num_max_miss=a.num_max_miss,ssqTrendObj.temTrendData.num_avg_miss=a.num_avg_miss,ssqTrendObj.temTrendData.num_pre_miss=a.num_pre_miss,ssqTrendObj.temTrendData.num_cur_miss=a.num_cur_miss,ssqTrendObj.temTrendData.num_con_miss=a.num_con_miss,ssqTrendObj.temTrendData.num_hap_pro=a.num_hap_pro,ssqTrendObj.temTrendData.num_all=a.num_all,"LR"==ssqTrendObj.postData.trendName?ssqTrendObj.ajaxGetLRData():ssqTrendObj.createListDom(a.list)},ssqTimeObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},ssqTimeObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},ssqTimeObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){ssqTimeObj.nowTime+=1e3},1e3)},ssqTimeObj.correctTime=function(){this.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!ssqTimeObj.syTime)return!1;Math.abs(a-ssqTimeObj.nowTime)>ssqTimeObj.errorTime&&ssqTimeObj.getLotteryData()},this.correctInterval)},ssqTimeObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a)return ssqTimeObj.syTimeObj&&clearTimeout(ssqTimeObj.syTimeObj),ssqTimeObj.syTimeObj="",ssqTimeObj.getCG(ssqTimeObj.ssqTimeObjCG,"append"),ssqTimeObj.setLotteryNoTipsHtml(),ssqTimeObj.getLotteryData(),!1;if(!ssqTimeObj.stop){var b=0;a>3600&&(b=Math.floor(a/3600));var c=Math.floor((a-3600*b)/60),d=a-3600*b-60*c;b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=ssqTimeObj.lotteryNo.slice(-3)+'期离截止<span class="fontred">'+(b?b+":":"")+c+":"+d+"</span>";ssqTimeObj.qhObj.html(e)}a--},1e3)},ssqTimeObj.init=function(){this.setDefConfig(),this.createDom(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0)},ssqTimeObj.setDefConfig=function(){ssqTimeObj.lotteryNo="",ssqTimeObj.nowTime=(new Date).getTime(),ssqTimeObj.syTime=0,ssqTimeObj.ssqTimeObjCG=36e4,ssqTimeObj.ssqTimeObjCGInterval=6e4,ssqTimeObj.ssqTimeObjNoInterval=6e4,ssqTimeObj.correctInterval=1e4,ssqTimeObj.errorTime=1e5,ssqTimeObj.stop=!1,ssqTimeObj.tips=!0,this.correctTimeObj&&clearInterval(ssqTimeObj.correctTimeObj),this.nowTimeObj&&clearInterval(ssqTimeObj.nowTimeObj),this.syTimeObj&&clearInterval(ssqTimeObj.syTimeObj),this.getTimeObj&&clearTimeout(ssqTimeObj.getTimeObj),this.getCGObj&&clearTimeout(ssqTimeObj.getCGObj),this.correctTimeObj="",this.nowTimeObj="",this.syTimeObj="",this.getTimeObj="",this.getCGObj=""};var ssqTrendObj=new PageController({name:"ssqTrend",tpl:"template/kaijiang/ssqTrend.html"});ssqTrendObj.setDefConfig=function(){ssqTrendObj.titleWidth=.175,ssqTrendObj.clientWidth=(document.documentElement.clientWidth||document.body.clientWidth).toFixed(2),ssqTrendObj.clientHeight=(document.documentElement.clientHeight||document.body.clientHeight).toFixed(2),ssqTrendObj.conWidth=Number((Number(ssqTrendObj.clientWidth)*(1-ssqTrendObj.titleWidth)).toFixed(2)),ssqTrendObj.conHeight=Number(ssqTrendObj.clientHeight-101-78),ssqTrendObj.maxPage=0,ssqTrendObj.page=0,ssqTrendObj.borderWidth=1,ssqTrendObj.titleIscroll="",ssqTrendObj.listTitleIscroll="",ssqTrendObj.listIscroll="",ssqTrendObj.temTrendData="",ssqTrendObj.temLRTrendData="",ssqTrendObj.temSortDom="",ssqTrendObj.selectBetData=new Array,ssqTrendObj.postData={num:50,showYL:"show",statistics:"show",lottery_type:"ssq",trendType:"P",trendName:"HM",lotteryNoVal:""}},ssqTrendObj.betNumData={P:[6,1]},ssqTrendObj.betData={P:new Array(new Array("01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33"),new Array("01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16"))},ssqTrendObj.betTitle={P:["红球","红球","红球","蓝球","蓝球"]},ssqTrendObj.HMTitleData=ssqTrendObj.betData,ssqTrendObj.YLTitleData={P:new Array(new Array("最大","上次","当期","欲出"),new Array("最大","上次","当期","欲出"))},ssqTrendObj.LRTitleData={P:new Array(new Array("30期","50期","100期","遗漏"),new Array("30期","50期","100期","遗漏"))},ssqTrendObj.YLSortKey={P:new Array(new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"),new Array("num_max_miss","num_pre_miss","num_cur_miss","num_hap_pro"))},ssqTrendObj.LRSortKey={P:new Array(new Array("30","50","100","miss"),new Array("30","50","100","miss"))},ssqTrendObj.HMTitleClass={P:new Array("trend_num fontred","trend_num fontred tn2","trend_num fontred tn3","trend_num fontblue tn4","trend_num fontblue tn4")},ssqTrendObj.YLTitleClass={P:new Array("trend_num trend_yl","trend_num trend_yl fontred tn2")},ssqTrendObj.LRTitleClass=ssqTrendObj.YLTitleClass,ssqTrendObj.HMTitleFirst={P:["红球>","红球>","红球>","蓝球>","蓝球>"]},ssqTrendObj.YLTitleFirst={P:["红球<i>↑</i>","蓝球<i>↑</i>"]},ssqTrendObj.LRTitleFirst=ssqTrendObj.YLTitleFirst,ssqTrendObj.YLExplainData=[{title:"最大遗漏",con:"统计期内遗漏的最大值"},{title:"上次遗漏",con:"指号码自上次开出前的遗漏次数"},{title:"当期遗漏",con:"指号码自上次开出后的遗漏次数"},{title:"欲出几率",con:"当期遗漏÷平均遗漏×100"}],ssqTrendObj.LRExplainData=[{title:"热号",con:"统计期内出现次数多的为热号"},{title:"冷号",con:"统计期内出现次数少的为冷号"},{title:"次数",con:"指号码统计期内出现的次数"},{title:"遗漏",con:"指号码自上次开出后的遗漏次数"}],ssqTrendObj.createDom=function(){this.lotteryObj=$("#ssqTrend_lotteryObj"),this.playTitleObj=$("#ssqTrend_playTitleObj"),this.updataPlayObj=$("#ssqTrend_updataPlayObj"),this.setObj=$("#ssqTrend_setObj"),this.titleFirstObj=$("#ssqTrend_titleFirstObj"),this.titleConObj=$("#ssqTrend_titleConObj"),this.listFirstObj=$("#ssqTrend_listFirstObj"),this.listConObj=$("#ssqTrend_listConObj"),this.betFirstObj=$("#ssqTrend_betFirstObj"),this.betConObj=$("#ssqTrend_betConObj"),this.explainObj=$("#ssqTrend_explainObj"),this.betObj=$("#ssqTrend_betObj"),this.selectObj=$("#ssqTrend_selectObj"),this.betMoneyObj=$("#ssqTrend_betMoneyObj"),this.qhObj=$("#ssqTrend_qhObj"),this.subObj=$("#ssqTrend_subObj"),this.bottomHeightObj=$("#ssqTrend_bottomHeightObj")},ssqTrendObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){ssqTrendObj.lotteryEvent(a)})},ssqTrendObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"resSet":return this.hideSet(),!0;case"subSet":return this.subSet(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showupdplay":return this.showUpdPlay(c),!0;case"showSet":return this.showSet(c),!0;case"sortDom":return this.sortDom(c),!0;case"bet":return this.betNum(c),this.createSelectBetDom(),this.createMoneyDom(),!0;case"updateData":this.updateData(c)}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return ssqTrendObj.goBack(),!0;case"updatelottery":return ssqTrendObj.updatelottery(c),!0;case"subData":return ssqTrendObj.subData(c),!0;case"delAll":return ssqTrendObj.delAll(),this.createSelectBetDom(),this.createMoneyDom(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateTrendName":return ssqTrendObj.updateTrendName(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");if("ssqTrend_setObj"!=c[0].id)return!1;ssqTrendObj.hideSet()}},ssqTrendObj.showUpdPlay=function(a){Number(a.attr("data-s"))?(this.updataPlayObj.hide(),a.attr("data-s",0)):(this.updataPlayObj.show(),a.attr("data-s",1));var b=document.body.scrollHeight,c=$('<div id="ssqTrend_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');$("body").append(c),c.tap(function(){ssqTrendObj.updataPlayObj.hide(),ssqTrendObj.playTitleObj.attr("data-s","0"),c.remove()})},ssqTrendObj.ajaxGetData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.ssq.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),ssqTrendObj.temTrendData=a.info,ssqTrendObj.createPageData(),ssqTrendObj.createDataDom()}})},ssqTrendObj.createFormatData=function(a){if("P"!=this.postData.trendType||"HM"!=this.postData.trendName)return a;var b=new Array;return b.push(a[0].slice(0,12)),b.push(a[0].slice(12,24)),b.push(a[0].slice(24,35)),b.push(a[1].slice(0,8)),b.push(a[1].slice(8,16)),b},ssqTrendObj.createFormatI=function(a){if("P"!=this.postData.trendType)return a;switch(this.postData.trendName){case"HM":return a<3?0:1;case"YL":case"LR":return a>0?1:0}},ssqTrendObj.createFormatKey=function(a,b){if("P"!=this.postData.trendType)return b;if("HM"==this.postData.trendName)switch(a){case 0:return b;case 1:return 12+b;case 2:return 24+b;case 3:return b;case 4:return 8+b}else if("YL"==this.postData.trendName||"LR"==this.postData.trendName)switch(a){case 0:case 1:return b}},ssqTrendObj.createFormatPage=function(a,b){return"P"!=this.postData.trendType?a:"YL"!=this.postData.trendName&&"LR"!=this.postData.trendName?5:"YL"==this.postData.trendName?a:"LR"==this.postData.trendName?a:"bet"==b?5:1},ssqTrendObj.createFormatNowPage=function(a){return"P"!=this.postData.trendType||"HM"!=this.postData.trendName?a:a<3?0:1},ssqTrendObj.createFormatBet=function(a,b){return b},ssqTrendObj.updateHeight=function(){if("P"==this.postData.trendType&&"HM"==this.postData.trendName)return!1;if(this.temHideObj||(this.temHideObj=[]),this.temTitleHideObj||(this.temTitleHideObj=[]),1==this.createFormatNowPage(this.page)){if(this.temHideObj.length)return!1;for(var a=this.listConObj.children("div").children("div"),b=this.listFirstObj.children("div").children("p"),c=0,d=a.length;c<d;c++)c<16||(a.eq(c).hide(),b.eq(c).hide(),this.temHideObj.push(a.eq(c)),this.temTitleHideObj.push(b.eq(c)));this.createListHeight(),this.listIscroll.refresh(),this.titleIscroll.refresh()}else{if(!this.temHideObj.length)return!1;for(var c=0,d=this.temHideObj.length;c<d;c++)this.temHideObj[c].show(),this.temTitleHideObj[c].show();this.temHideObj=[],this.temTitleHideObj=[],this.createListHeight(),this.listIscroll.refresh(),this.titleIscroll.refresh()}},ssqTrendObj.ajaxGetLRData=function(){var a={para:Global.encrypt(this.postData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.ssq.getChartData",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),ssqTrendObj.temLRTrendData=a.info,ssqTrendObj.createPageData(),ssqTrendObj.createDataDom()}})},ssqTrendObj.showSet=function(){for(var a=$("span[data-t='updateData']"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]&&(this.postData[d[0]]==d[1]?a.eq(b).addClass("on"):a.eq(b).removeClass("on"))}this.setObj.show(),this.setObj.attr("data-s",0)},ssqTrendObj.hideSet=function(){this.setObj.hide(),this.setObj.removeAttr("data-s",1)},ssqTrendObj.subSet=function(){for(var a=$("#ssqTrend_lotteryObj span[data-t='updateData']"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on")){var d=a.eq(b).attr("data-v").split("_");this.postData[d[0]]=d[1]}this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom(),this.hideSet()},ssqTrendObj.createPageData=function(){this.page=0;var a=this.postData.trendName,b=this.postData.trendType,c=this[a+"TitleData"][b];this.maxPage=c.length},ssqTrendObj.createDataDom=function(){this.createTitleDom(),this.createListDom(),this.createExplain(),this.createBetDom(),this.createListHeight(),this.createListTitleIscroll(),this.createListIscroll()},ssqTrendObj.createTitleDom=function(){var a=this.postData.trendName,b=this.postData.trendType,c=this.createFormatData(this[a+"TitleData"][b]),d=this[a+"TitleFirst"][b][this.createFormatNowPage(this.page)],e=this[a+"TitleClass"][b],f=new Array;f.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var g=0,h=c.length;g<h;g++){f.push('<div class="'+e[g]+" trend_w"+c[g].length+'" style="width:'+this.conWidth+'px;">');for(var i=0,j=c[g].length;i<j;i++)"HM"==a?f.push("<span><em>"+c[g][i]+"</em></span>"):f.push('<span data-t="sortDom" data-k="'+this[a+"SortKey"][b][g][i]+"@"+g+'">'+c[g][i]+"<i>↑</i></span>");f.push("</div>")}f.push("</div>"),"HM"==a?(this.titleFirstObj.removeClass("fontblue"),this.titleConObj.removeClass("gray")):(this.titleFirstObj.addClass("fontblue"),this.titleConObj.addClass("gray")),this.titleConObj.html(f.join("")),this.titleFirstObj.html(d),this.createTitleIscroll()},ssqTrendObj.createListDom=function(){switch(this.postData.trendName){case"HM":this.createHMLIst(ssqTrendObj.temTrendData);break;case"YL":this.createYLLIst(ssqTrendObj.temTrendData);break;case"LR":this.createLRLIst(ssqTrendObj.temLRTrendData)}},ssqTrendObj.createHMLIst=function(a){var b="show"===this.postData.showYL,c="show"===this.postData.statistics,d=new Array,e=new Array;d.push("<div>"),e.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');var f=a.list;if(!f)return!1;for(var g=0,h=f.length;g<h;g++){d.push('<p class="qh_con'+(g%2?"":" odd")+'"><span>'+f[g].lottery_no.slice(-3)+'期</span><span class="line fl"><em class="dot"></em></span></p>'),e.push('<div class="clearfix'+(g%2?"":" odd")+'">');for(var i=this.createFormatData(f[g].num_miss),j=0,k=i.length;j<k;j++){e.push('<div class="trend_num trend_w'+i[j].length+(j>=3?" numblue":"")+'" style="width:'+this.conWidth+'px;">');for(var l=0,m=i[j].length;l<m;l++){var n=i[j][l];e.push("<span><em"+(0===Number(n.miss)?' class=" on"':"")+">"+(0===Number(n.miss)?n.hao:b?n.miss:"")+"</em></span>")}e.push("</div>")}e.push("</div>")}if(c){var o=this.createHMStatistics(a);d=d.concat(o.titleHtml),e=e.concat(o.conHtml)}e.push("</div>"),d.push("</div>"),this.listConObj.html(e.join("")),this.listFirstObj.html(d.join(""))},ssqTrendObj.createHMStatistics=function(a){var b=new Array,c=new Array;return b.push('<p class="qh_con whitebg"><span>出现总数</span></p>'),b.push('<p class="qh_con whitebg"><span>平均遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大遗漏</span></p>'),b.push('<p class="qh_con whitebg"><span>最大连出</span></p>'),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_all))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_avg_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_max_miss))),c.push(this.createHMStatisticeCon(this.createFormatData(a.num_con_miss))),{titleHtml:b,conHtml:c}},ssqTrendObj.createHMStatisticeCon=function(a){var b=new Array;b.push('<div class="clearfix whitebg">');for(var c=0,d=a.length;c<d;c++){b.push('<div class="trend_num trend_w'+a[c].length+'" style="width:'+this.conWidth+'px;">');for(var e=0,f=a[c].length;e<f;e++)b.push("<span><em>"+a[c][e]+"</em></span>");b.push("</div>")}return b.push("</div>"),b.join("")},ssqTrendObj.createYLLIst=function(data){var titleHtml=new Array,conHtml=new Array,maxMiss=data.num_max_miss,preMiss=data.num_pre_miss,curMiss=data.num_cur_miss,hapPro=data.num_hap_pro,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=maxMiss.length;k<klen;k++){var maxMaxMissVal=eval("Math.max("+maxMiss[k]+")"),maxPreMissVal=eval("Math.max("+preMiss[k]+")"),maxCurMissVal=eval("Math.max("+curMiss[k]+")"),maxHapProVal=eval("Math.max("+hapPro[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),void 0!==maxMiss[k][i]&&conHtml.push('<span class="'+(maxMiss[k][i]==maxMaxMissVal?"fontred":"")+'">'+maxMiss[k][i]+"</span>"),void 0!==preMiss[k][i]&&conHtml.push('<span class="'+(preMiss[k][i]==maxPreMissVal?"fontred":"")+'">'+preMiss[k][i]+"</span>"),void 0!==curMiss[k][i]&&conHtml.push('<span class="'+(curMiss[k][i]==maxCurMissVal?"fontred":"")+'">'+curMiss[k][i]+"</span>"),void 0!==hapPro[k][i]&&conHtml.push('<span class="'+(hapPro[k][i]==maxHapProVal?"fontred":"")+'">'+hapPro[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},ssqTrendObj.createLRLIst=function(data){var titleHtml=new Array,conHtml=new Array,num30Data=data[30],num50Data=data[50],num100Data=data[100],missData=data.miss,titleData=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];titleHtml.push("<div>"),conHtml.push('<div style="width:'+(this.createFormatPage(this.maxPage)>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage)).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage)).toFixed(2))+'px;">');for(var i=0,ilen=titleData.length;i<ilen;i++){titleHtml.push('<p data-i="'+i+'" class="qh_con'+(i%2?"":" odd")+'"><span>'+titleData[i]+'</span><span class="line fl"><em class="dot"></em></span></p>'),conHtml.push('<div data-i="'+i+'" class="clearfix'+(i%2?"":" odd")+'">');for(var k=0,klen=missData.length;k<klen;k++){var maxnum30Val=eval("Math.max("+num30Data[k]+")"),maxnum50Val=eval("Math.max("+num50Data[k]+")"),maxnum100Val=eval("Math.max("+num100Data[k]+")"),maxmissVal=eval("Math.max("+missData[k]+")");conHtml.push('<div class="trend_num trend_yl" style="width:'+this.conWidth+'px;">'),void 0!==num30Data[k][i]&&conHtml.push('<span class="'+(num30Data[k][i]==maxnum30Val?"fontred":"")+'">'+num30Data[k][i]+"</span>"),void 0!==num50Data[k][i]&&conHtml.push('<span class="'+(num50Data[k][i]==maxnum50Val?"fontred":"")+'">'+num50Data[k][i]+"</span>"),void 0!==num100Data[k][i]&&conHtml.push('<span class="'+(num100Data[k][i]==maxnum100Val?"fontred":"")+'">'+num100Data[k][i]+"</span>"),
void 0!==missData[k][i]&&conHtml.push('<span class="'+(missData[k][i]==maxmissVal?"fontred":"")+'">'+missData[k][i]+"</span>"),conHtml.push("</div>")}conHtml.push("</div>")}conHtml.push("</div>"),titleHtml.push("</div>"),this.listConObj.html(conHtml.join("")),this.listFirstObj.html(titleHtml.join(""))},ssqTrendObj.createExplain=function(){var a=this.postData.trendName,b=this[a+"ExplainData"];if(!b)return this.explainObj.hide(),!1;this.explainObj.show();for(var c=new Array,d=0,e=b.length;d<e;d++)c.push('<p><span class="mr10">['+b[d].title+"]</span>"+b[d].con+"</p>");this.explainObj.html(c.join(""))},ssqTrendObj.createBetDom=function(){var a=this.postData.trendType,b=this.createFormatData(this.betData[a]),c=this.betTitle[a][this.createFormatNowPage(this.page)],d=new Array;d.push('<div class="clearfix" style="width:'+(this.createFormatPage(this.maxPage,"bet")>1?((this.conWidth+this.borderWidth)*this.createFormatPage(this.maxPage,"bet")).toFixed(2):(this.conWidth*this.createFormatPage(this.maxPage,"bet")).toFixed(2))+'px;">');for(var e=0,f=b.length;e<f;e++){var g="";switch(this.postData.trendName){case"HM":g=e>=3?"numblue  fontblue":"";break;case"YL":case"LR":g=1==e?"numblue  fontblue":""}d.push('<div class="trend_num fontred trend_w'+b[e].length+" "+g+'" style="width:'+this.conWidth+'px;">');for(var h=0,i=b[e].length;h<i;h++)d.push('<span data-t="'+this.createFormatBet(h,"bet")+'" data-i="'+this.createFormatI(e)+'" data-k="'+this.createFormatKey(e,h)+'"><em '+(this.selectBetData[e]&&this.selectBetData[e][h]?"class='on'":"")+">"+b[e][h]+"</em></span>");d.push("</div>")}d.push("</div>"),this.betFirstObj.html(c),this.betConObj.html(d.join("")),this.createBetscroll()},ssqTrendObj.createListHeight=function(){var a=this.betObj.height();"HM"==this.postData.trendName?this.conHeight=Number(this.clientHeight-101-78):this.conHeight=Number(this.clientHeight-101-138);var b=this.conHeight-a,c=this.listConObj.children("div").height()||0;0!=c&&c<b&&(b=c),this.listConObj.height(b),this.listFirstObj.height(b),this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listIscroll&&this.listIscroll.refresh()},ssqTrendObj.createListTitleIscroll=function(){this.listTitleIscroll&&this.listTitleIscroll.refresh(),this.listTitleIscroll=new iScroll(this.listFirstObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){ssqTrendObj.listIscroll.scrollTo(ssqTrendObj.listIscroll.x,this.y)},onMomentum:function(){ssqTrendObj.listIscroll.scrollTo(ssqTrendObj.listIscroll.x,this.y,this.duration)}});var a=this.listFirstObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listTitleIscroll.scrollTo(0,-1*a)},ssqTrendObj.createTitleIscroll=function(){this.titleIscroll&&this.titleIscroll.refresh(),this.titleIscroll=new iScroll(this.titleConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){ssqTrendObj.listIscroll.scrollTo(this.x,ssqTrendObj.listIscroll.y),ssqTrendObj.betIscroll.scrollTo(this.x,ssqTrendObj.betIscroll.y),ssqTrendObj.updatePage(this.x),ssqTrendObj.updateHeight()},onMomentum:function(){ssqTrendObj.listIscroll.scrollTo(this.x,ssqTrendObj.listIscroll.y,this.duration),ssqTrendObj.betIscroll.scrollTo(this.x,ssqTrendObj.betIscroll.y,this.duration),ssqTrendObj.updatePage(this.x),ssqTrendObj.updateHeight()}})},ssqTrendObj.createListIscroll=function(){this.listIscroll&&this.listIscroll.refresh(),this.listIscroll=new iScroll(this.listConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){ssqTrendObj.titleIscroll.scrollTo(this.x,ssqTrendObj.titleIscroll.y),ssqTrendObj.betIscroll.scrollTo(this.x,ssqTrendObj.betIscroll.y),ssqTrendObj.listTitleIscroll.scrollTo(ssqTrendObj.listTitleIscroll.x,this.y),ssqTrendObj.updatePage(this.x),ssqTrendObj.updateHeight()},onMomentum:function(){ssqTrendObj.titleIscroll.scrollTo(this.x,ssqTrendObj.titleIscroll.y,this.duration),ssqTrendObj.betIscroll.scrollTo(this.x,ssqTrendObj.betIscroll.y,this.duration),ssqTrendObj.listTitleIscroll.scrollTo(ssqTrendObj.listTitleIscroll.x,this.y,this.duration),ssqTrendObj.updatePage(this.x),ssqTrendObj.updateHeight()}});var a=this.listConObj.children("div").height()-this.conHeight;a=a<0?0:a,this.listIscroll.scrollTo(0,-1*a)},ssqTrendObj.createBetscroll=function(){this.betIscroll&&this.betIscroll.refresh(),this.betIscroll=new iScroll(this.betConObj[0],{hScrollbar:!1,vScrollbar:!1,bounce:!1,momentum:!1,onScrollMove:function(){if(!("YL"!=ssqTrendObj.postData.trendName&&"LR"!=ssqTrendObj.postData.trendName||"IH"!=ssqTrendObj.postData.trendType&&"UH3"!=ssqTrendObj.postData.trendType&&"UH6"!=ssqTrendObj.postData.trendType))return!1;ssqTrendObj.listIscroll.scrollTo(this.x,ssqTrendObj.listIscroll.y),ssqTrendObj.titleIscroll.scrollTo(this.x,ssqTrendObj.titleIscroll.y),ssqTrendObj.updatePage(this.x),ssqTrendObj.updateHeight()},onMomentum:function(){if(!("YL"!=ssqTrendObj.postData.trendName&&"LR"!=ssqTrendObj.postData.trendName||"IH"!=ssqTrendObj.postData.trendType&&"UH3"!=ssqTrendObj.postData.trendType&&"UH6"!=ssqTrendObj.postData.trendType))return!1;ssqTrendObj.listIscroll.scrollTo(this.x,ssqTrendObj.listIscroll.y,this.duration),ssqTrendObj.titleIscroll.scrollTo(this.x,ssqTrendObj.titleIscroll.y,this.duration),ssqTrendObj.updatePage(this.x),ssqTrendObj.updateHeight()}})},ssqTrendObj.updatePage=function(a){var b=Math.abs(a);this.page=Math.floor(b/this.conWidth);var c=this[this.postData.trendName+"TitleFirst"][this.postData.trendType][this.page];if("HM"==this.postData.trendName)var d=this.betTitle[this.postData.trendType][this.page];else if(0==this.page)var d=this.betTitle[this.postData.trendType][0];else if(1==this.page)var d=this.betTitle[this.postData.trendType][3];this.titleFirstObj.html(c),this.betFirstObj.html(d),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.createFormatNowPage(this.page)+'"]').addClass("on")},ssqTrendObj.updateTrendName=function(a){a.siblings("li").removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.postData.trendName=b,this.temSortDom=this.titleFirstObj,"LR"!=b||this.temLRTrendData?this.temTrendData?(this.page=0,this.createDataDom()):(this.page=0,this.maxPage=0,this.ajaxGetData()):(this.page=0,this.maxPage=0,this.ajaxGetLRData()),this.betFirstObj.html(this.betTitle[this.postData.trendType][this.createFormatNowPage(this.page)]),this.selectObj.children("div").removeClass("on"),this.selectObj.children('div[data-i="'+this.createFormatNowPage(this.page)+'"]').addClass("on")},ssqTrendObj.updatelottery=function(a){var b=a.attr("data-v"),c=a.attr("data-cn");this.playTitleObj.html("双色球-"+c+'<em class="down"></em>'),this.postData.trendType=b,this.temSortDom=this.titleFirstObj,this.updataPlayObj.hide(),this.playTitleObj.attr("data-s","0"),$("#ssqTrend_upBGObj").length&&$("#ssqTrend_upBGObj").remove(),this.temTrendData="",this.temLRTrendData="",this.page=0,this.maxPage=0,"LR"==this.postData.trendName?this.ajaxGetLRData():this.ajaxGetData(),this.selectBetData=new Array,this.createSelectBetDom()},ssqTrendObj.sortDom=function(a){if("HM"==this.postData.trendName)return!1;var b=a.attr("data-k").split("@"),c=b[0],d=b[1];if("title"==c)var e=this.betData[this.postData.trendType][this.createFormatNowPage(this.page)];else if("YL"==this.postData.trendName)var e=this.temTrendData[c][d].concat([]);else if("LR"==this.postData.trendName)var e=this.temLRTrendData[c][d].concat([]);this.temSortDom&&this.temSortDom.index(a)<0&&(this.temSortDom.removeClass("sortObj"),this.temSortDom.removeClass("fontblue"),this.temSortDom.find("i").html("↑")),a.hasClass("fontblue")?a.hasClass("sortObj")?(a.removeClass("fontblue"),a.removeClass("sortObj"),a.find("i").html("↑"),this.sortData(e,"old")):(a.addClass("sortObj"),a.find("i").html("↓"),this.sortData(e,"up")):(a.addClass("fontblue"),a.find("i").html("↑"),this.sortData(e,"down")),this.temSortDom=a},ssqTrendObj.sortData=function(a,b){for(var c=this.listConObj.children("div").children("div"),d=c.sort(function(c,d){var e=Number($(c).attr("data-i")),f=Number($(d).attr("data-i"));return"down"==b?(a[e]?a[e]:0)-(a[f]?a[f]:0):"up"==b?(a[f]?a[f]:0)-(a[e]?a[e]:0):"old"==b?e-f:void 0}),e=this.listFirstObj.children("div").children("p"),f=0,g=d.length;f<g;f++){var h=d.eq(f).attr("data-i"),i=e.filter("[data-i='"+h+"']");"none"!=d.eq(f).css("display")&&(f%2?(d.eq(f).removeClass("odd"),i.removeClass("odd")):(d.eq(f).addClass("odd"),i.addClass("odd"))),this.listConObj.children("div").append(d.eq(f)),this.listFirstObj.children("div").append(i)}},ssqTrendObj.betNum=function(a){var b=a.attr("data-i"),c=a.attr("data-k"),d=a.children("em");d.hasClass("on")?(d.removeClass("on"),delete this.selectBetData[b][c]):(d.addClass("on"),this.selectBetData[b]||(this.selectBetData[b]=new Array),this.selectBetData[b][c]=this.betData[this.postData.trendType][b][c])},ssqTrendObj.createSubData=function(){for(var a=[],b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){var d=[];if(!this.selectBetData[b]||!this.selectBetData[b].length)return $.alertMsg("请至少选择1注"),!1;for(var e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(!d.length||d.length<this.betNumData[this.postData.trendType][b])return $.alertMsg("请至少选择1注"),!1;d.length&&a.push(d.join(","))}var g=this.getZS();return"FP2"!=this.postData.trendType&&"FP3"!=this.postData.trendType||0!=g?(a.push(this.postData.trendType),a.push(g),a.join("|")):($.alertMsg("请每位至少选择1个不同的号码"),!1)},ssqTrendObj.getCXY=function(a,b){if(a<b)return 0;for(var c=1,d=1,e=0,f=b;e<f;e++)c*=a-e,d*=b-e;return c/d},ssqTrendObj.createMoneyDom=function(){var a=this.getZS();this.betMoneyObj.html('<span class="fontred">'+a+'</span>注 <span class="fontred">'+2*a+"</span>元")},ssqTrendObj.getZS=function(){switch(this.postData.trendType){case"P":return ssqTrendObj.PBonus()}},ssqTrendObj.PBonus=function(){for(var a,b=0,c=this.betNumData[this.postData.trendType].length;b<c;b++){if(!this.selectBetData[b]||!this.selectBetData[b].length)return 0;for(var d=[],e=0,f=this.selectBetData[b].length;e<f;e++)this.selectBetData[b][e]&&d.push(this.selectBetData[b][e]);if(d.length<this.betNumData[this.postData.trendType][b])return 0;var g=this.getCXY(d.length,this.betNumData[this.postData.trendType][b]);a=a?a*g:g}return a},ssqTrendObj.subData=function(a){if(a.attr("data-stop"))return $.alertMsg("不在开售时间"),!1;var b=this.createSubData();if(!b)return!1;switch(window.localStorage.setItem(this.postData.lottery_type+"lotteryBetData",b),this.postData.lottery_type){case"ssq":this.goSsqConfirm()}},ssqTrendObj.goSsqConfirm=function(){var a=this;ssqConfirmObj.goBack=function(){ssqTrendObj.show()},ssqConfirmObj.show("reload",function(){ssqConfirmObj.setData({lotteryType:a.postData.lottery_type,lotteryCnName:"双色球",lotteryNo:a.postData.lotteryNoVal,lotteryPlay:a.postData.trendType})})},ssqTrendObj.delAll=function(){this.selectBetData=new Array,this.betConObj.find("span[data-i]").each(function(){$(this).children("em").removeClass("on")})},ssqTrendObj.createGetData=function(){return"?lotteryType="+this.postData.lottery_type+"&lotteryNo="+this.postData.lotteryNoVal+"&lotteryPlay="+this.postData.trendType+"&res=trend"},ssqTrendObj.createSelectBetDom=function(){for(var a=[],b=0,c=this.selectBetData.length;b<c;b++)if(this.selectBetData[b]){for(var d=['<div data-i="'+b+'" class="fl ts_num'+(this.createFormatNowPage(this.page)==b?" on":"")+(0==b?" fontred":" fontblue")+'">'],e=0,f=0,g=this.selectBetData[b].length;e<g;e++)this.selectBetData[b][e]&&(d.push("<span>"+this.selectBetData[b][e]+"</span>"),f++);d.push("</div>"),f&&a.push(d.join(""))}else a.push('<div class="fl ts_num'+(this.page==b?" on":"")+'"></div>');a.length&&this.selectObj.html(a.join('<em class="shu">|</em>')),this.betObj[a.length?"show":"hide"](),this.qhObj[a.length?"hide":"show"](),this.betMoneyObj[a.length?"show":"hide"](),this.createListHeight()},ssqTrendObj.updateData=function(a){a.siblings("span").removeClass("on"),a.addClass("on")},ssqTrendObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.createListHeight(),this.ajaxGetData()},ssqTrendObj.init=function(){ssqTrendObj.setDefConfig(),ssqTimeObj.setDefConfig(),ssqTrendObj.onloadExecution(),ssqTimeObj.init()},ssqTrendObj.destroy=function(){ssqTrendObj.setDefConfig(),ssqTimeObj.setDefConfig(),$("#ssqTrend").html("").remove()};var indexNewsObj=new PageController({name:"indexNews",tpl:"template/news/indexNews.html"});indexNewsObj.createDomObj=function(){this.wrapperObj=$("#newsIdx_wrapperObj"),this.bannerImgObj=$("#newsIdx_bannerImgObj"),this.bannerDivObj=this.bannerImgObj.parent()},indexNewsObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return indexNewsObj.goBack(),!0;case"home":return Global.GC(),homeObj.show(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"tit":return indexNewsObj.switchNews(c),!0;case"link":return indexNewsObj.goBannerNews(c.attr("data-v")),!0;case"tab":return indexNewsObj.goList(c),!0}}var f=$.oto_checkEvent(a,"DL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return indexNewsObj.goDetail(c),!0}}}),window.onscroll=function(){if(!indexNewsObj.checkPage)return!1;"none"!=$("#newsIdx").css("display")&&indexNewsObj.updatePage()},$("#newsIdx_wrap").dropload({scrollArea:window,distance:200,loadUpFn:function(a){indexNewsObj.page=0,indexNewsObj.getData(),indexNewsObj.getNews(),indexNewsObj.pullLoad=a}})},indexNewsObj.updatePage=function(){var a=document.body.scrollTop,b=document.documentElement.scrollHeight||document.body.scrollHeight;a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getNews())},indexNewsObj.goList=function(a){var b=a.attr("data-v"),c=a.text();newsListObj.goBack=function(){newsListObj.destroy(),indexNewsObj.show()},newsListObj.show("",function(){newsListObj.getData(b,c)})},indexNewsObj.goBannerNews=function(a){if("null"!=a){var b=function(a){var b=a.split("/");return{path:b[0],id:b[4]}}(a);newsDetailObj.goBack=function(){newsDetailObj.destroy(),indexNewsObj.show()},newsDetailObj.show("",function(){newsDetailObj.getData(b.id)})}},indexNewsObj.goDetail=function(a){var b=a.attr("data-id");newsDetailObj.goBack=function(){newsDetailObj.destroy(),indexNewsObj.show()},newsDetailObj.show("",function(){newsDetailObj.getData(b)})},indexNewsObj.switchNews=function(a){var b=a.attr("data-v");a.hasClass("on")||($("#newsIdx_tab li").removeClass("on"),a.addClass("on"),$("#newsIdx_list").html('<p class="loading_3"></p>'),this.type=b,this.page=0,this.getNews())},indexNewsObj.getData=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getPageInfo",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?(indexNewsObj.createBanner(a.info.img_info.list),indexNewsObj.setName(a.info)):$.alertMsg(a.code_str),indexNewsObj.pullLoad&&indexNewsObj.pullLoad.resetload()}})},indexNewsObj.setName=function(a){a.category_conf&&($("#newsIdx_tab_jryw").html(a.category_conf[1].catname),$("#newsIdx_tab_jryw").parents("li").attr("data-v",a.category_conf[1].catid),$("#newsIdx_tab_szc").html(a.category_conf[2].catname),$("#newsIdx_tab_szc").parents("li").attr("data-v",a.category_conf[2].catid),$("#newsIdx_tab_jjc").html(a.category_conf[3].catname),$("#newsIdx_tab_jjc").parents("li").attr("data-v",a.category_conf[3].catid),$("#newsIdx_tab_zxgg").html(a.category_conf[4].catname),$("#newsIdx_tab_zxgg").parents("li").attr("data-v",a.category_conf[4].catid)),a.local_news_name&&$("#newsIdx_zxxx").html(a.local_news_name),a.init_category_id&&$("#newsIdx_zxxx").parents("li").attr("data-v",a.init_category_id)},indexNewsObj.getNews=function(){this.checkPage=!1;var a={category_id:indexNewsObj.type?indexNewsObj.type:1,page:indexNewsObj.page,page_size:indexNewsObj.page_size,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getList",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.list.length<indexNewsObj.page_size?indexNewsObj.checkPage=!1:indexNewsObj.checkPage=!0,indexNewsObj.formatHtml(a.list),indexNewsObj.saveLocalData()):$.alertMsg(a.code_str)}})},indexNewsObj.saveLocalData=function(){localStorage.setItem(ConfigObj.appName+"_newsIdx_top10",$("#newsIdx_list").html())},indexNewsObj.formatHtml=function(a){if(a.length){for(var b="",c=0;c<a.length;c++){var d=a[c];b+='<dl class="clearfix" data-t="detail" data-id="'+d.uuid+'" data-url="'+d.detailurl+'"><dt><img src="'+d.thumb+'"></dt><dd><h3>'+d.title+'</h3><p class="font9 font12">'+d.description+"</p></dd></dl>"}0==this.page?$("#newsIdx_list").html(b):$("#newsIdx_list").append(b),$("#newsIdx_list .loading_3").remove()}},indexNewsObj.createBannerHeight=function(){var a=$("body").width(),b=a/this.defBannerImgProportion;this.bannerImgObj.css("height",b+"px"),this.bannerDivObj.css("height",b+"px")},indexNewsObj.createBanner=function(a){for(var b=[],c=['<div class="page_scroll"><p class="page">'],d=0,e=a.length;d<e;d++)b.push('<li data-t="link" data-v="'+a[d].link_url+'"><img src="'+a[d].img_url+'"></li>'),c.push('<a href="javascript:void(0);" class="dot'+(0==d?" on":"")+'"></a>');c.push("</p></div>"),this.bannerImgObj.html(b.join("")),this.bannerImgObj.after(c.join("")),this.bannerNavObj=this.bannerImgObj.next().find("a"),this.bannerSwipeSlide()},indexNewsObj.bannerSwipeSlide=function(){this.bannerDivObj.swipeSlide({continuousScroll:!0,speed:6e3,lazyLoad:!0,callback:function(a){indexNewsObj.bannerNavObj.removeClass("on"),indexNewsObj.bannerNavObj.eq(a).addClass("on")}})},indexNewsObj.initLocalHtml=function(){var a=localStorage.getItem(ConfigObj.appName+"_newsIdx_top10");a&&$("#newsIdx_list").html(a)},indexNewsObj.setDefConfig=function(){this.defBannerImgProportion=640/378,this.clientHeight=document.documentElement.clientHeight,this.page=0,this.type=1,this.page_size=10,window.onscroll=null},indexNewsObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.createBannerHeight(),this.initLocalHtml(),this.getData(),this.getNews()},indexNewsObj.init=function(){indexNewsObj.setDefConfig(),indexNewsObj.onloadExecution()};var newsDetailObj=new PageController({name:"newsDetail",tpl:"template/news/newsDetail.html"});newsDetailObj.createDomObj=function(){this.wrapperObj=$("#newsDetail_wrapperObj")},newsDetailObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return newsDetailObj.goBack(),!0;case"share":return newsDetailObj.share(),!0}}var e=$.oto_checkEvent(a,"FIELDSET");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"adUrl":return newsDetailObj.goAd(c),!0}}}),$("#newsDetail_wrap").dropload({scrollArea:window,distance:200,loadUpFn:function(a){newsDetailObj.getData(newsDetailObj.id),newsDetailObj.pullLoad=a}})},newsDetailObj.goAd=function(a){var b=a.attr("data-v"),c=a.attr("data-type");if(!b)return!1;c&&"in"==c?homeObj.lotteryHref(a):Global.openUrl(b)},newsDetailObj.share=function(){var a={url:newsDetailObj.shareUrl?newsDetailObj.shareUrl:"",title:newsDetailObj.shareTitle,content:newsDetailObj.shareContent,domId:"newsDetail"};Global.socialShare(a)},newsDetailObj.getData=function(a,b){this.id=a;var c={uuid:a,category_id:b,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getDetail",data:c,type:"post",dataType:"json",success:function(a){"0000"==a.code?newsDetailObj.formatHtml(a.info):$.alertMsg(a.code_str),newsDetailObj.pullLoad&&newsDetailObj.pullLoad.resetload()}})},newsDetailObj.formatHtml=function(a){if($("#newsDetail_topTit").html(a.catname),$("#newsDetail_title").html(a.title),$("#newsDetail_time").html(a.add_time),$("#newsDetail_source").html(a.source),$("#newsDetail_content").html(a.content),this.shareTitle=a.title,this.shareUrl=a.share_url,this.shareImg=a.thumb,$("#newsDetail_content").find("p")[0]){var b=$("#newsDetail_content").find("p")[0],c=$(b).text();c.length>50&&(c=c.substr(0,50)+"..."),this.shareContent=c}},newsDetailObj.getAd=function(){var a={limit:1,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=User.News.getAdvertInfo",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?newsDetailObj.formatAdHtml(a.list):$.alertMsg(a.code_str),newsDetailObj.pullLoad&&newsDetailObj.pullLoad.resetload()}})},newsDetailObj.formatAdHtml=function(a){var b="";if(a.length>0){for(var c=0;c<a.length;c++)b+='<fieldset class="news-ad" data-t="adUrl" data-type="'+a[c].app_url_type+'" data-v="'+a[c].app_url+'"><legend>赞助商提供</legend><div><img src="'+a[c].img_url+'"></div><span class="ad-tag">广告</span></fieldset>';$("#newsDetail_ad").html(b).show()}else $("#newsDetail_ad").html("").hide()},newsDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},newsDetailObj.init=function(){this.setDefConfig(),newsDetailObj.onloadExecution()},newsDetailObj.setDefConfig=function(){this.shareUrl="",this.shareTitle="",this.shareImg="",this.shareContent=""},newsDetailObj.dirShow=function(a){var b=this;b.show("",function(){b.getData(a.id)})};var newsIdxObj=new PageController({name:"newsIdx",tpl:"template/news/newsIdx.html",initScrollTop:!0});newsIdxObj.createDomObj=function(){this.wrapperObj=$("#newsIdx_wrapperObj"),this.bannerImgObj=$("#newsIdx_bannerImgObj"),this.bannerDivObj=this.bannerImgObj.parent()},newsIdxObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return newsIdxObj.goBack(),!0;case"home":return Global.GC(),homeObj.show(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"tit":return newsIdxObj.switchNews(c),!0;case"link":return newsIdxObj.goBannerNews(c.attr("data-v")),!0;case"tab":return newsIdxObj.goList(c),!0}}var f=$.oto_checkEvent(a,"DL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return newsIdxObj.goDetail(c),!0}}}),window.onscroll=function(){if(!newsIdxObj.checkPage)return!1;"none"!=$("#newsIdx").css("display")&&newsIdxObj.updatePage()},$("#newsIdx_wrap").dropload({scrollArea:window,distance:200,loadUpFn:function(a){newsIdxObj.page=0,newsIdxObj.getData(),newsIdxObj.getNews(),newsIdxObj.pullLoad=a}})},newsIdxObj.updatePage=function(){var a=document.body.scrollTop,b=document.documentElement.scrollHeight||document.body.scrollHeight;a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getNews())},newsIdxObj.goList=function(a){var b=a.attr("data-v"),c=a.text();newsListObj.goBack=function(){newsListObj.destroy(),newsIdxObj.show()},newsListObj.show("",function(){newsListObj.getData(b,c)})},newsIdxObj.goBannerNews=function(a){if("null"!=a){var b=function(a){var b=a.split("/");return{path:b[0],id:b[4]}}(a);newsDetailObj.goBack=function(){newsDetailObj.destroy(),newsIdxObj.show()},newsDetailObj.show("",function(){newsDetailObj.getData(b.id)})}},newsIdxObj.goDetail=function(a){var b=a.attr("data-id");newsDetailObj.goBack=function(){newsDetailObj.destroy(),newsIdxObj.show()},newsDetailObj.show("",function(){newsDetailObj.getData(b)})},newsIdxObj.switchNews=function(a){var b=a.attr("data-v");a.hasClass("on")||($("#newsIdx_tab li").removeClass("on"),a.addClass("on"),$("#newsIdx_list").html('<p class="loading_3"></p>'),this.type=b,this.page=0,this.getNews())},newsIdxObj.getData=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getPageInfo",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?(newsIdxObj.createBanner(a.info.img_info.list),newsIdxObj.setName(a.info)):$.alertMsg(a.code_str),newsIdxObj.pullLoad&&newsIdxObj.pullLoad.resetload()}})},newsIdxObj.setName=function(a){a.category_conf&&($("#newsIdx_tab_jryw").html(a.category_conf[1].catname),$("#newsIdx_tab_jryw").parents("li").attr("data-v",a.category_conf[1].catid),$("#newsIdx_tab_szc").html(a.category_conf[2].catname),$("#newsIdx_tab_szc").parents("li").attr("data-v",a.category_conf[2].catid),$("#newsIdx_tab_jjc").html(a.category_conf[3].catname),$("#newsIdx_tab_jjc").parents("li").attr("data-v",a.category_conf[3].catid),$("#newsIdx_tab_zxgg").html(a.category_conf[4].catname),$("#newsIdx_tab_zxgg").parents("li").attr("data-v",a.category_conf[4].catid)),a.local_news_name&&$("#newsIdx_zxxx").html(a.local_news_name),a.init_category_id&&$("#newsIdx_zxxx").parents("li").attr("data-v",a.init_category_id)},newsIdxObj.getNews=function(){this.checkPage=!1;var a={category_id:newsIdxObj.type?newsIdxObj.type:1,page:newsIdxObj.page,page_size:newsIdxObj.page_size,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getList",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.list.length<newsIdxObj.page_size?newsIdxObj.checkPage=!1:newsIdxObj.checkPage=!0,newsIdxObj.formatHtml(a.list),newsIdxObj.saveLocalData()):$.alertMsg(a.code_str)}})},newsIdxObj.saveLocalData=function(){localStorage.setItem(ConfigObj.appName+"_newsIdx_top10",$("#newsIdx_list").html())},newsIdxObj.formatHtml=function(a){if(a.length){for(var b="",c=0;c<a.length;c++){var d=a[c];b+='<dl class="clearfix" data-t="detail" data-id="'+d.uuid+'" data-url="'+d.detailurl+'"><dt><img src="'+d.thumb+'"></dt><dd><h3>'+d.title+'</h3><p class="font9 font12">'+d.description+"</p></dd></dl>"}0==this.page?$("#newsIdx_list").html(b):$("#newsIdx_list").append(b),$("#newsIdx_list .loading_3").remove()}},newsIdxObj.createBannerHeight=function(){var a=$("body").width(),b=a/this.defBannerImgProportion;this.bannerImgObj.css("height",b+"px"),this.bannerDivObj.css("height",b+"px")},newsIdxObj.createBanner=function(a){for(var b=[],c=['<div class="page_scroll"><p class="page">'],d=0,e=a.length;d<e;d++)b.push('<li data-t="link" data-v="'+a[d].link_url+'"><img src="'+a[d].img_url+'"></li>'),c.push('<a href="javascript:void(0);" class="dot'+(0==d?" on":"")+'"></a>');c.push("</p></div>"),this.bannerImgObj.html(b.join("")),this.bannerImgObj.after(c.join("")),this.bannerNavObj=this.bannerImgObj.next().find("a"),this.bannerSwipeSlide()},newsIdxObj.bannerSwipeSlide=function(){this.bannerDivObj.swipeSlide({continuousScroll:!0,speed:6e3,lazyLoad:!0,callback:function(a){newsIdxObj.bannerNavObj.removeClass("on"),newsIdxObj.bannerNavObj.eq(a).addClass("on")}})},newsIdxObj.initLocalHtml=function(){var a=localStorage.getItem(ConfigObj.appName+"_newsIdx_top10");a&&$("#newsIdx_list").html(a)},newsIdxObj.setDefConfig=function(){this.defBannerImgProportion=640/378,this.clientHeight=document.documentElement.clientHeight,this.page=0,this.type=1,this.page_size=10,window.onscroll=null},newsIdxObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.createBannerHeight(),this.initLocalHtml(),this.getData(),this.getNews()},newsIdxObj.init=function(){newsIdxObj.setDefConfig(),newsIdxObj.onloadExecution()};var newsListObj=new PageController({name:"newsList",tpl:"template/news/newsList.html"});newsListObj.createDomObj=function(){this.wrapperObj=$("#newsList_wrapperObj")},newsListObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return newsListObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DL");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return newsListObj.goDetail(c),!0}}}),window.onscroll=function(){if(!newsListObj.checkPage)return!1;"none"!=$("#newsList").css("display")&&newsListObj.updatePage()},$("#newsList_wrap").dropload({scrollArea:window,distance:200,loadUpFn:function(a){newsListObj.page=0,newsListObj.getData(),newsListObj.pullLoad=a}})},newsListObj.updatePage=function(){var a=document.body.scrollTop,b=document.documentElement.scrollHeight||document.body.scrollHeight;a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getData())},newsListObj.goDetail=function(a){var b=a.attr("data-id");newsDetailObj.goBack=function(){newsDetailObj.destroy(),newsListObj.show()},newsDetailObj.show("",function(){newsDetailObj.getData(b,newsListObj.type)})},newsListObj.getData=function(a,b){a&&(this.type=a),b&&(this.title=b),this.checkPage=!1;var c={category_id:newsListObj.type?newsListObj.type:"",page:newsListObj.page,page_size:newsListObj.page_size,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getList",data:c,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.list.length<newsListObj.page_size?newsListObj.checkPage=!1:newsListObj.checkPage=!0,newsListObj.formatHtml(a.list)):$.alertMsg(a.code_str),newsListObj.pullLoad&&newsListObj.pullLoad.resetload()}})},newsListObj.formatHtml=function(a){if(a.length){for(var b="",c=0;c<a.length;c++){var d=a[c];b+='<dl class="clearfix" data-t="detail" data-id="'+d.uuid+'" data-url="'+d.detailurl+'"><dt><img src="'+d.thumb+'"></dt><dd><h3>'+d.title+'</h3><p class="font9 font12">'+d.description+"</p></dd></dl>"}0==this.page?$("#newsList_list").html(b):$("#newsList_list").append(b),$("#newsList_topTit").html(newsListObj.title),$("#newsList_list .loading_1").remove()}},newsListObj.setDefConfig=function(){this.page=0,this.type="",this.title="",this.page_size=10,window.onscroll=null},newsListObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},newsListObj.init=function(){newsListObj.setDefConfig(),newsListObj.onloadExecution()};var buyOpenTicketObj=new PageController({name:"buyOpenTicket",tpl:"template/numlottery/buyOpenTicket.html"});buyOpenTicketObj.createDomObj=function(){this.wrapObj=$("#buyOpenTicket_wrapperObj")},buyOpenTicketObj.createEvent=function(){this.wrapObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return buyOpenTicketObj.goBack(),!0;case"buy":return buyOpenTicketObj.buyItem(c),!0;case"title":return buyOpenTicketObj.toggle(c),!0;case"showBuyList":return buyOpenTicketObj.showBuyList(c),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"minus":return buyOpenTicketObj.minusFun(c),!0;case"add":return buyOpenTicketObj.addFun(c),!0;case"botMinus":return buyOpenTicketObj.minusFun2(c),!0;case"botAdd":return buyOpenTicketObj.addFun2(c),!0;case"send":return buyOpenTicketObj.sendFun(c),!0;case"clear":return buyOpenTicketObj.showTipOne(c),!0;case"submit":return buyOpenTicketObj.showTipTwo(c),!0;case"record":return buyOpenTicketObj.goRecord(c),!0;case"img":return buyOpenTicketObj.goImgDetail(c),!0}}var f=$.oto_checkEvent(a,"A");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"hideTipOne":return buyOpenTicketObj.hideTipOne(c),!0;case"confirmTipOne":return buyOpenTicketObj.clearList(),buyOpenTicketObj.hideTipOne(c),!0;case"hideTipTwo":return buyOpenTicketObj.hideTipTwo(c),!0;case"confirmTipTwo":return buyOpenTicketObj.submitFun(),buyOpenTicketObj.hideTipTwo(c),!0}}}),$("#buyOpenTicket_listWrap").unbind("tap").tap(function(){$("#buyOpenTicket_buyListWrap").hide()})},buyOpenTicketObj.showTipOne=function(a){$("#buyOpenTicket_tipOne").show()},buyOpenTicketObj.hideTipOne=function(a){$("#buyOpenTicket_tipOne").hide()},buyOpenTicketObj.goImgDetail=function(a){var b=a.attr("data-id");otImgDetailObj.goBack=function(){otImgDetailObj.destroy(),buyOpenTicketObj.show()},otImgDetailObj.show("",function(){otImgDetailObj.getData(b)})},buyOpenTicketObj.goRecord=function(){buyOpenTicketObj.clearList(),openTicketRecordObj.show("",function(){openTicketRecordObj.pushRoute(function(){buyOpenTicketObj.show()})})},buyOpenTicketObj.showTipTwo=function(){$("#buyOpenTicket_tipTwo").show()},buyOpenTicketObj.hideTipTwo=function(){$("#buyOpenTicket_tipTwo").hide()},buyOpenTicketObj.submitFun=function(){if(0==this.money)return $.alertMsg("至少选择1份"),!1;this.clearList(),ticketCashierObj.goBack=function(){Global.GC(),homeObj.show()},ticketCashierObj.show("",function(){ticketCashierObj.demo({})})},buyOpenTicketObj.clearList=function(){this.wrapObj.find("input[data-t=val]").val(0),this.wrapObj.find("p[data-t=buy]").show(),this.wrapObj.find("p[data-t=modify]").hide(),this.calcMoney()},buyOpenTicketObj.showBuyList=function(){$("#buyOpenTicket_buyListWrap").toggle()},
buyOpenTicketObj.toggle=function(a){var b=a.next(".js_wrap");"none"==b.css("display")?(b.show(),a.find(".arrow").addClass("trans")):(b.hide(),a.find(".arrow").removeClass("trans"))},buyOpenTicketObj.sendFun=function(a){$("#buyOpenTicket_sendWrap").find("span").removeClass("on"),a.addClass("on")},buyOpenTicketObj.minusFun2=function(a){var b=a.parent("p"),c=b.find("input"),d=c.attr("data-subid"),e=this.wrapObj.find("input[data-id="+d+"]");buyOpenTicketObj.minusFun(e)},buyOpenTicketObj.addFun2=function(a){var b=a.parent("p"),c=b.find("input"),d=c.attr("data-subid"),e=this.wrapObj.find("input[data-id="+d+"]");buyOpenTicketObj.addFun(e)},buyOpenTicketObj.minusFun=function(a){var b=a.parent("p"),c=b.find("input"),d=c.val(),e=d-1;e>0?c.val(e):(c.val(0),b.hide(),b.prev("p").show()),this.calcMoney()},buyOpenTicketObj.addFun=function(a){var b=a.parent("p"),c=b.find("input"),d=c.val(),e=Number(d)+1;c.val(e),this.calcMoney()},buyOpenTicketObj.buyItem=function(a){var b=a.parent("div"),c=b.find("p[data-t=modify]");a.hide(),c.show(),c.find("input").val(1),this.calcMoney()},buyOpenTicketObj.calcMoney=function(){var a=this.wrapObj.find("input[data-t=val]"),b=0,c=0,d="";a.each(function(a,e){var f=$(e);if(f.val()>0){var g=parseInt(f.val()),h=parseInt(f.attr("data-price")),i=f.attr("data-name"),j=g*h,k=f.attr("data-id");b+=g,c+=j,d+='<div class="item clearfix"><span class="gray fl">'+i+'</span><span class="gray fl">￥'+h+'</span><div class="fl center w40"><p class="jipt clearfix"><span data-t="botMinus">-</span><input type="text" value="'+g+'" data-subid="'+k+'"><span data-t="botAdd">+</span></p></div></div>'}}),$("#buyOpenTicket_count").html(b),$("#buyOpenTicket_money").html(c),$("#buyOpenTicket_buyList").html(d),b>0?$("#buyOpenTicket_shop").show():$("#buyOpenTicket_shop").hide(),this.money=c},buyOpenTicketObj.setDefConfig=function(){this.money=0},buyOpenTicketObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},buyOpenTicketObj.init=function(){this.setDefConfig(),buyOpenTicketObj.onloadExecution()},buyOpenTicketObj.goBack=function(){this.popRoute()},buyOpenTicketObj.destroy=function(){this.setDefConfig(),$("#buyOpenTicket").html("").remove(),this.routeArr=[]},buyOpenTicketObj.dirShow=function(){buyOpenTicketObj.show()};var d3Obj=new NumberLottery({name:"d3",tpl:"template/numlottery/d3.html"});d3Obj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="IP",this.lotteryType="d3",this.lotteryCnName="福彩3D",this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=new Array(1,1,1),this.lotteryMaxNum=new Array(10,10,10),this.lotteryBallNum=new Array(10,10,10),this.lotteryPlayCnName={IP:"直选",UP3:"组三",UP6:"组六",IH:"直选和值",UH3:"组三和值",UH6:"组六和值"},this.lotterySelectTips={IP:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 每位至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UP3:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选2个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UP6:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选3个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),IH:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UH3:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UH6:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>')},this.lotteryBetError={IP:["至少选择1个百位号码","至少选择1个十位号码","至少选择1个个位号码"],UP3:["至少选择2个号码"],UP6:["至少选择3个号码"],IH:["至少选择1个号码"],UH3:["至少选择1个号码"],UH6:["至少选择1个号码"]},this.bonusTips={IP:'选号与开奖号码按位相符即中<span class="fontred">1040__</span>元',UP3:'开奖号码为组三且包含在选号中即中<span class="fontred">346__</span>元',UP6:'开奖号码为组六且包含在选号中即中<span class="fontred">173__</span>元',IH:'开奖号码和值与所选和值相同即中<span class="fontred">1040__</span>元',UH3:'开奖号码为组三且和值与所选和值相同即中<span class="fontred">346__</span>元',UH6:'开奖号码为组六且和值与所选和值相同即中<span class="fontred">173__</span>元'},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(d3Obj.scheduleInterval),this.scheduleInterval=""),this.hasChartData=""},d3Obj.createDomObj=function(){this.lotteryDomObj=$("#d3_lotteryObj"),this.updataPlayObj=$("#d3_updataPlayObj"),this.topMenuObj=$("#d3_topMenuLayer"),this.topDescObj=$("#d3_topDesc"),this.jxObj=$("#d3_jxLayer"),this.chartListObj=$("#d3_chartList"),this.zhushuObj=$("#d3_zhushuObj"),this.moneyObj=$("#d3_moneyObj"),this.ddTipsObj=$("#d3_ddTipsObj"),this.playTitleObj=$("#d3_playTitleObj"),this.selectDivObj=$("#d3_lotteryObj .selectObj"),this.selTitleObj=$("#d3_lotteryObj .selTitleObj"),this.betWrap=$("#d3_betWrap")},d3Obj.funObj={updatePlayData:function(a){this.playTitleObj.html(this.lotteryCnName+"-"+this.lotteryPlayCnName[a]+'<em class="down"></em>'),this.clearBetLottery(),this.updateBetDom(a),this.updateClassData(a),this.updateBonusTips(a),this.createSelectTitleHtml()},updateClassData:function(a){switch(this.lotteryRandomNum=new Array,this.lotteryPlay=a,a){case"IP":this.updateIPData();break;case"UP3":this.updateUP3Data();break;case"UP6":this.updateUP6Data();break;case"IH":this.updateIHData();break;case"UH3":this.updateUH3Data();break;case"UH6":this.updateUH6Data()}},updateIPData:function(){this.lotteryMinNum=new Array(1,1,1),this.lotteryMaxNum=new Array(10,10,10),this.lotteryBallNum=new Array(10,10,10),this.selectDivObj=this.temBetObj.find(".selectObj")},updateUP3Data:function(){this.lotteryMinNum=[2],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.selectDivObj=this.temBetObj.find(".selectObj")},updateUP6Data:function(){this.lotteryMinNum=[3],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.selectDivObj=this.temBetObj.find(".selectObj")},updateIHData:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[28],this.lotteryBallNum=[28],this.selectDivObj=this.temBetObj.find(".selectObj")},updateUH3Data:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[26],this.lotteryBallNum=[26],this.selectDivObj=this.temBetObj.find(".selectObj")},updateUH6Data:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[22],this.lotteryBallNum=[22],this.selectDivObj=this.temBetObj.find(".selectObj")},updateBetDom:function(a){this.betObj||(this.betObj=$("#d3 .betObj")),$("#d3 .betObj").hide(),$("#d3 .betObj").filter('[data-v="'+a+'"]').get(0).style.display="block",this.temBetObj=$("#d3 .betObj").filter('[data-v="'+a+'"]'),this.temQuickTipsObj&&(this.temQuickTipsObj.removeClass("showObj"),this.temQuickTipsObj.next().hide())},updateBonusTips:function(a){d3Obj.bonusTipsObj||(d3Obj.bonusTipsObj=$("#d3_bonusTipsObj"));var b={},c=0;if(0==!ConfigObj.lotteryAddPrize){var d=JSON.parse(localStorage.getItem("lotteryAddPrize"));d.D3&&(b=d.D3),b[a]&&(c=b[a])}c?$("#d3_bonusTipsObj").html(d3Obj.bonusTips[a].replace("__",c)):$("#d3_bonusTipsObj").html(d3Obj.bonusTips[a].replace("__",""))}};for(var i in d3Obj.funObj)d3Obj[i]=d3Obj.funObj[i];var dltObj=new NumberLottery({name:"dlt",tpl:"template/numlottery/dlt.html"});dltObj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="P",this.lotteryType="dlt",this.lotteryCnName="大乐透",this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=new Array(5,2),this.lotteryMaxNum=new Array(18,12),this.lotteryBallNum=new Array(35,12),this.lotteryPlayCnName={P:"普通",D:"胆拖"},this.lotteryBetError={P:["至少选择5个前区号码","至少选择2个后区号码"],D:["至少选择5个前区号码","至少选择2个后区号码"],DD:["前区胆码+拖码至少6个","后区胆码+拖码至少3个"]},this.betCnName=["前区","后区"],this.lotterySelectTips={P:new Array('<p><span class="fontred font14"><b>·</b> 前区</span> 选择5-18个号码</p><div class="tit_rt"><div class="jixuan"><span data-t="random" data-k="0"><em class="icon phone"></em>机选</span><span data-t="redjx" data-k="0" data-v="5"><em class="jsJxNum">5</em>个<em class="arrow"></em></span></div></div>','<p><span class="fontred font14"><b>·</b> 后区</span> 选择2-12个号码</p><div class="tit_rt"><div class="jixuan"><span data-t="random" data-k="1"><em>机选</em></span><span data-t="bluejx" data-k="1" data-v="2"><em class="jsJxNum">2</em>个<em class="arrow"></em></span></div></div>'),D:new Array('<div class="tit gray"><p><span class="fontred font14"><b>·</b> 前区</span> 胆码1-4个，拖码+胆码至少6个</p><div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>','<p><span class="fontred font14"><b>·</b> 后区</span> 胆码1个，拖码至少2个</p></div>')},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(dltObj.scheduleInterval),this.scheduleInterval=""),this.hasChartData=""},dltObj.createDomObj=function(){this.lotteryDomObj=$("#dlt_lotteryObj"),this.updataPlayObj=$("#dlt_updataPlayObj"),this.topMenuObj=$("#dlt_topMenuLayer"),this.topDescObj=$("#dlt_topDesc"),this.jxObj=$("#dlt_jxLayer"),this.chartListObj=$("#dlt_chartList"),this.zhushuObj=$("#dlt_zhushuObj"),this.moneyObj=$("#dlt_moneyObj"),this.ddTipsObj=$("#dlt_ddTipsObj"),this.playTitleObj=$("#dlt_playTitleObj"),this.selectDivObj=$("#dlt_lotteryObj .selectObj"),this.selTitleObj=$("#dlt_lotteryObj .selTitleObj"),this.betWrap=$("#dlt_betWrap")};var fastBetObj=new NumberLottery({name:"fastBet",tpl:"template/numlottery/fastBet.html"});fastBetObj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="R2",this.lotteryType=ConfigObj.fastLotType,this.lotteryCnName="11选5","gd11x5"==this.lotteryType?this.lotteryCnName="广东11选5":"gx11x5"==this.lotteryType&&(this.lotteryCnName="广西11选5"),this.checkP=!0,this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=[2],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.lotteryPlayCnName={R2:"任二",R3:"任三",R4:"任四",R5:"任五",R6:"任六",R7:"任七",R8:"任八",FP1:"前一",FP2:"前二直",FC2:"前二组",FP3:"前三直",FC3:"前三组"},this.lotteryBetError={R2:["至少选择2个号码"],R3:["至少选择3个号码"],R4:["至少选择4个号码"],R5:["至少选择5个号码"],R6:["至少选择6个号码"],R7:["至少选择7个号码"],R8:["至少选择8个号码"],FP1:["至少选1个号码"],FP2:["至少选择1个第一位号码","至少选择1个第二位号码"],FC2:["至少选择2个号码"],FP3:["至少选择1个第一位号码","至少选择1个第二位号码","至少选择1个第三位号码"],FC3:["至少选择3个号码"]},this.lotterySelectTips={R2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选2个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选3个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R4:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选4个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R5:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选5个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R6:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选6个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R7:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选7个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R8:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选8个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),FP1:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),FP2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 每位至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),FC2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选2个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),FP3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 每位至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),FC3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选3个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>')},this.lotterySelectDanTips={R2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1个，胆拖+拖码至少3个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),R3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-2个，胆拖+拖码至少4个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),R4:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-3个，胆拖+拖码至少5个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),R5:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-4个，胆拖+拖码至少6个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),R6:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-5个，胆拖+拖码至少7个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),R7:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-6个，胆拖+拖码至少8个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),R8:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-7个，胆拖+拖码至少9个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),FC2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1个，胆拖+拖码至少3个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),FC3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-2个，胆拖+拖码至少4个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>')},this.bonusTips={R2:'选号与任意2个开奖号码相符即中<span class="fontred">6__</span>元',R3:'选号与任意3个开奖号码相符即中<span class="fontred">19__</span>元',R4:'选号与任意4个开奖号码相符即中<span class="fontred">78__</span>元',R5:'选号与开奖号码相符即中<span class="fontred">540__</span>元',R6:'选号与开奖号码相符即中<span class="fontred">90__</span>元',R7:'选号与开奖号码相符即中<span class="fontred">26__</span>元',R8:'选号与开奖号码相符即中<span class="fontred">9__</span>元',FP1:'所选号码与开奖号码第一位号码相同<span class="fontred">13__</span>元',FP2:'所选号码与开奖号码前两位号码相同（且顺序一致）<span class="fontred">130__</span>元',FC2:'所选号码与开奖号码前两位号码相同（顺序不限）<span class="fontred">65__</span>元',FP3:'所选号码与开奖号码前三位号码相同（且顺序一致）<span class="fontred">1170__</span>元',FC3:'所选号码与开奖号码前三位号码相同（顺序不限）<span class="fontred">195__</span>元'},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.correctTimeObj&&(clearInterval(fastBetObj.correctTimeObj),this.correctTimeObj=""),this.nowTimeObj&&(clearInterval(fastBetObj.nowTimeObj),this.nowTimeObj=""),this.syTimeObj&&(clearInterval(fastBetObj.syTimeObj),this.syTimeObj=""),this.hasChartData="",this.updateLotteryMyScroll="",this.nowTime=(new Date).getTime(),this.syTime=0,this.updateLotteryCG=21e4,this.updateLotteryCGInterval=3e4,this.updateLotteryNoInterval=3e4,this.correctInterval=1e4,this.errorTime=1e4,this.syTimeObj="",this.nowTimeObj="",this.getTimeObj="",this.getCGObj="",this.stop=!1,this.tips=!0},fastBetObj.createDomObj=function(){this.lotteryDomObj=$("#fastBet_lotteryObj"),this.updataPlayObj=$("#fastBet_updataPlayObj"),this.topMenuObj=$("#fastBet_topMenuLayer"),this.topDescObj=$("#fastBet_topDesc"),this.jxObj=$("#fastBet_jxLayer"),this.chartListObj=$("#fastBet_chartList"),this.zhushuObj=$("#fastBet_zhushuObj"),this.moneyObj=$("#fastBet_moneyObj"),this.ddTipsObj=$("#fastBet_ddTipsObj"),this.playTitleObj=$("#fastBet_playTitleObj"),this.selectDivObj=$("#fastBet_lotteryObj .selectObj"),this.selTitleObj=$("#fastBet_lotteryObj .selTitleObj"),this.qhObj=$("#fastBet_qhObj"),this.subObj=$("#fastBet_subObj"),this.betWrap=$("#fastBet_betWrap")},fastBetObj.updatePlayData=function(a){1==this.isFastDan?fastBetObj.R2Bonus=fastBetObj.DBonus:fastBetObj.R2Bonus=fastBetObj.PBonus,fastBetObj.R3Bonus=fastBetObj.R2Bonus,fastBetObj.R4Bonus=fastBetObj.R2Bonus,fastBetObj.R5Bonus=fastBetObj.R2Bonus,fastBetObj.R6Bonus=fastBetObj.R2Bonus,fastBetObj.R7Bonus=fastBetObj.R2Bonus,fastBetObj.R8Bonus=fastBetObj.R2Bonus,fastBetObj.FC2Bonus=fastBetObj.R2Bonus,fastBetObj.FC3Bonus=fastBetObj.R2Bonus,a=a.replace("_D","");var b=1==this.isFastDan?"胆拖":"";this.playTitleObj.html(this.lotteryCnName+"-"+this.lotteryPlayCnName[a]+b+'<em class="down"></em>'),this.clearBetLottery(),this.updateBetDom(a),this.updateClassData(a),this.updateBonusTips(a),this.createSelectTitleHtml(),this.updateHaoMaSJ(a,this.isFastDan),"1"===$("#fastBet_showSYXWCharList").attr("data-s")&&fastBetObj.getCG(1)},fastBetObj.updateHaoMaSJ=function(a,b){a=a.toLowerCase(),Global.post("?m=lottery."+this.lotteryType+".getHaoMaSJ",{type:a,isDan:b},function(b){if($ball=$(".ball"),$div=$('.betObj[data-v="'+a.toUpperCase()+'"]>fieldset>div:first-of-type'),$p=$div.find("p"),"0000"==b.code&&b.info&&b.info.length){if($ball.css("margin-right","5px"),$div.css("margin-left","0"),$xhtip=$p.find(".xhtip"),!$xhtip.length){$p.prepend('<span class="xhtip"></span>');for(var c=0;c<12;c++)c%4==1&&$p.find(".xhtip").eq(c).text("遗漏")}$ballsj=$("."+a+"sj .ballsj"),b.info.forEach(function(a,b){$ballsj[b].innerHTML=a})}else $ball.css("margin-right","10px"),$div.css("margin","0 auto"),$xhtip=$p.find(".xhtip"),$xhtip.length&&$xhtip.remove()})},fastBetObj.updateClassData=function(a){switch(this.lotteryRandomNum=new Array,this.lotteryPlay=a,a){case"R2":this.updateR2Data();break;case"R3":this.updateR3Data();break;case"R4":this.updateR4Data();break;case"R5":this.updateR5Data();break;case"R6":this.updateR6Data();break;case"R7":this.updateR7Data();break;case"R8":this.updateR8Data();break;case"FP1":this.updateFP1Data();break;case"FP2":this.updateFP2Data();break;case"FC2":this.updateFC2Data();break;case"FP3":this.updateFP3Data();break;case"FC3":this.updateFC3Data()}},fastBetObj.updateR2Data=function(){this.lotteryMinNum=[2],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateR3Data=function(){this.lotteryMinNum=[3],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateR4Data=function(){this.lotteryMinNum=[4],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateR5Data=function(){this.lotteryMinNum=[5],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateR6Data=function(){this.lotteryMinNum=[6],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateR7Data=function(){this.lotteryMinNum=[7],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateR8Data=function(){this.lotteryMinNum=[8],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateFP1Data=function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateFP2Data=function(){this.lotteryMinNum=[1,1],this.lotteryMaxNum=[11,11],this.lotteryBallNum=[11,11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateFC2Data=function(){this.lotteryMinNum=[2],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateFP3Data=function(){this.lotteryMinNum=[1,1,1],this.lotteryMaxNum=[11,11,11],this.lotteryBallNum=[11,11,11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateFC3Data=function(){this.lotteryMinNum=[3],this.lotteryMaxNum=[11],this.lotteryBallNum=[11],this.selectDivObj=this.temBetObj.find(".selectObj")},fastBetObj.updateBetDom=function(a){this.betObj||(this.betObj=$("#fastBet .betObj")),$("#fastBet .betObj").hide(),$("#fastBet .betObj").filter('[data-v="'+a+'"]').get(0).style.display="block",this.temBetObj=$("#fastBet .betObj").filter('[data-v="'+a+'"]'),this.temQuickTipsObj&&(this.temQuickTipsObj.removeClass("showObj"),this.temQuickTipsObj.next().hide())},fastBetObj.updateBonusTips=function(a){var b=$("#fastBet_bonusTipsObj"),c=this.lotteryType.toUpperCase();this.bonusTipsObj||(this.bonusTipsObj=b);var d={},e=0,f=JSON.parse(localStorage.getItem("lotteryAddPrize"));0==!ConfigObj.lotteryAddPrize&&(f[c]&&(d=f[c]),d[a]&&(e=d[a])),e?b.html(this.bonusTips[a].replace("__",e)):b.html(this.bonusTips[a].replace("__",""))},fastBetObj.getClientTime=function(){return(new date).getTime()},fastBetObj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},fastBetObj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+ConfigObj.fastLotApi[ConfigObj.fastLotType].scheme,data:"",type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),fastBetObj.getTimeObj=setTimeout(function(){fastBetObj.getLotteryData()},fastBetObj.updateLotteryNoInterval),!1):(a.info=a.info=$.parseJSON(Global.crypt(a.info)),"Y"==a.info.stop?(fastBetObj.stop=!0,fastBetObj.qhObj.html("每天09:00-23:00销售"),fastBetObj.setData(a.info),fastBetObj.resetSetTime(),fastBetObj.subObj.attr("data-stop","1"),!1):(fastBetObj.subObj.removeAttr("data-stop"),fastBetObj.stop=!1,fastBetObj.getTimeObj&&(clearTimeout(fastBetObj.getTimeObj),fastBetObj.getTimeObj=""),void(fastBetObj.lotteryNoChange&&a.info.lotteryNo!=fastBetObj.lotteryNo?(fastBetObj.setData(a.info),fastBetObj.lotteryNoChange(a.info),fastBetObj.resetSetTime(),$("#syxwPlan").length>0&&syxwPlanObj.lotteryNoChange(a.info)):(fastBetObj.setData(a.info),fastBetObj.resetSetTime()))))}})},fastBetObj.lotteryNoChange=function(a){fastBetObj.lotteryNo=a.lotteryNo,$("#fastBetConfirm").length>0&&fastBetConfirmObj.updBetTipsObj&&fastBetConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},fastBetObj.getNumberLotteryData=function(){return{lotteryType:fastBetObj.lotteryType,lotteryNo:fastBetObj.lotteryNo,lotteryPlay:fastBetObj.lotteryPlay}},fastBetObj.getCG=function(a,b){a=a||this.updateLotteryCG,fastBetObj.getCGObj=setTimeout(function(){var a=fastBetObj.getNumberLotteryData(),c={lottery_type:a.lotteryType,trendType:a.lotteryPlay};b&&"append"===b&&(c.lottery_no=a.lotteryNo,c.last_result=1);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastLotApi[ConfigObj.fastLotType].chart,data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),fastBetObj.getCG(fastBetObj.updateLotteryCGInterval,b),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.list.length?(fastBetObj.getCGObj&&(clearTimeout(fastBetObj.getCGObj),fastBetObj.getCGObj=""),void fastBetObj.setCGDom(a.info.list,b)):(fastBetObj.getCG(fastBetObj.updateLotteryCGInterval,b),!1))}})},a)},fastBetObj.setCGDom=function(a,b){fastBetObj.fastFormatList(a,b)},fastBetObj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},fastBetObj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},fastBetObj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){fastBetObj.nowTime+=1e3},1e3)},fastBetObj.correctTime=function(){fastBetObj.correctTimeObj=setInterval(function(){var a=(new Date).getTime();if(!fastBetObj.syTime)return!1;Math.abs(a-fastBetObj.nowTime)>fastBetObj.errorTime&&fastBetObj.getLotteryData()},this.correctInterval)},fastBetObj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a){var b=Global.getActivePage();return b.length&&"fastBet"==b[0].id&&$.alertMsg("当前期已经结束，自动切换到可购买期"),fastBetObj.syTimeObj&&clearTimeout(fastBetObj.syTimeObj),fastBetObj.syTimeObj="","1"===$("#fastBet_showSYXWCharList").attr("data-s")&&fastBetObj.getCG(fastBetObj.updateLotteryCG,"append"),fastBetObj.setLotteryNoTipsHtml(),fastBetObj.getLotteryData(),!1}if(!fastBetObj.stop){var c=a%60,d=(a-c)/60;c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e="第"+fastBetObj.lotteryNo+'期 <span class="fontred">距离截止'+d+":"+c+"</span>";fastBetObj.qhObj.html(e),$("#syxwPlan").length>0&&syxwPlanObj.qhObj.html(e)}a--,fastBetObj.syTime--},1e3)},fastBetObj.chartScroll=function(){fastBetObj.updateLotteryMyScroll=new iScroll($("#fastBet_chartScroll")[0],{hScrollbar:!1,hScroll:!0,vScroll:!1})},fastBetObj.init=function(){this.setDefConfig(),this.createDomObj(),this.createEvent(),this.updateBet(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0),this.chartScroll()};var fastK3Obj=new NumberLottery({name:"fastK3",tpl:"template/numlottery/fastK3.html"});fastK3Obj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="SUM",this.lotteryType=ConfigObj.fastK3Type,this.lotteryCnName="快3",this.checkP=!0,this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=[1],this.lotteryMaxNum=[14],this.lotteryBallNum=[14],this.lotteryPlayCnName={SUM:"和值",TX:"三同号","TXD-TX":"三同号",TXS2:"二同号","TXD2-TXS2":"二同号","BT3-LTX":"三不同",BT3:"三不同",BT2:"二不同",LTX:"三不同"},this.lotteryBetNumArr={SUM:[[0]],"TXD-TX":[[0],[1]],"TXD2-TXS2":[[0,1],[2]],"BT3-LTX":[[0],[1]],BT3:[[0]],BT2:[[0]]},this.isFastDan=!1,"jxk3"==this.lotteryType?this.lotteryCnName="江西快3":"gxk3"==this.lotteryType?this.lotteryCnName="广西快3":"jlk3"==this.lotteryType&&(this.lotteryCnName="吉林快3"),$("#fastK3_playTitleObj").html(this.lotteryCnName+'-和值<em class="down"></em>'),this.lotteryBetError={SUM:["至少选择1个号码"],TX:["至少选择1个号码"],LTX:["至少选择1个号码"],TXD:["至少选择1个号码"],TXS2:["至少选择1个号码"],TXD2:["至少选择1个同号","至少选择1个不同号"],BT3:["至少选择3个号码"],BT2:["至少选择2个号码"]},this.lotterySelectTips={SUM:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),TX:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),LTX:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),"TXD-TX":new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),TXS2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),"TXD2-TXS2":new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 选择同号和不同号</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),"BT3-LTX":new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选3个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),BT2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选2个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>')},this.lotterySelectDanTips={BT3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1-2个，胆码+拖码至少4个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>'),BT2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 胆码1个，胆码+拖码至少3个</p> <div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>')},this.bonusTips={SUM:'预期奖金<span class="fontred">9</span>-<span class="fontred">240</span>元',TX:'选号与开奖号码相符即中<span class="fontred">40</span>元',TXD:'选号与开奖号码相符即中<span class="fontred">240</span>元',TXS2:'选号与开奖号码的重号相同即中<span class="fontred">15</span>元',TXD2:'选号不按位与开奖号码相符即中<span class="fontred">80</span>元',BT3:'选号与开奖号码相符即中<span class="fontred">40</span>元',BT2:'选号与开奖号码中任意2个相符即中<span class="fontred">8</span>元'},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.correctTimeObj&&(clearInterval(fastK3Obj.correctTimeObj),this.correctTimeObj=""),this.nowTimeObj&&(clearInterval(fastK3Obj.nowTimeObj),this.nowTimeObj=""),this.syTimeObj&&(clearInterval(fastK3Obj.syTimeObj),this.syTimeObj=""),this.hasChartData="",this.updateLotteryMyScroll="",this.nowTime=(new Date).getTime(),this.syTime=0,this.updateLotteryCG=21e4,this.updateLotteryCGInterval=3e4,this.updateLotteryNoInterval=3e4,this.correctInterval=1e4,this.errorTime=1e4,this.syTimeObj="",this.nowTimeObj="",this.getTimeObj="",this.getCGObj="",this.stop=!1,this.tips=!0},fastK3Obj.createDomObj=function(){this.lotteryDomObj=$("#fastK3_lotteryObj"),this.updataPlayObj=$("#fastK3_updataPlayObj"),this.topMenuObj=$("#fastK3_topMenuLayer"),this.topDescObj=$("#fastK3_topDesc"),this.jxObj=$("#fastK3_jxLayer"),this.chartListObj=$("#fastK3_chartList"),this.zhushuObj=$("#fastK3_zhushuObj"),this.moneyObj=$("#fastK3_moneyObj"),this.ddTipsObj=$("#fastK3_ddTipsObj"),this.playTitleObj=$("#fastK3_playTitleObj"),this.selectDivObj=$("#fastK3_lotteryObj .selectObj"),this.selTitleObj=$("#fastK3_lotteryObj .selTitleObj"),this.qhObj=$("#fastK3_qhObj"),this.subObj=$("#fastK3_subObj"),this.betWrap=$("#fastK3_betWrap")},fastK3Obj.checkK3SubType=function(a){var b=a.parents(".betObj"),c=b.attr("data-v");"TX"==c&&this.updatePlayData("TX"),"TXD"==c&&"TX"==this.lotteryPlay&&this.updatePlayData("TXD"),"TXD2"==c&&"TXS2"==this.lotteryPlay&&this.updatePlayData("TXD2"),"TXS2"==c&&"TXD2"==this.lotteryPlay&&this.updatePlayData("TXS2"),"LTX"==c&&"BT3"==this.lotteryPlay&&this.updatePlayData("LTX"),"BT3"==c&&"LTX"==this.lotteryPlay&&this.updatePlayData("BT3")},fastK3Obj.updatePlayData=function(a){1==this.isFastDan?(fastK3Obj.BT3Bonus=fastK3Obj.DBonus,fastK3Obj.BT2Bonus=fastK3Obj.DBonus):(fastK3Obj.BT3Bonus=fastK3Obj.BT3_Bonus,fastK3Obj.BT2Bonus=fastK3Obj.BT2_Bonus),a=a.replace("_D","");var b=1==this.isFastDan?"胆拖":"";this.playTitleObj.html(this.lotteryCnName+"-"+this.lotteryPlayCnName[a]+b+'<em class="down"></em>'),
this.clearBetLottery(),this.updateBetDom(a),this.updateClassData(a),this.updateBonusTips(a),this.createSelectTitleHtml(),"1"===$("#fastK3_showK3CharList").attr("data-s")&&fastK3Obj.getCG(1)},fastK3Obj.updateClassData=function(a){switch(this.lotteryRandomNum=new Array,this.lotteryPlay=a,a){case"SUM":this.updateSUMData();break;case"TX":this.updateTXData();break;case"TXD-TX":this.updateTXDTXData();break;case"TXD2-TXS2":this.updateTXD2TXS2Data();break;case"BT3-LTX":this.updateBT3LTXData();break;case"BT2":this.updateBT2Data();break;case"BT3":this.updateBT3Data();break;case"LTX":this.updateLTXData()}},fastK3Obj.updateSUMData=function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[14],this.lotteryBallNum=[14],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateTXData=function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[1],this.lotteryBallNum=[1],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateLTXData=function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[1],this.lotteryBallNum=[1],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateTXDData=function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[6],this.lotteryBallNum=[6],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateTXS2Data=function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[6],this.lotteryBallNum=[6],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateTXD2Data=function(){this.lotteryMinNum=[1,1],this.lotteryMaxNum=[6,6],this.lotteryBallNum=[6,6],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateBT3Data=function(){this.lotteryMinNum=[3],this.lotteryMaxNum=[6],this.lotteryBallNum=[6],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateTXD2TXS2Data=function(){this.lotteryMinNum=[1,1,1],this.lotteryMaxNum=[6,6,6],this.lotteryBallNum=[6,6,6],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateBT3LTXData=function(){this.lotteryMinNum=[3,1],this.lotteryMaxNum=[6,1],this.lotteryBallNum=[6,1],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateTXDTXData=function(){this.lotteryMinNum=[1,1],this.lotteryMaxNum=[6,1],this.lotteryBallNum=[6,1],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateBT2Data=function(){this.lotteryMinNum=[2],this.lotteryMaxNum=[6],this.lotteryBallNum=[6],this.selectDivObj=this.temBetObj.find(".selectObj")},fastK3Obj.updateBetDom=function(a){this.betObj||(this.betObj=$("#fastK3 .betObj")),$("#fastK3 .betObj").hide(),-1==a.indexOf("-")&&$("#fastK3 .betObj").filter('[data-v="'+a+'"]').length&&($("#fastK3 .betObj").filter('[data-v="'+a+'"]').get(0).style.display="block"),"TXD2-TXS2"==a&&($("#fastK3 .betObj").filter('[data-v="TXD2-TXS2"]').get(0).style.display="block"),"BT3-LTX"==a&&($("#fastK3 .betObj").filter('[data-v="BT3-LTX"]').get(0).style.display="block"),"TXD-TX"==a&&($("#fastK3 .betObj").filter('[data-v="TXD-TX"]').get(0).style.display="block"),this.temBetObj=$("#fastK3 .betObj").filter('[data-v="'+a+'"]'),this.temQuickTipsObj&&(this.temQuickTipsObj.removeClass("showObj"),this.temQuickTipsObj.next().hide())},fastK3Obj.updateBonusTips=function(a){this.bonusTipsObj||(this.bonusTipsObj=$("#fastK3_bonusTipsObj")),$("#fastK3_bonusTipsObj").html(this.bonusTips[a])},fastK3Obj.getClientTime=function(){return(new date).getTime()},fastK3Obj.setLotteryNoTipsHtml=function(){this.qhObj.html("正在获取新的期号")},fastK3Obj.getLotteryData=function(a){$.ajax({url:ConfigObj.localSite+ConfigObj.fastK3Api[ConfigObj.fastK3Type].scheme,data:"",type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),fastK3Obj.getTimeObj=setTimeout(function(){fastK3Obj.getLotteryData()},fastK3Obj.updateLotteryNoInterval),!1):(a.info=$.parseJSON(Global.crypt(a.info)),"Y"==a.info.data.stop?(fastK3Obj.stop=!0,fastK3Obj.qhObj.html("每天09:28-22:28销售"),fastK3Obj.setData(a.info.data),fastK3Obj.resetSetTime(),fastK3Obj.subObj.attr("data-stop","1"),!1):(fastK3Obj.subObj.removeAttr("data-stop"),fastK3Obj.stop=!1,fastK3Obj.getTimeObj&&(clearTimeout(fastK3Obj.getTimeObj),fastK3Obj.getTimeObj=""),void(fastK3Obj.lotteryNoChange&&a.info.data.lotteryNo!=fastK3Obj.lotteryNo?(fastK3Obj.setData(a.info.data),fastK3Obj.resetSetTime(),fastK3Obj.lotteryNoChange(a.info.data)):(fastK3Obj.setData(a.info.data),fastK3Obj.resetSetTime()))))}})},fastK3Obj.lotteryNoChange=function(a){fastK3Obj.lotteryNo=a.lotteryNo,$("#fastK3Confirm").length>0&&fastK3ConfirmObj.updBetTipsObj&&fastK3ConfirmObj.updBetTipsObj.attr("data-no",a.lotteryNo)},fastK3Obj.getNumberLotteryData=function(){return{lotteryType:fastK3Obj.lotteryType,lotteryNo:fastK3Obj.lotteryNo,lotteryPlay:fastK3Obj.lotteryPlay}},fastK3Obj.getCG=function(a,b){a=a||this.updateLotteryCG,fastK3Obj.getCGObj=setTimeout(function(){var a=fastK3Obj.getNumberLotteryData(),c={lottery_type:a.lotteryType,trendType:"SUM"==this.lotteryPlay?"hz":"r"};b&&"append"===b&&(c.lottery_no=a.lotteryNo,c.last_result=1);var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+ConfigObj.fastK3Api[ConfigObj.fastK3Type].chart,data:d,type:"post",dataType:"json",success:function(a){return"0000"!==a.code?($.alertMsg(a.code_str),fastK3Obj.getCG(fastK3Obj.updateLotteryCGInterval,b),!1):(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.list.length?(fastK3Obj.getCGObj&&(clearTimeout(fastK3Obj.getCGObj),fastK3Obj.getCGObj=""),void fastK3Obj.setCGDom(a.info.list,b)):(fastK3Obj.getCG(fastK3Obj.updateLotteryCGInterval,b),!1))}})},a)},fastK3Obj.setCGDom=function(a,b){fastK3Obj.fastFormatList(a,b)},fastK3Obj.setData=function(a){this.nowTime=a.nowTime,this.syTime=a.syTime,this.lotteryNo=a.lotteryNo},fastK3Obj.resetSetTime=function(){this.nowTimeObj&&clearTimeout(this.nowTimeObj),this.syTimeObj&&clearTimeout(this.syTimeObj),this.nowTimeObj="",this.syTimeObj="",this.updateNowTime(),this.setSytimeDom()},fastK3Obj.updateNowTime=function(){this.nowTimeObj=setInterval(function(){fastK3Obj.nowTime+=1e3},1e3)},fastK3Obj.correctTime=function(){fastK3Obj.correctTimeObj=setInterval(function(){fastK3Obj.getLotteryData()},3e4)},fastK3Obj.setSytimeDom=function(){var a=this.syTime;this.syTimeObj=setInterval(function(){if(0==a){var b=Global.getActivePage();return b.length&&"fastK3"==b[0].id&&$.alertMsg("当前期已经结束，自动切换到可购买期"),fastK3Obj.syTimeObj&&clearTimeout(fastK3Obj.syTimeObj),fastK3Obj.syTimeObj="","1"===$("#fastK3_showSYXWCharList").attr("data-s")&&fastK3Obj.getCG(fastK3Obj.updateLotteryCG,"append"),fastK3Obj.setLotteryNoTipsHtml(),fastK3Obj.getLotteryData(),!1}if(!fastK3Obj.stop){var c=a%60,d=(a-c)/60;c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e="第"+fastK3Obj.lotteryNo+'期 <span class="fontred">距离截止'+d+":"+c+"</span>";fastK3Obj.qhObj.html(e)}a--,fastK3Obj.syTime--},1e3)},fastK3Obj.chartScroll=function(){fastK3Obj.updateLotteryMyScroll=new iScroll($("#fastK3_chartScroll")[0],{hScrollbar:!1,hScroll:!0,vScroll:!1})},fastK3Obj.SUMBonus=function(){return 1*this.lotteryBetNum[0]?this.lotteryBetNum[0]:0},fastK3Obj.BT3_Bonus=function(){return this.computeCombineNum(this.lotteryBetNum[0],3)},fastK3Obj.BT2_Bonus=function(){return this.computeCombineNum(this.lotteryBetNum[0],2)},fastK3Obj.computeCombineNum=function(a,b){var c=1,d=1;if(!a||!b)return 0;if(b>a)return 0;if(0==b)return 1;for(var e=0;e<b;e++)c*=a-e,d*=e+1;return c/d},fastK3Obj.checkK3Select=function(a){var b=a.attr("data-v"),c=(a.attr("data-k"),a.parent().attr("data-v")),d=a.parents(".betObj").attr("data-v"),e=!0,f="";if("TXD2-TXS2"==d){if(0==c&&this.lotteryBetData[1]&&this.lotteryBetData[1].length>0)for(var g=0;g<this.lotteryBetData[1].length;g++)this.lotteryBetData[1][g]&&-1!=b.indexOf(this.lotteryBetData[1][g])&&(e=!1,f="请选择一个不同号码");if(1==c&&this.lotteryBetData[0]&&this.lotteryBetData[0].length>0)for(var g=0;g<this.lotteryBetData[0].length;g++)this.lotteryBetData[0][g]&&-1!=this.lotteryBetData[0][g].indexOf(b)&&(e=!1,f="请选择一个不同号码")}return{isValid:e,msg:f}},fastK3Obj.quickSelectNum=function(a){var b=a.attr("data-v"),c=Number(a.parent().attr("data-k"));switch(this.clearOneBetLottery(c),b){case"d":this.quickSelectD(c);break;case"x":this.quickSelectX(c);break;case"q":this.quickSelectQ(c);break;case"j":this.quickSelectJ(c);break;case"o":this.quickSelectO(c);break;case"c":this.quickSelectC(c)}this.isRandom=!1},fastK3Obj.quickSelectD=function(a){for(var b=this.selectDivObj.eq(a).find("span"),c=0,d=b.length;c<d;c++){Number(b.eq(c).attr("data-v"))<11||this.selectNumber(b.eq(c))}},fastK3Obj.quickSelectX=function(a){for(var b=this.selectDivObj.eq(a).find("span"),c=0,d=b.length;c<d;c++){Number(b.eq(c).attr("data-v"))>=11||this.selectNumber(b.eq(c))}},fastK3Obj.createSubmitData=function(){var a=this.lotteryPlay.split("-"),b=this.getZhushu();if(b>this.maxZSVal)return[!1,"注数最多支持"+(this.maxZSVal/1e4).toFixed(0)+"万注"];if(b*this.lotteryOneMoney>this.maxMoneyVal)return[!1,"投注金额最大支持"+(this.maxMoneyVal/1e4).toFixed(0)+"万元"];for(var c=[],d=0,e=a.length;d<e;d++){for(var f=a[d],g=this.lotteryBetNumArr[this.lotteryPlay][d],h=[],i=[],j=0,k=g.length;j<k;j++){var l=g[j];if(this.lotteryBetData[l]){for(var m=[],n=[],o=0,p=this.lotteryBetData[l].length;o<p;o++)this.lotteryBetData[l][o]&&m.push(this.lotteryBetData[l][o]),this.lotteryBetData[l][o]&&this.lotteryBetData[l][o].indexOf("d-")>-1&&n.push(this.lotteryBetData[l][o]);if(b<=0&&m.length&&m.length<this.lotteryMinNum[j])return[!1,this.lotteryBetError[this.lotteryPlay][j]];m.length&&(h[j]=m.join(",")),n.length&&(i[j]=n.join(","))}}if(1==this.isFastDan&&0==i.length&&0==h.length)return[!1,"请至少选择1注"];if(1==this.isFastDan&&0==i.length&&0!=h.length)return[!1,"请至少选择一个胆码"];if(1==this.isFastDan){var q=h[0].split(",").length;if("BT3"==f&&q<4)return[!1,"胆码+拖码至少4个"];if("BT2"==f&&q<3)return[!1,"胆码+拖码至少3个"]}else if(0==b&&"TX"!=f&&"LTX"!=f&&"TXS2"!=f)return"BT3"==f||"TXD"==f?this.selectRandom($("<span data-k='0'></span>")):this.selectRandom(),this.setMoneyDom(),[!1,""];var r=this.getZhushu(f);if(r){var s="";this.isFastDan&&(s="_D"),h.push(f+s),h.push(r),c.push(h.join("|"))}}return c.join(";")},fastK3Obj.init=function(){this.setDefConfig(),this.createDomObj(),this.createEvent(),this.updateBet(),this.updateNowTime(),this.correctTime(),this.setLotteryNoTipsHtml(),this.getLotteryData(!0),this.chartScroll()};var hn4j1Obj=new NumberLottery({name:"hn4j1",tpl:"template/numlottery/hn4j1.html"});hn4j1Obj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.betCnName=[],this.lotteryPlay="D5",this.lotteryType="hn4j1",this.lotteryCnName="海南",this.lotteryNo="",this.checkP=!0,this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryBallWei=0,this.lotteryMinNum=[1,1,1,1,1],this.lotteryMaxNum=[10,10,10,10,10],this.lotteryBallNum=[10,10,10,10,10],this.lotteryPlayCnName={D5:"4+1",R4C3:"任4(3重)",R3C2:"任3(双重)",D4:"定位4",R4C2:"任4(2双重)",R3:"任3(单号)",D3:"定位3",R4C1:"任4(1双重)",R2C2:"任2(双重)",D2:"定位2",R4:"任4(单号)",R2:"任2(单号)",D1:"定位1",R3C3:"任3(3重)"},this.lotteryBetError={D5:["至少选择1个第一位号码","至少选择1个第二位号码","至少选择1个第三位号码","至少选择1个第四位号码","至少选择1个特别号码"],R4C3:["至少选择1个重号","至少选择1个单号"],R3C2:["至少选择1个重号","至少选择1个单号"],D4:["至少选择1个第一位号码","至少选择1个第二位号码","至少选择1个第三位号码","至少选择1个第四位号码"],R4C2:["至少选择2个号码"],R3:["至少选择3个号码"],D3:["必选3位，每位至少选择1个号码","必选3位，每位至少选择1个号码","必选3位，每位至少选择1个号码"],R4C1:["至少选择1个重号","至少选择2个单号"],R2C2:["至少选择1个重号","至少选择1个单号"],D2:["必选2位，每位至少选择1个号码","必选2位，每位至少选择1个号码"],R4:["至少选择4个号码"],R2:["至少选择2个号码"],D1:["必选1位，至少选择1个号码"],R3C3:["至少选择1个号码"]},this.lotterySelectTips={D5:new Array('<p><span class="fontred font14 mr10"><b>·</b></span>  每位至少选择1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),D4:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 每位至少选择1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R4:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选4个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R4C2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选2个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选3个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R3C3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R2C2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选择2个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R4C3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选择1个重号,1个单号</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R4C1:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选择1个重号，2个单号</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),R3C2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 至少选择1个重号，1个单号</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),D3:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 必选3位，每位至少选择1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),D2:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 必选2位，每位至少选择1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),D1:new Array('<p><span class="fontred font14 mr10"><b>·</b></span> 必选1位，至少选择1个号码</p><div class="tit_rt"><div class="jixuan p3"><span  data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>')},this.bonusTips={D5:'选号与开奖号码按位相符即中<span class="fontred">130000</span>元',D4:'选号与正选号码按位相符即中<span class="fontred">13000</span>元',R4:'选号各不相同且与正选号码相符即中<span class="fontred">540</span>元',R4C2:'选号两两相同且与正选号码相符即中<span class="fontred">2165</span>元',R3:'选号各不相同且与3个正选号相符即中<span class="fontred">62</span>元',R3C3:'选号完全相同且与3个正选号相符即中<span class="fontred">350</span>元',R2C2:'选号完全相同且与2个正选号相符即中<span class="fontred">24</span>元',R2:'选号各不相同且与3个正选号相符即中<span class="fontred">13</span>元',R4C3:'选号3个相同且与正选号码相符即中<span class="fontred">3250</span>元',R4C1:'选号仅两个相同且与正选号码相符即中<span class="fontred">1080</span>元',R3C2:'选号仅两个相同且与3个正选号相符即中<span class="fontred">122</span>元',D3:'选号与3个正选号码按位相符即中<span class="fontred">1300</span>元',D2:'选号与2个正选号码按位相符即中<span class="fontred">130</span>元',D1:'选号与1个正选号码按位相符即中<span class="fontred">13</span>元'},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(hn4j1Obj.scheduleInterval),this.scheduleInterval=""),this.hasChartData=""},hn4j1Obj.createDomObj=function(){this.lotteryDomObj=$("#hn4j1_lotteryObj"),this.updataPlayObj=$("#hn4j1_updataPlayObj"),this.topMenuObj=$("#hn4j1_topMenuLayer"),this.topDescObj=$("#hn4j1_topDesc"),this.jxObj=$("#hn4j1_jxLayer"),this.chartListObj=$("#hn4j1_chartList"),this.zhushuObj=$("#hn4j1_zhushuObj"),this.moneyObj=$("#hn4j1_moneyObj"),this.ddTipsObj=$("#hn4j1_ddTipsObj"),this.playTitleObj=$("#hn4j1_playTitleObj"),this.selectDivObj=$("#hn4j1_lotteryObj .selectObj"),this.selTitleObj=$("#hn4j1_lotteryObj .selTitleObj"),this.betWrap=$("#hn4j1_betWrap")},hn4j1Obj.funObj={updatePlayData:function(a){this.playTitleObj.html(this.lotteryCnName+"-"+this.lotteryPlayCnName[a]+'<em class="down"></em>'),this.clearBetLottery(),this.updateBetDom(a),this.updateClassData(a),this.updateBonusTips(a),this.createSelectTitleHtml()},updateClassData:function(a){switch(this.lotteryRandomNum=new Array,this.lotteryPlay=a,a){case"D5":this.updateD5Data();break;case"D4":this.updateD4Data();break;case"R4":this.updateR4Data();break;case"R4C2":this.updateR4C2Data();break;case"R3":this.updateR3Data();break;case"R3C3":this.updateR3C3Data();break;case"R2C2":this.updateR2C2Data();break;case"R2":this.updateR2Data();break;case"R4C3":this.updateR4C3Data();break;case"R4C1":this.updateR4C1Data();break;case"R3C2":this.updateR3C2Data();break;case"D3":this.updateD3Data();break;case"D2":this.updateD2Data();break;case"D1":this.updateD1Data()}},updateD5Data:function(){this.lotteryMinNum=[1,1,1,1,1],this.lotteryMaxNum=[10,10,10,10,10],this.lotteryBallNum=[10,10,10,10,10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateD4Data:function(){this.lotteryMinNum=[1,1,1,1],this.lotteryMaxNum=[10,10,10,10],this.lotteryBallNum=[10,10,10,10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR4Data:function(){this.lotteryMinNum=[4],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR4C2Data:function(){this.lotteryMinNum=[2],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR3Data:function(){this.lotteryMinNum=[3],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR3C3Data:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR2C2Data:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR2Data:function(){this.lotteryMinNum=[2],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR4C3Data:function(){this.lotteryMinNum=[1,1],this.lotteryMaxNum=[10,10],this.lotteryBallNum=[10,10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR4C1Data:function(){this.lotteryMinNum=[1,2],this.lotteryMaxNum=[10,10],this.lotteryBallNum=[10,10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateR3C2Data:function(){this.lotteryMinNum=[1,1],this.lotteryMaxNum=[10,10],this.lotteryBallNum=[10,10],this.lotteryBallWei=0,this.selectDivObj=this.temBetObj.find(".selectObj")},updateD3Data:function(){this.lotteryMinNum=[1,1,1,1],this.lotteryMaxNum=[10,10,10,10],this.lotteryBallNum=[10,10,10,10],this.lotteryBallWei=3,this.selectDivObj=this.temBetObj.find(".selectObj")},updateD2Data:function(){this.lotteryMinNum=[1,1,1,1],this.lotteryMaxNum=[10,10,10,10],this.lotteryBallNum=[10,10,10,10],this.lotteryBallWei=2,this.selectDivObj=this.temBetObj.find(".selectObj")},updateD1Data:function(){this.lotteryMinNum=[1,1,1,1],this.lotteryMaxNum=[10,10,10,10],this.lotteryBallNum=[10,10,10,10],this.lotteryBallWei=1,this.selectDivObj=this.temBetObj.find(".selectObj")},updateBetDom:function(a){this.betObj||(this.betObj=$("#hn4j1 .betObj")),$("#hn4j1 .betObj").hide(),$("#hn4j1 .betObj").filter('[data-v="'+a+'"]').get(0).style.display="block",this.temBetObj=$("#hn4j1 .betObj").filter('[data-v="'+a+'"]'),this.temQuickTipsObj&&(this.temQuickTipsObj.removeClass("showObj"),this.temQuickTipsObj.next().hide())},updateBonusTips:function(a){this.bonusTipsObj||(this.bonusTipsObj=$("#hn4j1_bonusTipsObj")),$("#hn4j1_bonusTipsObj").html(this.bonusTips[a])}};for(var i in hn4j1Obj.funObj)hn4j1Obj[i]=hn4j1Obj.funObj[i];var ksPlanObj=new BetPlan({name:"ksPlan",tpl:"template/numlottery/plan.html"});ksPlanObj.setDefConfig=function(){this.betData=[],this.money=0,this.bouns=0,this.planMoney=[],this.planMul=[],this.winStop=!0,this.lotteryDate="",this.lotteryNoNum="",this.lotteryType=ConfigObj.fastLotType,this.playType="SUM",this.betOneMoney=2,this.betBallNum={SUM:1,TX:1,TXD:1,TXS2:1,TXD2:2,BT3:3,BT2:2,LTX:1},this.planNum=10,this.startMul=1,this.planType="money",this.profitMoney=30,this.profitPercent=.3,this.maxBetMoney=5e5,this.maxMul=1e4,this.maxPlanNum=252,this.cgNumVal=5,this.lotteryNoAllNum=84,this.lotteryBouns={TX:40,TXD:240,TXS2:15,TXD2:80,BT3:40,BT2:8,LTX:10}},ksPlanObj.createDom=function(){this.wrapperObj=$("#plan_wrapperObj"),this.planDomObj=$("#plan_planDomObj"),this.planNumObj=$("#plan_planNumObj"),this.planTypeObj=$("#plan_planTypeObj"),this.lotteryNumObj=$("#plan_lotteryNumObj"),this.moneyObj=$("#plan_moneyObj"),this.setObj=$("#plan_setObj"),this.setNumObj=$("#plan_setNumObj"),this.setMulObj=$("#plan_setMulObj"),this.setPercentObj=$("#plan_setPercentObj"),this.setMoneyObj=$("#plan_setMoneyObj"),this.keyObj=$("#plan_keyObj"),this.updBetTipsObj=$("#plan_updBetTipsObj"),this.qhObj=$("#plan_qhObj")};var pl3Obj=new NumberLottery({name:"pl3",tpl:"template/numlottery/pl3.html"});pl3Obj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="IP",this.lotteryType="pl3",this.lotteryCnName="排列三",this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=new Array(1,1,1),this.lotteryMaxNum=new Array(10,10,10),this.lotteryBallNum=new Array(10,10,10),this.lotteryPlayCnName={IP:"直选",UP3:"组三",UP6:"组六",IH:"直选和值",UH3:"组三和值",UH6:"组六和值"},this.lotterySelectTips={IP:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 每位至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UP3:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选2个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UP6:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选3个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),IH:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UP3hz:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>'),UH6:new Array('<p><span class="fontred font14"><b>·</b> 选号</span> 至少选1个号码</p><div class="tit_rt"><div class="jixuan p3"><span data-t="random" data-k=""><em class="icon phone"></em>机选</span><span></span></div></div>')},this.lotteryBetError={IP:["至少选择1个百位号码","至少选择1个十位号码","至少选择1个个位号码"],UP3:["至少选择2个号码"],UP6:["至少选择3个号码"],IH:["至少选择1个号码"],UH3:["至少选择1个号码"],UH6:["至少选择1个号码"]},this.bonusTips={IP:'选号与开奖号码按位相符即中<span class="fontred">1040</span>元',UP3:'开奖号码为组三且包含在选号中即中<span class="fontred">346</span>元',UP6:'开奖号码为组六且包含在选号中即中<span class="fontred">173</span>元',IH:'开奖号码和值与所选和值相同即中<span class="fontred">1040</span>元',UH3:'开奖号码为组三且和值与所选和值相同即中<span class="fontred">346</span>元',UH6:'开奖号码为组六且和值与所选和值相同即中<span class="fontred">173</span>元'},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(pl3Obj.scheduleInterval),this.scheduleInterval=""),this.hasChartData=""},pl3Obj.createDomObj=function(){this.lotteryDomObj=$("#pl3_lotteryObj"),this.updataPlayObj=$("#pl3_updataPlayObj"),this.topMenuObj=$("#pl3_topMenuLayer"),this.topDescObj=$("#pl3_topDesc"),this.jxObj=$("#pl3_jxLayer"),this.chartListObj=$("#pl3_chartList"),this.zhushuObj=$("#pl3_zhushuObj"),this.moneyObj=$("#pl3_moneyObj"),this.ddTipsObj=$("#pl3_ddTipsObj"),this.playTitleObj=$("#pl3_playTitleObj"),this.selectDivObj=$("#pl3_lotteryObj .selectObj"),this.selTitleObj=$("#pl3_lotteryObj .selTitleObj"),this.betWrap=$("#pl3_betWrap")},pl3Obj.funObj={updatePlayData:function(a){this.playTitleObj.html(this.lotteryCnName+"-"+this.lotteryPlayCnName[a]+'<em class="down"></em>'),this.clearBetLottery(),this.updateBetDom(a),this.updateClassData(a),this.updateBonusTips(a),this.createSelectTitleHtml()},updateClassData:function(a){switch(this.lotteryRandomNum=new Array,this.lotteryPlay=a,a){case"IP":this.updateIPData();break;case"UP3":this.updateUP3Data();break;case"UP6":this.updateUP6Data();break;case"IH":this.updateIHData();break;case"UH3":this.updateUH3Data();break;case"UH6":this.updateUH6Data()}},updateIPData:function(){this.lotteryMinNum=new Array(1,1,1),this.lotteryMaxNum=new Array(10,10,10),this.lotteryBallNum=new Array(10,10,10),this.selectDivObj=this.temBetObj.find(".selectObj")},updateUP3Data:function(){this.lotteryMinNum=[2],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.selectDivObj=this.temBetObj.find(".selectObj")},updateUP6Data:function(){this.lotteryMinNum=[3],this.lotteryMaxNum=[10],this.lotteryBallNum=[10],this.selectDivObj=this.temBetObj.find(".selectObj")},updateIHData:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[28],this.lotteryBallNum=[28],this.selectDivObj=this.temBetObj.find(".selectObj")},updateUH3Data:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[26],this.lotteryBallNum=[26],this.selectDivObj=this.temBetObj.find(".selectObj")},updateUH6Data:function(){this.lotteryMinNum=[1],this.lotteryMaxNum=[22],this.lotteryBallNum=[22],this.selectDivObj=this.temBetObj.find(".selectObj")},updateBetDom:function(a){this.betObj||(this.betObj=$("#pl3 .betObj")),$("#pl3 .betObj").hide(),$("#pl3 .betObj").filter('[data-v="'+a+'"]').get(0).style.display="block",this.temBetObj=$("#pl3 .betObj").filter('[data-v="'+a+'"]'),this.temQuickTipsObj&&(this.temQuickTipsObj.removeClass("showObj"),this.temQuickTipsObj.next().hide())},updateBonusTips:function(a){this.bonusTipsObj||(this.bonusTipsObj=$("#pl3_bonusTipsObj")),$("#pl3_bonusTipsObj").html(this.bonusTips[a])}};for(var i in pl3Obj.funObj)pl3Obj[i]=pl3Obj.funObj[i];var pl5Obj=new NumberLottery({name:"pl5",tpl:"template/numlottery/pl5.html"});pl5Obj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="P",this.lotteryType="pl5",this.lotteryCnName="排列五",this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=new Array(1,1,1,1,1),this.lotteryMaxNum=new Array(10,10,10,10,10),this.lotteryBallNum=new Array(10,10,10,10,10),this.lotteryPlayCnName={},this.lotteryBetError={P:["至少选择1个万位号码","至少选择1个千位号码","至少选择1个百位号码","至少选择1个十位号码","至少选择1个个位号码"]},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(pl5Obj.scheduleInterval),this.scheduleInterval=""),this.hasChartData=""},pl5Obj.createDomObj=function(){this.lotteryDomObj=$("#pl5_lotteryObj"),this.updataPlayObj=$("#pl5_updataPlayObj"),this.topMenuObj=$("#pl5_topMenuLayer"),this.topDescObj=$("#pl5_topDesc"),this.jxObj=$("#pl5_jxLayer"),this.chartListObj=$("#pl5_chartList"),this.zhushuObj=$("#pl5_zhushuObj"),this.moneyObj=$("#pl5_moneyObj"),this.ddTipsObj=$("#pl5_ddTipsObj"),this.playTitleObj=$("#pl5_playTitleObj"),this.selectDivObj=$("#pl5_lotteryObj .selectObj"),this.selTitleObj=$("#pl5_lotteryObj .selTitleObj"),this.betWrap=$("#pl5_betWrap")};var qxcObj=new NumberLottery({name:"qxc",tpl:"template/numlottery/qxc.html"});qxcObj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="P",this.lotteryType="qxc",this.lotteryCnName="七星彩",this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=new Array(1,1,1,1,1,1,1),this.lotteryMaxNum=new Array(10,10,10,10,10,10,10),this.lotteryBallNum=new Array(10,10,10,10,10,10,10),this.lotteryPlayCnName={},this.lotteryBetError={P:["至少选择1个第一位号码","至少选择1个第二位号码","至少选择1个第三位号码","至少选择1个第四位号码","至少选择1个第五位号码","至少选择1个第六位号码",,"至少选择1个第七位号码"]},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(qxcObj.scheduleInterval),this.scheduleInterval=""),this.hasChartData=""},qxcObj.createDomObj=function(){this.lotteryDomObj=$("#qxc_lotteryObj"),this.updataPlayObj=$("#qxc_updataPlayObj"),this.topMenuObj=$("#qxc_topMenuLayer"),this.topDescObj=$("#qxc_topDesc"),this.jxObj=$("#qxc_jxLayer"),this.chartListObj=$("#qxc_chartList"),this.zhushuObj=$("#qxc_zhushuObj"),this.moneyObj=$("#qxc_moneyObj"),this.ddTipsObj=$("#qxc_ddTipsObj"),this.selectDivObj=$("#qxc_lotteryObj .selectObj"),this.selTitleObj=$("#qxc_lotteryObj .selTitleObj"),this.betWrap=$("#qxc_betWrap")};var ssqObj=new NumberLottery({name:"ssq",tpl:"template/numlottery/ssq.html"});ssqObj.setDefConfig=function(){this.isEdit=!1,this.editData="",this.lotteryPlay="P",this.lotteryType="ssq",this.lotteryCnName="双色球",this.lotteryNo="",this.lotteryOneMoney=2,this.maxZSVal=5e4,this.maxMoneyVal=5e5,this.lotteryMinNum=new Array(6,1),this.lotteryMaxNum=new Array(33,16),this.lotteryBallNum=new Array(33,16),this.lotteryPlayCnName={P:"普通",D:"胆拖"},this.lotteryBetError={P:["至少选择6个红球号码","至少选择1个蓝球号码"],D:["至少选择6个红球号码","至少选择1个蓝球号码"],DD:["红球胆码+拖码至少7个","蓝球至少1个"]},this.betCnName=["红球","蓝球"],this.lotterySelectTips={P:new Array('<p><span class="fontred font14"><b>·</b> 红球</span> 选择6-33个号码</p><div class="tit_rt"><div class="jixuan"><span data-t="random" data-k="0"><em class="icon phone"></em>机选</span><span data-t="redjx" data-k="0" data-v="6"><em class="jsJxNum">6</em>个<em class="arrow"></em></span></div></div>','<p><span class="fontblue font14"><b>·</b> 蓝球</span> 选择1-16个号码</p><div class="tit_rt"><div class="jixuan"><span data-t="random" data-k="1"><em>机选</em></span><span data-t="bluejx" data-k="1" data-v="1"><em class="jsJxNum">1</em>个<em class="arrow"></em></span></div></div>'),D:new Array('<div class="tit gray"><p><span class="fontred font14"><b>·</b> 红球</span> 胆码1-5个，拖码+胆码至少7个</p><div class="tit_rt"><span data-t="whatPlay">怎么玩？</span></div></div>','<p><span class="fontblue font14"><b>·</b> 蓝球 </span> 至少选择1个号码</p></div>')},this.lotteryBetData=new Array,this.lotteryBetNum=new Array,this.lotteryBetDanNum=new Array,this.lotteryRandomNum=new Object,this.last_update=0,this.x=0,this.y=0,this.z=0,this.last_x=0,this.last_y=0,this.last_z=0,this.shake_timer="",this.temQuickTipsObj="",this.isRandom=!1,this.scheduleInterval&&(clearInterval(ssqObj.scheduleInterval),this.scheduleInterval=""),this.hasChartData=""},ssqObj.createDomObj=function(){this.lotteryDomObj=$("#ssq_lotteryObj"),this.updataPlayObj=$("#ssq_updataPlayObj"),this.topMenuObj=$("#ssq_topMenuLayer"),this.topDescObj=$("#ssq_topDesc"),this.jxObj=$("#ssq_jxLayer"),this.chartListObj=$("#ssq_chartList"),this.zhushuObj=$("#ssq_zhushuObj"),this.moneyObj=$("#ssq_moneyObj"),this.ddTipsObj=$("#ssq_ddTipsObj"),this.playTitleObj=$("#ssq_playTitleObj"),this.selectDivObj=$("#ssq_lotteryObj .selectObj"),this.selTitleObj=$("#ssq_lotteryObj .selTitleObj"),this.betWrap=$("#ssq_betWrap")};var syxwPlanObj=new BetPlan({name:"syxwPlan",tpl:"template/numlottery/plan.html"});syxwPlanObj.setDefConfig=function(){
this.betData=new Array,this.money=0,this.bouns=0,this.planMoney=new Array,this.planMul=new Array,this.winStop=!0,this.planLotteryDate=new Array,this.lotteryDate="",this.lotteryNoNum="",this.lotteryType=ConfigObj.fastLotType,this.playType="R2",this.betOneMoney=2,this.betBallNum={R2:2,R2_D:2,R3:3,R3_D:3,R4:4,R4_D:4,R5:5,R5_D:5,R6:6,R6_D:6,R7:7,R7_D:7,R8:8,R8_D:8,FP1:1,FP2:1,FC2:2,FC2_D:2,FP3:1,FC3_D:3,FC3:3},this.planNum=10,this.startMul=1,this.planType="money",this.profitMoney=30,this.profitPercent=.3,this.maxBetMoney=5e5,this.maxMul=1e4,this.maxPlanNum=252,this.cgNumVal=5,this.lotteryNoAllNum=84,this.lotteryBouns={R2:6,R2_D:6,R3:19,R3_D:19,R4:78,R4_D:78,R5:540,R5_D:540,R6:90,R6_D:90,R7:26,R7_D:26,R8:9,R8_D:9,FP1:13,FP2:130,FC2:65,FC2_D:65,FP3:1170,FC3:195,FC3_D:195}},syxwPlanObj.createDom=function(){this.wrapperObj=$("#plan_wrapperObj"),this.planDomObj=$("#plan_planDomObj"),this.planNumObj=$("#plan_planNumObj"),this.planTypeObj=$("#plan_planTypeObj"),this.lotteryNumObj=$("#plan_lotteryNumObj"),this.moneyObj=$("#plan_moneyObj"),this.setObj=$("#plan_setObj"),this.setNumObj=$("#plan_setNumObj"),this.setMulObj=$("#plan_setMulObj"),this.setPercentObj=$("#plan_setPercentObj"),this.setMoneyObj=$("#plan_setMoneyObj"),this.keyObj=$("#plan_keyObj"),this.updBetTipsObj=$("#plan_updBetTipsObj"),this.qhObj=$("#plan_qhObj")};var betRecordObj=new PageController({name:"betRecord",tpl:"template/record/betRecord.html"});betRecordObj.createDom=function(){this.wrapObj=$("#betRecord_recordObj"),this.recordObj=$("#betRecord_recordObj"),this.noTipsObj=$("#betRecord_noTipsObj"),this.recordListObj=$("#betRecord_recordListObj"),this.titleObj=$("#betRecord_titleObj"),this.goTop=$("#betRecord_goTop"),this.updataPlayObj=$("#betRecord_updataPlayObj"),this.playTitleObj=$("#betRecord_playTitleObj"),this.contentObj=$("#betRecord_content")},betRecordObj.createEvent=function(){this.goTop.unbind("tap").tap(function(){window.scrollTo(0,0),betRecordObj.scrollTop=0}),this.recordObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"fk":return betRecordObj.hrefPay(c),!0;case"showupdplay":return betRecordObj.showUpdPlay(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"backbtn":return betRecordObj.goBack(),!0;case"search":return betRecordObj.goSearch(),!0;case"betDlt":return betRecordObj.goDlt(),!0;case"updatelottery":return betRecordObj.updatePlay(c),!0}}var f=$.oto_checkEvent(a,"LI");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"update":return betRecordObj.updateType(c),!0}}var g=$.oto_checkEvent(a,"DIV");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"detail":return betRecordObj.hrefDetail(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(betRecordObj.scrollTop=window.scrollY),!betRecordObj.checkPage)return!1;betRecordObj.updatePage()},betRecordObj.pullRefresh()},betRecordObj.pullRefresh=function(){this.recordListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){betRecordObj.page=0,betRecordObj.getListData(),a.resetload()}})},betRecordObj.goSearch=function(){searchRecordObj.goBack=function(){searchRecordObj.destroy(),betRecordObj.show()},searchRecordObj.show(),betRecordObj.destroy()},betRecordObj.updatePlay=function(a){var b=a.attr("data-v");"P"==b?betRecordObj.showUpdPlay(betRecordObj.playTitleObj):"Z"==b&&(planRecordObj.goBack=function(){planRecordObj.destroy(),userCenterObj.show()},planRecordObj.show("reload"))},betRecordObj.hrefPay=function(a){var b=a.attr("data-p"),c=a.attr("data-m"),d=a.attr("data-y")?a.attr("data-y").toLowerCase():"",e={product_id:b,pay_amount:c,lotteryType:d};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),betRecordObj.show()},buyConfirmObj.show("reload",function(){buyConfirmObj.setData(e)})},betRecordObj.updatePage=function(){var a=document.body.scrollTop;0==a&&(a=document.documentElement.scrollTop);var b=this.recordObj.height();a+this.clientHeight>b-this.clientHeight/2&&$("#betRecord").length>0&&"none"!=$("#betRecord").css("display")&&(this.page+=1,this.getListData()),a>2*this.clientHeight?this.goTop.show():this.goTop.hide()},betRecordObj.updateType=function(a){var b=a.attr("data-v");if(b==this.recordListType)return!1;a.siblings().removeClass("on"),a.addClass("on"),this.recordListType=b,this.page=0,this.checkPage=!0,this.recordListObj.html(""),this.getListData()},betRecordObj.getListData=function(){betRecordObj.checkPage=!1;var a={type:this.recordListType,page:this.page,pageSize:this.minListNum},b={access_token:loginObj.access_token,para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=user.record.getLaunchList",type:"post",data:b,dataType:"json",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.type!=betRecordObj.recordListType)return!1;if(a.info.page!=betRecordObj.page)return!1;if(a.info.list.length)betRecordObj.noTipsObj.hide();else if(0==betRecordObj.page)return betRecordObj.noTipsObj.show(),!1;a.info.list.length<betRecordObj.minListNum?betRecordObj.checkPage=!1:betRecordObj.checkPage=!0,betRecordObj.createListHtml(a.info.list),betRecordObj.checkPage||betRecordObj.recordListObj.append('<div class="center endtip_1">已显示全部</div>')}})},betRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].time+'</p><div class="orderbox mb20" data-t="detail" data-k = "'+a[c].lotteryType+'" data-v="'+a[c].lotteryId+'"><h3 class="mb10 clearfix"><span class="fl">'+a[c].lotteryTypeCn+'</span><span class="fr font12">'+a[c].lotteryNo+'期<em class="gray"> · '+a[c].recordType+'</em></span></h3><p class="font12 clearfix"><span class="fl fontred">￥'+a[c].money+"</span><span "+("等待付款"==a[c].status?"class='fr fontblue' data-t='fk' data-m="+a[c].money+" data-p="+a[c].lotteryId:"出票失败"==a[c].status||0==a[c].status.indexOf("中奖")||0==a[c].status.indexOf("大奖")?"class='fr fontred'":'class="fr"')+">"+a[c].status+"</span></p></div></div></div>");0==this.page?this.recordListObj.html(b.join("")):this.recordListObj.append(b.join(""))},betRecordObj.showUpdPlay=function(a){if(Number(a.attr("data-s")))this.updataPlayObj.hide(),a.attr("data-s",0),this.updataPlayObj.removeClass("centerWrap_2"),this.titleObj.css({position:"fixed"}),this.contentObj.addClass("centerWrap"),$("#betRecord_upBGObj").length>0&&$("#betRecord_upBGObj").remove();else if(window.scrollTo(0,1),this.updataPlayObj.show(),a.attr("data-s",1),this.updataPlayObj.addClass("centerWrap_2"),this.titleObj.css({position:"static"}),this.contentObj.removeClass("centerWrap"),0==$("#betRecord_upBGObj").length){var b=document.body.scrollHeight,c=$('<div id="betRecord_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');this.wrapObj.append(c),c.unbind("tap").tap(function(){betRecordObj.updataPlayObj.hide(),betRecordObj.playTitleObj.attr("data-s","0"),betRecordObj.updataPlayObj.removeClass("centerWrap_2"),betRecordObj.titleObj.css({position:"fixed"}),betRecordObj.contentObj.addClass("centerWrap"),c.remove()})}},betRecordObj.hrefDetail=function(a){var b=a.attr("data-v"),c=a.attr("data-k").toLowerCase();"jxk3"!=c&&"gxk3"!=c&&"jlk3"!=c||(ConfigObj.fastK3Type=c),"gd11x5"!=c&&"gx11x5"!=c||(ConfigObj.fastLotType=c),"ios"==ConfigObj.from?(projectDetailObj.goBack=function(){ConfigObj.from,location.href=ConfigObj.iosAppSite+"?pageName=home"},projectDetailObj.show("reload",function(){projectDetailObj.getData(b)})):projectDetailObj.show("reload",function(){projectDetailObj.getData(b),projectDetailObj.pushRoute(function(){betRecordObj.show()})})},betRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},betRecordObj.getType=function(){for(var a=this.titleObj.children("li"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on"))return this.recordListType=a.eq(b).attr("data-v"),!1},betRecordObj.init=function(){betRecordObj.setDefConfig(),betRecordObj.onloadExecution()},betRecordObj.goDlt=function(){dltObj.goBack=function(){dltObj.destroy(),betRecordObj.show()},dltObj.show()},betRecordObj.getData=function(a){var b=this.titleObj.find("li").filter('[data-v="'+a+'"]');this.updateType(b)},betRecordObj.setDefConfig=function(){betRecordObj.recordListType="all",betRecordObj.page=0,betRecordObj.checkPage=!0,betRecordObj.clientHeight=document.documentElement.clientHeight,betRecordObj.minListNum=10,betRecordObj.lotteryCnType={dlt:"大乐透",pl3:"排列3",pl5:"排列5",qxc:"七星彩",ftbrqspf:"竞彩足球胜平负",ftspf:"竞彩足球胜平负",ftfh:"竞足混投",spf14:"胜负彩",spf9:"任选9"},window.onscroll=null,betRecordObj.scrollTop=0,betRecordObj.pageEnd=!1};var bonusRecordObj=new PageController({name:"bonusRecord",tpl:"template/record/bonusRecord.html"});bonusRecordObj.createDom=function(){this.bonusObj=$("#bonusRecord_bonusObj"),this.bonusListObj=$("#bonusRecord_bonusListObj"),this.allMoneyObj=$("#bonusRecord_allMoneyObj")},bonusRecordObj.createEvent=function(){this.bonusObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return bonusRecordObj.goBack(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"update":return bonusRecordObj.updateType(c),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return bonusRecordObj.hrefDetail(c),!0}}}),window.onscroll=function(){if(!bonusRecordObj.checkPage)return!1;bonusRecordObj.updatePage()},this.bonusListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){bonusRecordObj.page=0,bonusRecordObj.getListData(),a.resetload()}})},bonusRecordObj.hrefDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");switch(b){case"Project":projectDetailObj.show("reload",function(){projectDetailObj.getData(c),projectDetailObj.pushRoute(function(){bonusRecordObj.show()})});break;case"bonus":redBagObj.show("reload",function(){redBagObj.getData(c,"record"),redBagObj.pushRoute(function(){bonusRecordObj.show()})})}},bonusRecordObj.updatePage=function(){var a=document.body.scrollTop;0==a&&(a=document.documentElement.scrollTop);var b=this.bonusObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},bonusRecordObj.updateType=function(a){var b=a.attr("data-v");if(b==this.bonusListType)return!1;a.siblings().removeClass("on"),a.addClass("on"),this.bonusListType=b,this.page=1,this.checkPage=!0,this.timeTem="",this.bonusListObj.html(""),this.getListData()},bonusRecordObj.getListData=function(){bonusRecordObj.checkPage=!1;var a={bonus_status:this.bonusListType,page:this.page,page_size:this.minListNum},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.bonus",type:"post",data:b,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.bonus_status!=bonusRecordObj.bonusListType)return!1;if(a.info.page!=bonusRecordObj.page)return!1;a.info.list.length<bonusRecordObj.minListNum?bonusRecordObj.checkPage=!1:bonusRecordObj.checkPage=!0,bonusRecordObj.allMoneyObj.html(a.info.remain+"元"),bonusRecordObj.createListHtml(a.info.list),bonusRecordObj.checkPage||bonusRecordObj.bonusListObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},bonusRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt" ><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-i="'+a[c].bag_account_id+'"><h3 class="mb10 clearfix"><span class="fl">'+a[c].activity_cn+'</span><span class="fr'+(Number(a[c].amount)>0?" fontred":" fontgreen")+'">'+a[c].amount+'元</span></h3><p class="font12 clearfix"><span class="fl gray">'+a[c].time_desc+'</span><span class="fr">'+(a[c].freeze_amount&&"yes"==a[c].bonus_status&&Number(a[c].freeze_amount)>0?'<em class="gray">冻结</em><em class="fontred"> '+a[c].freeze_amount+"</em>":"")+' <em class="gray">还剩</em><em class="fontred">'+a[c].remain_amount+"元</em></span>"+("expired"==a[c].bonus_status?'<span class="dated disbg"></span>':"")+"</p></div></div></div>"),this.timeTem=a[c].create_date;0==this.page?this.bonusListObj.html(b.join("")):this.bonusListObj.append(b.join(""))},bonusRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},bonusRecordObj.init=function(){bonusRecordObj.setDefConfig(),bonusRecordObj.onloadExecution()},bonusRecordObj.setDefConfig=function(){bonusRecordObj.bonusListType="yes",bonusRecordObj.page=1,bonusRecordObj.checkPage=!0,bonusRecordObj.clientHeight=document.documentElement.clientHeight,bonusRecordObj.minListNum=20,bonusRecordObj.timeTem=""};var cashRecordObj=new PageController({name:"cashRecord",tpl:"template/record/cashRecord.html"});cashRecordObj.createDom=function(){this.cashObj=$("#cashRecord_cashObj"),this.cashListObj=$("#cashRecord_cashListObj"),this.allMoneyObj=$("#cashRecord_allMoneyObj"),this.goTop=$("#cashRecord_goTop")},cashRecordObj.createEvent=function(){this.goTop.unbind("tap").tap(function(){window.scrollTo(0,0),cashRecordObj.scrollTop=0}),this.cashObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return cashRecordObj.goBack(),!0;case"search":return cashRecordObj.goSearch(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"update":return cashRecordObj.updateType(c),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return cashRecordObj.goDetail(c),!0}}}),window.onscroll=null,window.onscroll=function(){if(0!==window.scrollY&&(cashRecordObj.scrollTop=window.scrollY),!cashRecordObj.checkPage)return!1;cashRecordObj.updatePage()},this.cashListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){cashRecordObj.page=0,cashRecordObj.getListData(),a.resetload()}})},cashRecordObj.goSearch=function(){searchCashRecordObj.goBack=function(){searchCashRecordObj.destroy(),cashRecordObj.show("reload")},searchCashRecordObj.show(),cashRecordObj.destroy()},cashRecordObj.goDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");if("together"==a.attr("data-c"))return hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),cashRecordObj.show()},void hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(c)});switch(b){case"Project":projectDetailObj.show("reload",function(){projectDetailObj.getData(c),projectDetailObj.pushRoute(function(){cashRecordObj.show()})});break;case"Order":rechargeStatusObj.goBack=function(){rechargeStatusObj.destroy(),cashRecordObj.show()},rechargeStatusObj.show("reload",function(){rechargeStatusObj.getData(c)});break;case"Draw":withdrawDetailObj.goBack=function(){withdrawDetailObj.destroy(),cashRecordObj.show()},withdrawDetailObj.show("reload",function(){withdrawDetailObj.getData(c)})}},cashRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.cashObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData()),a>2*this.clientHeight?this.goTop.show():this.goTop.hide()},cashRecordObj.updateType=function(a){var b=a.attr("data-v");if(b==this.cashListType)return!1;a.siblings().removeClass("on"),a.addClass("on"),this.cashListType=b,this.page=0,this.checkPage=!0,this.timeTem="",this.cashListObj.html(""),this.getListData()},cashRecordObj.getListData=function(){cashRecordObj.checkPage=!1;var a={para:Global.encrypt({income_type:this.cashListType,page:this.page,page_size:this.minListNum,period:"-3_months"}),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.cash",type:"post",data:a,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.income_type!=cashRecordObj.cashListType)return!1;if(a.info.page!=cashRecordObj.page)return!1;a.info.list.length<cashRecordObj.minListNum?cashRecordObj.checkPage=!1:cashRecordObj.checkPage=!0,cashRecordObj.allMoneyObj.html(a.info.remain+"元"),cashRecordObj.createListHtml(a.info.list),cashRecordObj.checkPage||cashRecordObj.cashListObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},cashRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot'+(this.timeTem!=a[c].create_date?" blur":"")+'"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-c="'+a[c].consign_type+'" data-i="'+a[c].target_id+'"><h3 class="mb10">'+a[c].item_cn+'</h3><p class="font12 gray">'+a[c].create_time+'</p><p class="cash_change"><span class="'+(Number(a[c].amount)>0?"fontred":"fontgreen")+(a[c].target_type&&a[c].target_id?"":" mr22")+'">'+a[c].amount+"元"+(a[c].target_type&&a[c].target_id?'<em class="icon rtarrow"></em>':"")+"</span></p></div></div></div>"),this.timeTem=a[c].create_date;0==this.page?this.cashListObj.html(b.join("")):this.cashListObj.append(b.join(""))},cashRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},cashRecordObj.init=function(){cashRecordObj.setDefConfig(),cashRecordObj.onloadExecution()},cashRecordObj.setDefConfig=function(){cashRecordObj.cashListType="",cashRecordObj.page=0,cashRecordObj.checkPage=!0,cashRecordObj.clientHeight=document.documentElement.clientHeight,cashRecordObj.minListNum=20,cashRecordObj.timeTem="",window.onscroll=null,cashRecordObj.scrollTop=0};var freezeRecordObj=new PageController({name:"freezeRecord",tpl:"template/record/freezeRecord.html"});freezeRecordObj.createDom=function(){this.freezeObj=$("#freezeRecord_freezeObj"),this.freezeListObj=$("#freezeRecord_freezeListObj"),this.allfreezeObj=$("#freezeRecord_allfreezeObj")},freezeRecordObj.createEvent=function(){this.freezeObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return freezeRecordObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return freezeRecordObj.hrefDetail(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(freezeRecordObj.scrollTop=window.scrollY),!freezeRecordObj.checkPage)return!1;freezeRecordObj.updatePage()},this.freezeListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){freezeRecordObj.page=0,freezeRecordObj.getListData(),a.resetload()}})},freezeRecordObj.hrefDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");if(!b||!c)return!0;"Order"==b&&(withdrawDetailObj.goBack=function(){withdrawDetailObj.destroy(),freezeRecordObj.show()},withdrawDetailObj.show("reload",function(){withdrawDetailObj.getData(c)})),"Project"==b&&projectDetailObj.show("reload",function(){projectDetailObj.getData(c),projectDetailObj.pushRoute(function(){freezeRecordObj.show()})}),"Plan"==b&&(planDetailObj.goBack=function(){planDetailObj.destroy(),freezeRecordObj.show()},planDetailObj.show("reload",function(){planDetailObj.getData(c)}))},freezeRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.freezeObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},freezeRecordObj.getListData=function(){freezeRecordObj.checkPage=!1;var a={page:this.page,page_size:this.minListNum,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.freeze",type:"post",data:a,dataType:"json",success:function(a){if("0000"==a.code){if(a.info.page!=freezeRecordObj.page)return!1;a.info.list.length<freezeRecordObj.minListNum?freezeRecordObj.checkPage=!1:freezeRecordObj.checkPage=!0,freezeRecordObj.allfreezeObj.html(a.info.remain+"元"),freezeRecordObj.createListHtml(a.info.list),freezeRecordObj.checkPage||freezeRecordObj.freezeListObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},freezeRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot'+(this.timeTem!=a[c].create_date?" blur":"")+'"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-i="'+a[c].target_id+'"><h3 class="mb10">'+a[c].reason_cn+'</h3><p class="font12 gray">'+a[c].create_time+'</p><p class="cash_change"><span class="'+(Number(a[c].amount)>0?"fontred":"fontgreen")+(a[c].target_type&&a[c].target_id?"":" mr22")+'">'+a[c].amount+"元"+(a[c].target_type&&a[c].target_id?'<em class="icon rtarrow"></em>':"")+"</span></p></div></div></div>"),this.timeTem=a[c].create_date;0==this.page?this.freezeListObj.html(b.join("")):this.freezeListObj.append(b.join(""))},freezeRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},freezeRecordObj.init=function(){freezeRecordObj.setDefConfig(),freezeRecordObj.onloadExecution()},freezeRecordObj.setDefConfig=function(){freezeRecordObj.freezeListType="cash",freezeRecordObj.page=0,freezeRecordObj.checkPage=!0,freezeRecordObj.clientHeight=document.documentElement.clientHeight,freezeRecordObj.minListNum=20,freezeRecordObj.timeTem="",window.onscroll=null,freezeRecordObj.scrollTop=0};var getTicketRecordObj=new PageController({name:"getTicketRecord",tpl:"template/record/getTicketRecord.html"});getTicketRecordObj.createDomObj=function(){this.listDivObj=$("#getTicketRecord_listDivObj"),this.getTicketRecordObj=$("#getTicketRecord_listObj"),this.xzObj=$("#getTicketRecord_xzObj"),this.plTipsObj=$("#getTicketRecord_plTipsObj"),this.plNumObj=$("#getTicketRecord_plNumObj")},getTicketRecordObj.createEvent=function(){this.listDivObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"pl":return $.alertMsg("正在开发中"),!0;case"dz":return getTicketRecordObj.dzQp(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"all":return getTicketRecordObj.allPlQp(),getTicketRecordObj.getPlNum(),!0;case"qpAll":return getTicketRecordObj.postPlQp(),!0;case"back":return getTicketRecordObj.goBack(),!0}}var f=$.oto_checkEvent(a,"LABEL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"checked":return getTicketRecordObj.selectList(c),getTicketRecordObj.getPlNum(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"upd":return getTicketRecordObj.updateType(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");switch(d){case"show":return getTicketRecordObj.showQp(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(getTicketRecordObj.scrollTop=window.scrollY),!getTicketRecordObj.checkPage)return!1;getTicketRecordObj.updatePage()},this.getTicketRecordObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){getTicketRecordObj.page=0,getTicketRecordObj.getListData(),a.resetload()}})},getTicketRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.listDivObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},getTicketRecordObj.qpFun=function(a){},getTicketRecordObj.showQp=function(a){if(this.plCheck)return!0;var b=a.attr("data-v");a.attr("data-type");qupiaoPwdObj.goBack=function(){qupiaoPwdObj.destroy(),getTicketRecordObj.show()},qupiaoPwdObj.show("reload",function(){var a=[];a.push(b),qupiaoPwdObj.setData(a)})},getTicketRecordObj.selectList=function(a){var b=a.attr("data-v"),c=a.children("em");if(c.hasClass("checked")){c.removeClass("checked");var d=$.inArray(b,this.plIdArr);delete this.plIdArr[d]}else c.addClass("checked"),this.plIdArr.push(b)},getTicketRecordObj.updateType=function(a){this.xzObj.html('<a href="javascript:void(0);" data-t="pl">批量</a>'),this.getTicketRecordObj.html(""),a.siblings().removeClass("on"),a.addClass("on");var b=a.attr("data-v");this.type=b,this.page=1,this.checkPage=!0,this.getListData()},getTicketRecordObj.getListData=function(){getTicketRecordObj.checkPage=!1;var a={status:this.type,page:this.page,page_size:this.minListNum,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Record.getticket",type:"post",data:a,dataType:"json",success:function(a){if("0000"==a.code){if(a.info.status!=getTicketRecordObj.type||a.info.page!=getTicketRecordObj.page)return!1;a.info.list.length<getTicketRecordObj.minListNum&&(getTicketRecordObj.checkPage=!1),getTicketRecordObj.createListHtml(a.info.list),getTicketRecordObj.checkPage||getTicketRecordObj.getTicketRecordObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},getTicketRecordObj.plQp=function(a){this.xzObj.html('<a href="javascript:void(0);" data-t="dz">单张</a>'),this.getPlNum(),this.plTipsObj.show(),$("#getTicketRecord_listDivObj .qpMsgObj").hide(),$("#getTicketRecord_listDivObj .checkObj").show(),this.plCheck=!0},getTicketRecordObj.dzQp=function(a){this.xzObj.html('<a href="javascript:void(0);" data-t="pl">批量</a>'),this.plTipsObj.hide(),this.plIdArr=new Array,$("#getTicketRecord_listDivObj .qpMsgObj").show(),$("#getTicketRecord_listDivObj .checkObj").hide(),this.plCheck=!1},getTicketRecordObj.getPlNum=function(){for(var a=0,b=0,c=this.plIdArr.length;a<c;a++)this.plIdArr[a]&&b++;this.plNumObj.html(b)},getTicketRecordObj.allPlQp=function(){var a=$(".checkObj");this.plIdArr=new Array;for(var b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-v");a.eq(b).children("em").addClass("checked"),this.plIdArr.push(d)}},getTicketRecordObj.checkIdList=function(){for(var a=0,b=0,c=this.plIdArr.length;a<c;a++)this.plIdArr[a]&&b++;var d=this.xzObj.children(".qpObj");b<=0?d.addClass("gray"):d.removeClass("gray")},getTicketRecordObj.postPlQp=function(){for(var a=new Array,b=0,c=this.plIdArr.length;b<c;b++)this.plIdArr[b]&&a.push(this.plIdArr[b]);if(0==a.length)return $.alertMsg("请至少选择一单"),!1;qupiaoPwdObj.goBack=function(){qupiaoPwdObj.destroy(),getTicketRecordObj.show()},qupiaoPwdObj.show("reload",function(){qupiaoPwdObj.setData(a)})},getTicketRecordObj.createListHtml=function(a){for(var b=/^大奖/,c=/^中奖/,d=[],e=0,f=a.length;e<f;e++)d.push('<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[e].create_date+'</p><div class="orderbox mb20" data-t="show" data-v="'+a[e].target_id+'" data-type="'+a[e].target_type+'"><h3 class="toptit mb10 clearfix"><span class="fl">'+a[e].lottery_typecn+'</span><span class="fr font12'+(b.test(a[e].prize_status)||c.test(a[e].prize_status)?" fontred":"")+'"><em>'+a[e].prize_status+'</em>\x3c!--em class="rtarrow icon"></em--\x3e</span></h3><p class="font12 mb10 clearfix"><span class="fl gray">'+a[e].lottery_no+'</span><span class="fr">已取'+a[e].got_num+'/<em clas="gray">共'+a[e].total_num+'张</em></span></p><p class="font12 clearfix"><span class="fl fontred">￥'+a[e].amount+'</span><span class="fr">'+this.getTypeHtml(a[e])+"</span></p></div></div></div>");0==this.page?this.getTicketRecordObj.html(d.join("")):this.getTicketRecordObj.append(d.join(""))},getTicketRecordObj.getTypeHtml=function(a){var b=a.optstatus,c=a.target_id;switch(b){case"not":return'<a href="javascript:void(0);" class="fontblue qpMsgObj">'+a.optstatus_desc+'</a><label class="labox checkObj" style="display:none;" data-t="checked" data-v="'+c+'"><em class="icon checkbox"></em></label>';case"fail":case"yes":return'<em class="gray qpMsgObj">'+a.optstatus_desc+'</em><label class="labox checkObj" style="display:none;" data-t="checked" data-v="'+c+'"><em class="icon checkbox"></em></label>'}},getTicketRecordObj.setDefConfig=function(){getTicketRecordObj.type="not",getTicketRecordObj.page=1,getTicketRecordObj.minListNum=20,getTicketRecordObj.checkPage=!0,getTicketRecordObj.clientHeight=document.documentElement.clientHeight,getTicketRecordObj.plIdArr=new Array,getTicketRecordObj.plCheck=!1,window.onscroll=null,getTicketRecordObj.scrollTop=0},getTicketRecordObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent(),this.getListData()},getTicketRecordObj.init=function(){getTicketRecordObj.onloadExecution()};var handselRecordObj=new PageController({name:"handselRecord",tpl:"template/record/handselRecord.html"});handselRecordObj.createDom=function(){this.handselObj=$("#handselRecord_handselObj"),this.handselListObj=$("#handselRecord_handselListObj"),this.allMoneyObj=$("#handselRecord_allMoneyObj")},handselRecordObj.createEvent=function(){this.handselObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return handselRecordObj.goBack(),!0;case"jh":return $.alertMsg("正在建设中"),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"update":return handselRecordObj.updateType(c),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return handselRecordObj.goDetail(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(handselRecordObj.scrollTop=window.scrollY),!handselRecordObj.checkPage)return!1;handselRecordObj.updatePage()}},handselRecordObj.goDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");switch(b){case"Project":projectDetailObj.show("reload",function(){projectDetailObj.getData(c)}),projectDetailObj.pushRoute(function(){handselRecordObj.show()})}},handselRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.handselObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},handselRecordObj.updateType=function(a){var b=a.attr("data-v");if(b==this.handselListType)return!1;a.siblings().removeClass("on"),a.addClass("on"),this.handselListType=b,this.page=0,this.checkPage=!0,this.timeTem="",this.handselListObj.html(""),this.getListData()},handselRecordObj.getListData=function(){handselRecordObj.checkPage=!1,$.ajax({url:"json/handselRecord.json",type:"post",data:"income_type="+this.handselListType+"&page="+this.page+"&page_size="+this.minListNum+"&period=-3_months",dataType:"text",success:function(msg){var msg=eval("("+msg+")");return msg.income_type==handselRecordObj.handselListType&&(msg.page==handselRecordObj.page&&(msg.list.length<handselRecordObj.minListNum?handselRecordObj.checkPage=!1:handselRecordObj.checkPage=!0,handselRecordObj.allMoneyObj.html(msg.remain+"元"),handselRecordObj.createListHtml(msg.list),void(handselRecordObj.checkPage||handselRecordObj.handselListObj.append('<div class="center endtip_1">已显示全部</div>'))))}})},handselRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot'+(this.timeTem!=a[c].create_date?" blur":"")+'"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-i="'+a[c].target_id+'"><h3 class="mb10 clearfix"><span class="fl">'+a[c].item_cn+'</span><span class="fr">'+a[c].amount+'元</span></h3><p class="font12 clearfix">\x3c!--span class="fl gray">有效期：2015/12/31</span--\x3e\x3c!--span class="fr"><em class="gray">已用1元/还剩</em><em class="fontred">9元</em></span--\x3e\x3c!--span class="dated disbg"></span--\x3e</p></div></div></div>'),this.timeTem=a[c].create_date;this.handselListObj.append(b.join(""))},handselRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},handselRecordObj.setDefConfig=function(){handselRecordObj.handselListType="",handselRecordObj.page=0,handselRecordObj.checkPage=!0,handselRecordObj.clientHeight=document.documentElement.clientHeight,handselRecordObj.minListNum=20,handselRecordObj.timeTem="",window.onscroll=null,handselRecordObj.scrollTop=0},handselRecordObj.init=function(){handselRecordObj.setDefConfig(),
handselRecordObj.onloadExecution()};var memberBetRecordObj=new PageController({name:"memberBetRecord",tpl:"template/record/memberBetRecord.html"});memberBetRecordObj.createDom=function(){this.wrapObj=$("#memberBetRecord_wrapObj"),this.betListObj=$("#memberBetRecord_betListObj")},memberBetRecordObj.createEvent=function(){$("#memberBetRecord_starTip").find("textarea").unbind("focus").focus(function(){$(this).get(0).select()}),this.wrapObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return memberBetRecordObj.goBack(),!0;case"star":return memberBetRecordObj.showStarTip(c),!0;case"search":return memberBetRecordObj.goSearch(c),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return memberBetRecordObj.goDetail(c),!0}}var f=$.oto_checkEvent(a,"A");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"hideTip":return $("#memberBetRecord_starTip").hide(),!0;case"save":return memberBetRecordObj.saveFun(),!0}}var g=$.oto_checkEvent(a,"DL");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"flag":return memberBetRecordObj.flagFun(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(memberBetRecordObj.scrollTop=window.scrollY),!memberBetRecordObj.checkPage)return!1;memberBetRecordObj.updatePage()},this.betListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){memberBetRecordObj.page=0,memberBetRecordObj.getListData(),a.resetload()}})},memberBetRecordObj.goSearch=function(a){searchRecordObj.goBack=function(){searchRecordObj.destroy(),memberBetRecordObj.show()},searchRecordObj.show("",function(){searchRecordObj.setData({from:"memberBet"})})},memberBetRecordObj.flagFun=function(a){$("#memberBetRecord_starTip").find(".radiobox_1").removeClass("checked"),a.find(".radiobox_1").addClass("checked");a.attr("data-v")},memberBetRecordObj.saveFun=function(){var a=this,b=$("#memberBetRecord_starTip").find(".checked"),c=b.parents("dl").attr("data-v"),d=$("#memberBetRecord_starTip").find("textarea"),e=d.val(),f={lottery_id:a.editDom.attr("data-id"),memotype:c,memo:e,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Station.colorTag",type:"post",data:f,dataType:"json",success:function(b){"0000"==b.code?($("#memberBetRecord_starTip").hide(),a.editDom.find(".icon_1").get(0).className="icon_1 star"+a.starObj[c],a.editDom.attr("data-v",c),a.editDom.attr("data-memo",e),a.editDom=""):($("#memberBetRecord_starTip").hide(),$.alertMsg(b.code_str))}})},memberBetRecordObj.showStarTip=function(a){var b=a.attr("data-v");$("#memberBetRecord_starTip").show(),$("#memberBetRecord_starTip").find(".radiobox_1").removeClass("checked"),0!=a.attr("data-v")&&$("#memberBetRecord_"+this.starObj[b]).addClass("checked"),this.editDom=a;var c=a.attr("data-memo");$("#memberBetRecord_starTip").find("textarea").val(c||"已经转账付款; 票已出; 已经拍照发送;")},memberBetRecordObj.goDetail=function(a){var b=a.attr("data-v");if(!b)return!0;projectDetailObj.show("reload",function(){projectDetailObj.getData(b),projectDetailObj.pushRoute(function(){memberBetRecordObj.destroy(),memberBetRecordObj.show()})})},memberBetRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.rechargeObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},memberBetRecordObj.getListData=function(){memberBetRecordObj.checkPage=!1;var a={page:this.page,page_size:this.minListNum,station_user_id:loginObj.userInfo.station_user_id,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Station.tostationList",type:"post",data:a,dataType:"json",success:function(a){if("0000"==a.code){if(a.info.page!=memberBetRecordObj.page)return!1;a.info.list.length<memberBetRecordObj.minListNum?memberBetRecordObj.checkPage=!1:memberBetRecordObj.checkPage=!0,memberBetRecordObj.createListHtml(a.info.list),memberBetRecordObj.checkPage||memberBetRecordObj.betListObj.append('<div class="center endtip_1">已显示全部</div>')}}})},memberBetRecordObj.createListHtml=function(a){for(var b=this,c="",d=0,e=a.length;d<e;d++){var f=a[d];c+='<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8 clearfix"><span class="mr10">'+(f.createtime?f.createtime.substr(5,11):"")+"</span><span >"+f.user_name+'</span><span class="fr '+(f.net_prize>0?"fontred":"gray")+'">'+f.status+'</span></p><div class="orderbox mb20 clearfix" data-t="detail" data-v="'+f.lottery_id+'">'+(f.net_prize>0?'<p class="prize_1"></p>':"")+'<p class="fl box_1" data-t="star" data-memo="'+f.memo+'" data-id="'+f.lottery_id+'" data-v="'+f.memotype+'"><span class="icon_1 star'+b.starObj[f.memotype]+'"></span></p><dl class="fl box_2"><dt>'+f.lottery_type_cn+'</dt><dd class="font12 gray">第'+f.lottery_no+'期</dd></dl><dl class="fr box_3"><dd><span class="font12">￥'+f.money+'</span> <span class="fr">停售: '+(f.sell_end_time?f.sell_end_time.substr(5,11):"")+"</span></dd><dd><span>"+(f.ticket_count?f.ticket_count:"")+'张票</span> <span class="fr loading_icon1"><em style="width:'+f.rate+'%"></em></span></dd></dl></div></div></div>'}0==this.page?this.betListObj.html(c):this.betListObj.append(c)},memberBetRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},memberBetRecordObj.init=function(){memberBetRecordObj.setDefConfig(),memberBetRecordObj.onloadExecution()},memberBetRecordObj.setDefConfig=function(){memberBetRecordObj.page=0,memberBetRecordObj.checkPage=!0,memberBetRecordObj.clientHeight=document.documentElement.clientHeight,memberBetRecordObj.minListNum=20,memberBetRecordObj.timeTem="",window.onscroll=null,memberBetRecordObj.scrollTop=0,memberBetRecordObj.starObj={0:"Gray",1:"Green",2:"Red",3:"Blue",4:"Purple"},this.editDom=""};var openTicketRecordObj=new PageController({name:"openTicketRecord",tpl:"template/record/openTicketRecord.html"});openTicketRecordObj.createDom=function(){this.wrapObj=$("#openTicketRecord_wrapObj"),this.listObj=$("#openTicketRecord_listObj")},openTicketRecordObj.createEvent=function(){this.wrapObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return openTicketRecordObj.goBack(),!0;case"buy":return openTicketRecordObj.goBuy(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"update":return openTicketRecordObj.updateType(c),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return openTicketRecordObj.goDetail(c),!0}}}),window.onscroll=null,window.onscroll=function(){}},openTicketRecordObj.goBuy=function(){buyOpenTicketObj.show("",function(){buyOpenTicketObj.pushRoute(function(){openTicketRecordObj.show()})})},openTicketRecordObj.goDetail=function(a){var b=(a.attr("data-p"),a.attr("data-i"));if("together"==a.attr("data-c"))return hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),openTicketRecordObj.show()},void hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(b)})},openTicketRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},openTicketRecordObj.getListData=function(){openTicketRecordObj.checkPage=!1;var a={page:this.page,page_size:this.minListNum,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.cash",type:"post",data:a,dataType:"json",success:function(a){if("0000"==a.code){if(a.info.page!=openTicketRecordObj.page)return!1;a.info.list.length<openTicketRecordObj.minListNum?openTicketRecordObj.checkPage=!1:openTicketRecordObj.checkPage=!0,openTicketRecordObj.createListHtml(a.info.list),openTicketRecordObj.checkPage||openTicketRecordObj.listObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},openTicketRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot'+(this.timeTem!=a[c].create_date?" blur":"")+'"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-c="'+a[c].consign_type+'" data-i="'+a[c].target_id+'"><h3 class="mb10">'+a[c].item_cn+'</h3><p class="font12 gray">'+a[c].create_time+'</p><p class="cash_change"><span class="'+(Number(a[c].amount)>0?"fontred":"fontgreen")+(a[c].target_type&&a[c].target_id?"":" mr22")+'">'+a[c].amount+"元"+(a[c].target_type&&a[c].target_id?'<em class="icon rtarrow"></em>':"")+"</span></p></div></div></div>"),this.timeTem=a[c].create_date;0==this.page?this.listObj.html(b.join("")):this.listObj.append(b.join(""))},openTicketRecordObj.onloadExecution=function(){this.createDom(),this.createEvent()},openTicketRecordObj.init=function(){openTicketRecordObj.setDefConfig(),openTicketRecordObj.onloadExecution()},openTicketRecordObj.setDefConfig=function(){openTicketRecordObj.page=0,openTicketRecordObj.checkPage=!0,openTicketRecordObj.clientHeight=document.documentElement.clientHeight,openTicketRecordObj.minListNum=20,openTicketRecordObj.timeTem="",window.onscroll=null,openTicketRecordObj.scrollTop=0},openTicketRecordObj.goBack=function(){this.popRoute()},openTicketRecordObj.destroy=function(){this.setDefConfig(),$("#openTicketRecord").html("").remove(),this.routeArr=[]};var otImgDetailObj=new PageController({name:"otImgDetail",tpl:"template/record/otImgDetail.html"});otImgDetailObj.createDomObj=function(){this.wrapperObj=$("#otImgDetail_wrapperObj")},otImgDetailObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){switch($(b).attr("data-t")){case"back":return otImgDetailObj.goBack(),!0}}})},otImgDetailObj.getData=function(a){a&&(a=a.replace("x",""),$("#otImgDetail_img1").html('<img src="images/ticket/'+a+'_f.jpg"  style="width:90%"/>'),$("#otImgDetail_img2").html('<img src="images/ticket/'+a+'_b.jpg"  style="width:90%"/>'))},otImgDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},otImgDetailObj.init=function(){otImgDetailObj.onloadExecution()},otImgDetailObj.goBack=function(){},otImgDetailObj.dirShow=function(){otImgDetailObj.show()};var planDetailObj=new PageController({name:"planDetail",tpl:"template/record/planDetail.html"});planDetailObj.createDom=function(){this.wrapperObj=$("#planDetail_wrapperObj"),this.lotteryType=$("#planDetail_lotteryType"),this.nowLotteryNo=$("#planDetail_nowLotteryNo"),this.wagerStore=$("#planDetail_wagerStore"),this.confirmLayer=$("#planDetail_confirmLayer"),this.confirmBtn=$("#planDetail_confirmBtn"),this.cancelBtn=$("#planDetail_cancelBtn"),this.qpObj=$("#planDetail_qpObj"),this.wrapA=$("#planDetail_wrapA"),this.wrapB=$("#planDetail_wrapB"),this.wrapC=$("#planDetail_wrapC")},planDetailObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"bet":return planDetailObj.goBet(),!0;case"qp":return planDetailObj.hrefQp(),!0;case"goDetail":return planDetailObj.goDetail(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"back":return planDetailObj.goBack(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"fail":return planDetailObj.showFail(c),!0;case"pay":return planDetailObj.postPay(c),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"st":return planDetailObj.postPace(c),!0;case"toggle":return planDetailObj.toggleCon(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){var c=$(h),d=c.attr("data-t");switch(d){case"project":return planDetailObj.goProject(c),!0}}})},planDetailObj.toggleCon=function(a){this.wrapB.toggle()},planDetailObj.goProject=function(a){var b=a.attr("data-i");0!=b&&projectDetailObj.show("reload",function(){projectDetailObj.getData(b),projectDetailObj.pushRoute(function(){planDetailObj.show()})})},planDetailObj.postPace=function(a){if("Save"==this.consign_type)return!1;var b=a.attr("data-p");planSubDetailObj.goBack=function(){planSubDetailObj.destroy(),planDetailObj.show()},planSubDetailObj.show("reload",function(){planSubDetailObj.getData(b)})},planDetailObj.showFail=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),a.next().hide()):(a.addClass("showObj"),a.next().show())},planDetailObj.getTotalPrizeHtml=function(a){var b="";if("Save"==this.consign_type)b=a.head.prize_cn&&-1!=a.head.prize_cn.indexOf("累计中奖")?'<span class="fr fontred"><strong>'+a.head.prize_cn+"</strong></span>":'<span class="fr gray"><strong>'+a.head.prize_cn+"</strong></span>";else{var c=a.head;"Stop"==c.run_status?Number(c.total_prize)>0?Number(a.child.succ_prize)>0?b='<span class="fr fontred"><strong>中'+a.child.succ_prize+" 元</strong></span>":Number(a.child.fail_prize)>0&&(b='<span class="fr gray"><strong>中'+a.child.fail_prize+"元</strong></span>"):b='<span class="fr gray">未中奖</span>':Number(a.child.succ_prize)>0?b='<span class="fr fontred"><strong>中'+a.child.succ_prize+"元</strong></span>":Number(a.child.fail_prize)>0&&(b='<span class="fr gray"><strong>中'+a.child.fail_prize+"元</strong></span>")}return b},planDetailObj.formatHtmlA=function(a){if(a.head){var b=a.head,c="";c+='<li class="clearfix font12"><p class="fl"><span class="font14">'+b.lottery_type_cn+'</span>&nbsp;&nbsp;&nbsp;<span class="gray">追号</span></p><p class="fr font12">订单编号：'+b.plan_id+'</p></li><li class="clearfix pr35 font12" data-t="st" data-p="'+b.plan_id+'"><p class="clearfix mb10"><span class="fl"><em class="gray">投注金额：</em><em class="fontred">￥'+b.money+"</em></span>"+this.getTotalPrizeHtml(a)+"</p>"+this.getTicketHtml(b)+'<p><span class="fl"><em class="gray">停追设置：'+(b.stop_condition_cn?b.stop_condition_cn:"")+'</em></span><span class="fr">'+b.run_status_cn+'</span></p></li><li class="clearfix pr35"  data-t="toggle"><span class="fl">方案内容</span><span class="fr gray font12"><em class="arrow_down"></em></span></li>',this.wrapA.html(c)}},planDetailObj.getTicketHtml=function(a){return""},planDetailObj.formatDltHtml=function(a){var b="";for(var c in a.content)if("common"==c||"random"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];b+='<div class="clearfix"><p class="number"><span class="gray">';for(var g=0;g<f.redBalls.length;g++)b+="<i>"+f.redBalls[g]+"</i>";b+='</span><em>|</em><span class="gray">';for(var g=0;g<f.blueBalls.length;g++)b+="<i>"+f.blueBalls[g]+"</i>";b+='</span></p><p class="zhushu font12 gray"><span>'+f.passTypeCn+"</span><span>"+f.count+"注"+f.wagerMultiple+"倍</span><span>"+f.money+"元</span></p></div>"}else"abs"===c&&a.content[c].forEach(function(a){b+='<div class="clearfix">',b+='<p class="number">',a.redDan&&(b+='<span class="font3">（<i>'+a.redDan+"</i>）</span>"),b+='<span class="gray">',a.redBalls.forEach(function(a){b+="<i>"+a+"</i>"}),b+="</span><em>|</em>",a.blueDan&&(b+='<span class="font3">（<i>'+a.blueDan+"</i>）</span>"),b+='<span class="gray">',a.blueBalls.forEach(function(a){b+="<i>"+a+"</i>"}),b+="</span></p>",b+='<p class="zhushu font12 gray"><span>'+a.passTypeCn+"</span><span>"+a.count+"注"+a.wagerMultiple+"倍</span><span>"+a.money+"元</span></p>",b+="</div>"});this.wrapB.html(b)},planDetailObj.formatPl3Html=function(a){var b="";for(var c in a.content)if("IP"==c||"IPR"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];for(b+='<div class="clearfix"><p class="number"><span class="gray">',g=0;g<f.b.length;g++)b+="<i>"+f.b[g]+"</i>";for(b+='</span><em>|</em><span class="gray">',g=0;g<f.s.length;g++)b+="<i>"+f.s[g]+"</i>";for(b+='</span><em>|</em><span class="gray">',g=0;g<f.g.length;g++)b+="<i>"+f.g[g]+"</i>";b+='</span></p><p class="zhushu font12 gray"><span>'+f.passTypeCn+"</span><span>"+f.count+"注"+f.wagerMultiple+"倍</span><span>"+f.money+"元</span></p></div>"}else if("UP3"==c||"UP6"==c||"UP3R"==c||"UP6R"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];b+='<div class="clearfix"><p class="number"><span class="gray">';for(var g=0;g<f.hao.length;g++)b+="<i>"+f.hao[g]+"</i>";b+="</span></p>",f.passTypeCn,f.count,f.wagerMultiple,f.money}else if("IH"==c||"IHR"==c||"UH3"==c||"UH6"==c||"UH3R"==c||"UH6R"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];b+='<div class="clearfix"><p class="number"><span class="gray">';for(var g=0;g<f.hao.length;g++)b+="<i>"+f.hao[g]+"</i>";b+='</span></p><p class="zhushu font12 gray"><span>'+f.passTypeCn+"</span><span>"+f.count+"注"+f.wagerMultiple+"倍</span><span>"+f.money+"元</span></p></div>"}else b+="其他玩法";this.wrapB.html(b)},planDetailObj.formatPl5Html=function(a){var b="";for(var c in a.content)if("common"==c||"random"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];for(b+='<div class="clearfix"><p class="number"><span class="gray">',j=0;j<f.w.length;j++)b+="<i>"+f.w[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.q.length;j++)b+="<i>"+f.q[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.b.length;j++)b+="<i>"+f.b[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.s.length;j++)b+="<i>"+f.s[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.g.length;j++)b+="<i>"+f.g[j]+"</i>";b+='</span></p><p class="zhushu font12 gray"><span>'+f.passTypeCn+"</span><span>"+f.count+"注"+f.wagerMultiple+"倍</span><span>"+f.money+"元</span></p></div>"}else b+="其他玩法";this.wrapB.html(b)},planDetailObj.formatQxcHtml=function(a){var b="";for(var c in a.content)if("common"==c||"random"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];for(b+='<div class="clearfix"><p class="number"><span class="gray">',j=0;j<f.yi.length;j++)b+="<i>"+f.yi[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.er.length;j++)b+="<i>"+f.er[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.san.length;j++)b+="<i>"+f.san[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.si.length;j++)b+="<i>"+f.si[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.wu.length;j++)b+="<i>"+f.wu[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.liu.length;j++)b+="<i>"+f.liu[j]+"</i>";for(b+='</span><em>|</em><span class="gray">',j=0;j<f.qi.length;j++)b+="<i>"+f.qi[j]+"</i>";b+='</span></p><p class="zhushu font12 gray"><span>'+f.passTypeCn+"</span><span>"+f.count+"注"+f.wagerMultiple+"倍</span><span>"+f.money+"元</span></p></div>"}else b+="其他玩法";this.wrapB.html(b)},planDetailObj.formatFastHtml=function(a){var b="";for(var c in a.content)if("FP1"==c||"FP2"==c||"FP3"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];for(b+='<div class="clearfix"><p class="number"><span class="gray">',g=0;g<f[0].length;g++)b+="<i>"+f[0][g]+"</i>";if(b+="</span>",f[1]&&f[1].length>0){for(b+='<em>|</em><span class="gray">',g=0;g<f[1].length;g++)b+="<i>"+f[1][g]+"</i>";b+="</span>"}if(f[2]&&f[2].length>0){for(b+='<em>|</em><span class="gray">',g=0;g<f[2].length;g++)b+="<i>"+f[2][g]+"</i>";b+="</span>"}b+='</p><p class="zhushu font12 gray"><span>'+f.wagerType+"</span><span>"+f.passTypeCn+"</span><span>"+f.count+"注"+(f.wagerMultiple&&-1!=f.wagerMultiple?f.wagerMultiple+"倍":"")+"</span><span>"+(f.money&&-1!=f.money?f.money+"元":"")+" </span></p></div>"}else for(var d=a.content[c],e=0;e<d.length;e++){b+='<div class="libox"><p class="number">';var f=d[e];if(f.dan){b+='<span class="fontblack">(';for(var g=0;g<f.dan.length;g++)b+="<i>"+f.dan[g]+"</i>";b+=")</span>"}b+='<span class="gray">';for(var g=0;g<f.tuo.length;g++)b+="<i>"+f.tuo[g]+"</i>";b+="</span>",b+='</p><div class="clearfix"><p class="zhushu fl"><span>'+f.wagerType+"&nbsp;"+(f.dan?"胆拖":"")+"</span><span>"+f.passTypeCn+"</span><span>"+f.count+"注"+(f.wagerMultiple&&-1!=f.wagerMultiple?f.wagerMultiple+"倍":"")+"</span><span>"+(f.money&&-1!=f.money?f.money+"元":"")+" </span></p></div></div>"}this.wrapB.html(b)},planDetailObj.formatFastK3Html=function(a){var b=[];for(var c in a.content){if(!a.content.hasOwnProperty(c))return;a.content[c].forEach(function(a){var d="TXD2"===c?"二同号单选":a.passTypeCn,e='<p class="zhushu font12 gray"><span>'+d+"</span><span>"+a.count+"注"+a.wagerMultiple+"倍</span><span>"+a.money+"元</span></p>",f="",g="",h="";"TXD2"===c?(a.dan.forEach(function(a){a=a.replace(/\+/g,""),g+="<i>"+a+"</i>"}),a.hao.forEach(function(a){h+="<i>"+a+"</i>"}),f='<span class="gray">'+g+'</span><em>|</em><span class="gray">'+h+"</span>"):"BT3"===c||"BT2"===c?(a.dan.length&&a.dan.forEach(function(a){a=a.replace(/\+/g,""),g+="<i>"+a+"</i>"}),a.hao.forEach(function(a){h+="<i>"+a+"</i>"}),f=(g.length?"<span >("+g+")</span>&nbsp;&nbsp;":"")+'<span class="gray">'+h+"</span>"):(a.hao.forEach(function(a){"TXD"===c&&(a=a.replace(/\+/g,"")),"TXS2"===c&&(a=a.replace(/\+/g,"")+"*"),f+="<i>"+a+"</i>"}),f='<span class="gray">'+f+"</span>");var i='<p class="number">'+f+"</p>";b.push('<div class="clearfix">'+i+e+"</div>")})}this.wrapB.html(b.join(""))},planDetailObj.formatD3Html=function(a){var b="";for(var c in a.content)if("IP"==c||"IPR"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];for(b+='<div class="clearfix"><p class="number"><span class="gray">',g=0;g<f.b.length;g++)b+="<i>"+f.b[g]+"</i>";for(b+='</span><em>|</em><span class="gray">',g=0;g<f.s.length;g++)b+="<i>"+f.s[g]+"</i>";for(b+='</span><em>|</em><span class="gray">',g=0;g<f.g.length;g++)b+="<i>"+f.g[g]+"</i>";b+='</span></p><p class="zhushu font12 gray"><span>'+f.passTypeCn+"</span><span>"+f.count+"注"+f.wagerMultiple+"倍</span><span>"+f.money+"元</span></p></div>"}else if("UP3"==c||"UP6"==c||"UP3R"==c||"UP6R"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];b+='<div class="clearfix"><p class="number"><span class="gray">';for(var g=0;g<f.hao.length;g++)b+="<i>"+f.hao[g]+"</i>";b+="</span></p>",f.passTypeCn,f.count,f.wagerMultiple,f.money}else if("IH"==c||"IHR"==c||"UH3"==c||"UH6"==c||"UH3R"==c||"UH6R"==c)for(var d=a.content[c],e=0;e<d.length;e++){var f=d[e];b+='<div class="clearfix"><p class="number"><span class="gray">';for(var g=0;g<f.hao.length;g++)b+="<i>"+f.hao[g]+"</i>";b+='</span></p><p class="zhushu font12 gray"><span>'+f.passTypeCn+"</span><span>"+f.count+"注"+f.wagerMultiple+"倍</span><span>"+f.money+"元</span></p></div>"}else b+="其他玩法";this.wrapB.html(b)},planDetailObj.formatHtmlB=function(a){var b=this,c=a.lotteryInfo.lotteryType;switch(a.head.lottery_type_cn){case"超级大乐透":case"双色球":b.formatDltHtml(a);break;case"排列三":b.formatPl3Html(a);break;case"排列五":b.formatPl5Html(a);break;case"七星彩":b.formatQxcHtml(a);break;case"广西11选5":b.formatFastHtml(a);break;case"江西快3":case"吉林快3":b.formatFastK3Html(a);break;case"广东11选5":b.formatFastHtml(a);break;case"福彩3D":b.formatD3Html(a);break;default:c===ConfigObj.fastK3Type&&b.formatFastK3Html(a)}},planDetailObj.formatHtmlC=function(a){var b=this,c="",d=a.child;if(d&&(c+='<div class="w94 mt8"><p class="detail_tit clearfix"><span class="fl">追号进度</span><span class="fr font12">已追'+d.actual_exec_count+'期<em class="gray"> / 共'+d.expect_exec_count+"期</em></span></p></div>",c+='<div class="betlist detail_con"><div class="listbg"></div><div class="listwrap"><div class="lists">',d.list)){for(var e=0;e<d.list.length;e++){var f=d.list[e],g=b.getPrizeStatus(f,a.head);c+='<div class="libox detail_zh font12" ><div class="zh_li" data-t="project" data-i="'+f.lottery_id+'"><p class="clearfix mb10"><span class="fl font14">第<em class="qs">'+f.num+"</em>期</span>"+g+'</p><p class="clearfix"><span class="fl"><em class="gray">投注金额：</em><em class="fontred">￥'+f.money+'</em></span><span class="fr gray">'+f.lottery_no+"期"+f.build_time+"</span></p></div></div>"}c+="</div></div></div>",this.wrapC.html(c)}},planDetailObj.getPrizeStatus=function(a){var b=this,c="";return"Save"==b.consign_type?a.raw_prize>0?c='<span class="fr fontred"><strong>中'+a.raw_prize+"元</strong></span>":a.lottery_id>0&&(c="Not"==a.prize_status?'<span class="fr gray">待开奖</span>':'<span class="fr gray">未中奖</span>'):a.raw_prize>0?c="yes"==a.print_status?'<span class="fr fontred"><strong>中'+a.raw_prize+"元</strong></span>":'<span class="fr gray"><strong>中'+a.raw_prize+"元</strong></span>":"yes"!=a.print_status?c='<span class="fr gray">'+(a.print_status_cn?a.print_status_cn:"")+"</span>":"yes"==a.print_status&&(c="Not"==a.prize_status?'<span class="fr gray">待开奖</span>':'<span class="fr gray">未中奖</span>'),c},planDetailObj.getData=function(a){var b=this;b.plan_id=a;var c={planid:a,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.plan.index",type:"post",data:c,dataType:"json",success:function(a){"0000"==a.code?(b.lotteryInfo=a.info.lotteryInfo,b.consign_type=a.info.head.consign_type,b.formatHtmlA(a.info),b.formatHtmlB(a.info),b.formatHtmlC(a.info)):$.alertMsg(a.code_str)}})},planDetailObj.goBet=function(){var a=this,b=a.lotteryInfo.wagerStore,c=a.lotteryInfo.nowLotteryNo,d=a.lotteryInfo.lotteryType.toLowerCase();if(!b||!d||!c)return $.alertMsg("数据错误"),!1;var e=b.split(";");if(d===ConfigObj.fastK3Type){var f=[];e.forEach(function(a){var b=a.split("|");if("TX"===b[1]&&(a="255+255+255|TX|1"),"LTX"===b[1]&&(a="255+255+255|LTX|1"),"TXD2"===b[1]){var c=b[0].split(":");a=c[0]+"|"+c[1]+"|TXD2|"+b[2]}if(("BT3"===b[1]||"BT2"===b[1])&&-1!==b[0].indexOf("$")){var c=b[0].split("$"),d=[];c[0].split(",").forEach(function(a){d.push("d-"+a)}),a=c[1]+","+d.join(",")+"|"+b[1]+"_D|"+b[2]}f.push(a)}),e=f}else for(var g=0,h=e.length;g<h;g++)if(e[g]=e[g].replace(/\+/g,"|"),!(e[g].indexOf("$")<0)){for(var i=e[g].split("|"),j=0,k=i.length;j<k;j++)if(!(i[j].indexOf("$")<0)){for(var l=i[j].split("$"),m=new Array,n=l[0].split(","),o=0,p=n.length;o<p;o++)m.push("d-"+n[o]);l[0]=m.join(","),i[j]=l.join(",")}e[g]=i.join("|")}var q=e.join(";");if(q.length>800)return $.alertMsg("当前方案太复杂暂不支持"),!1;window.localStorage.removeItem(d+"lotteryBetData"),window.localStorage.removeItem(d+"lotteryAllBetData"),window.localStorage.removeItem(d+"MulAndPer");var r={lotteryType:d,lotteryCnName:a.lotteryInfo.lotteryTypeCn,lotteryNo:c};Global.GC(),window.localStorage.setItem(d+"lotteryBetData",q);var s=d;-1!==ConfigObj.syx5Type.indexOf(d)&&(ConfigObj.fastLotType=d,s="fastBet"),d===ConfigObj.fastK3Type&&(s="fastK3"),window[s+"ConfirmObj"].goBack=function(){window[s+"Obj"].show("reload")},window[s+"Obj"].goBack=function(){Global.GC(),homeObj.show()},window[s+"ConfirmObj"].show("reload",function(){window[s+"ConfirmObj"].setData(r)})},planDetailObj.onloadExecution=function(){this.setDefConfig(),this.createDom(),this.createEvent()},planDetailObj.init=function(){planDetailObj.onloadExecution()},planDetailObj.setDefConfig=function(){this.plan_id="",this.lotteryInfo="",this.consign_type=""},planDetailObj.dirShow=function(a){var b=this;b.show(!0,function(){b.plan_id=a&&a.plan_id?a.plan_id:"",b.getData(b.plan_id)})};var planRecordObj=new PageController({name:"planRecord",tpl:"template/record/planRecord.html"});planRecordObj.createDom=function(){this.wrapObj=$("#planRecord_recordObj"),this.recordObj=$("#planRecord_recordObj"),this.noTipsObj=$("#planRecord_noTipsObj"),this.recordListObj=$("#planRecord_recordListObj"),this.titleObj=$("#planRecord_titleObj"),this.goTop=$("#planRecord_goTop"),this.updataPlayObj=$("#planRecord_updataPlayObj"),this.playTitleObj=$("#planRecord_playTitleObj"),this.contentObj=$("#planRecord_content")},planRecordObj.createEvent=function(){this.goTop.unbind("tap").tap(function(){window.scrollTo(0,0),planRecordObj.scrollTop=0}),this.recordObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"fk":return planRecordObj.hrefPay(c),!0;case"showupdplay":return planRecordObj.showUpdPlay(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"backbtn":return planRecordObj.goBack(),!0;case"search":return planRecordObj.goSearch(),!0;case"betDlt":return planRecordObj.goDlt(),!0;case"updatelottery":return planRecordObj.updatePlay(c),!0}}var f=$.oto_checkEvent(a,"LI");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"update":return planRecordObj.updateType(c),!0}}var g=$.oto_checkEvent(a,"DIV");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"detail":return planRecordObj.hrefDetail(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(planRecordObj.scrollTop=window.scrollY),!planRecordObj.checkPage)return!1;planRecordObj.updatePage()},planRecordObj.pullRefresh()},planRecordObj.pullRefresh=function(){this.recordListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){planRecordObj.page=0,planRecordObj.getListData(),a.resetload()}})},planRecordObj.goSearch=function(){searchPlanObj.goBack=function(){searchPlanObj.destroy(),planRecordObj.show()},searchPlanObj.show(),planRecordObj.destroy()},planRecordObj.updatePlay=function(a){var b=a.attr("data-v");"P"==b?betRecordObj.show("reload"):"Z"==b&&planRecordObj.showUpdPlay(planRecordObj.playTitleObj)},planRecordObj.hrefPay=function(a){var b=a.attr("data-p"),c=a.attr("data-m"),d=a.attr("data-y")?a.attr("data-y").toLowerCase():"",e={product_id:b,pay_amount:c,lotteryType:d,product_type:"plan"};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),planRecordObj.show()},buyConfirmObj.show("reload",function(){buyConfirmObj.setData(e)})},planRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.recordObj.height();a+this.clientHeight>b-this.clientHeight/2&&$("#planRecord").length>0&&"none"!=$("#planRecord").css("display")&&(this.page+=1,this.getListData()),a>2*this.clientHeight?this.goTop.show():this.goTop.hide()},planRecordObj.updateType=function(a){var b=a.attr("data-v");if(b==this.recordListType)return!1;a.siblings().removeClass("on"),a.addClass("on"),this.recordListType=b,this.page=0,this.checkPage=!0,this.recordListObj.html(""),this.getListData()},planRecordObj.getListData=function(){planRecordObj.checkPage=!1;var a={type:this.recordListType,page:this.page,pageSize:this.minListNum},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.getPlanList",type:"post",data:b,dataType:"json",success:function(a){if(0!=a.code)return $.alertMsg(a.code_str),!1;if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.type!=planRecordObj.recordListType)return!1;if(a.info.page!=planRecordObj.page)return!1;if(a.info.list.length)planRecordObj.noTipsObj.hide();else if(0==planRecordObj.page)return planRecordObj.noTipsObj.show(),!1;a.info.list.length<planRecordObj.minListNum?planRecordObj.checkPage=!1:planRecordObj.checkPage=!0,planRecordObj.createListHtml(a.info.list),planRecordObj.checkPage||planRecordObj.recordListObj.append('<div class="center endtip_1">已显示全部</div>')}})},planRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_time+'</p><div class="orderbox mb20" data-t="detail" data-v="'+a[c].plan_id+'"><h3 class="mb10 clearfix"><span class="fl">'+a[c].lottery_type_cn+'</span><span class="fr font12">追'+a[c].actual_exec_count+'<em class="gray">/'+a[c].expect_exec_count+'期</em></span></h3><p class="font12 clearfix"><span class="fl fontred">￥'+a[c].money+"</span><span "+("等待付款"==a[c].run_status_cn?"class='fr fontblue' data-t='fk' data-m="+a[c].money+" data-p="+a[c].plan_id:"出票失败"==a[c].run_status_cn||-1!=a[c].run_status_cn.indexOf("累计中奖")||-1!=a[c].run_status_cn.indexOf("大奖")?"class='fr fontred'":'class="fr"')+">"+a[c].run_status_cn+"</span></p></div></div></div>");0==this.page?this.recordListObj.html(b.join("")):this.recordListObj.append(b.join(""))},planRecordObj.showUpdPlay=function(a){if(Number(a.attr("data-s")))this.updataPlayObj.hide(),a.attr("data-s",0),this.updataPlayObj.removeClass("centerWrap_2"),this.titleObj.css({position:"fixed"}),this.contentObj.addClass("centerWrap"),$("#planRecord_upBGObj").length>0&&$("#planRecord_upBGObj").remove();else if(window.scrollTo(0,1),this.updataPlayObj.show(),a.attr("data-s",1),this.updataPlayObj.addClass("centerWrap_2"),this.titleObj.css({position:"static"}),this.contentObj.removeClass("centerWrap"),0==$("#planRecord_upBGObj").length){
var b=document.body.scrollHeight,c=$('<div id="planRecord_upBGObj" style="width: 100%; height: '+b+'px; position: absolute; left: 0px; top: 0px; z-index: 98; background: transparent;" ></div>');this.wrapObj.append(c),c.unbind("tap").tap(function(){planRecordObj.updataPlayObj.hide(),planRecordObj.playTitleObj.attr("data-s","0"),planRecordObj.updataPlayObj.removeClass("centerWrap_2"),planRecordObj.titleObj.css({position:"fixed"}),planRecordObj.contentObj.addClass("centerWrap"),c.remove()})}},planRecordObj.hrefDetail=function(a){var b=a.attr("data-v");"ios"==ConfigObj.from?(planDetailObj.goBack=function(){ConfigObj.from,location.href=ConfigObj.iosAppSite+"?pageName=home"},planDetailObj.show("reload",function(){planDetailObj.getData(b)})):(planDetailObj.goBack=function(){planDetailObj.destroy(),planRecordObj.show()},planDetailObj.show("reload",function(){planDetailObj.getData(b)}))},planRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},planRecordObj.getType=function(){for(var a=this.titleObj.children("li"),b=0,c=a.length;b<c;b++)if(a.eq(b).hasClass("on"))return this.recordListType=a.eq(b).attr("data-v"),!1},planRecordObj.init=function(){planRecordObj.setDefConfig(),planRecordObj.onloadExecution()},planRecordObj.goDlt=function(){dltObj.goBack=function(){dltObj.destroy(),planRecordObj.show()},dltObj.show()},planRecordObj.getData=function(a){var b=this.titleObj.find("li").filter('[data-v="'+a+'"]');this.updateType(b)},planRecordObj.setDefConfig=function(){planRecordObj.recordListType="all",planRecordObj.page=0,planRecordObj.checkPage=!0,planRecordObj.clientHeight=document.documentElement.clientHeight,planRecordObj.minListNum=10,planRecordObj.lotteryCnType={dlt:"大乐透",pl3:"排列3",pl5:"排列5",qxc:"七星彩",ftbrqspf:"竞彩足球胜平负",ftspf:"竞彩足球胜平负",ftfh:"竞足混投",spf14:"胜负彩",spf9:"任选9"},window.onscroll=null,planRecordObj.scrollTop=0,planRecordObj.pageEnd=!1},planRecordObj.dirShow=function(){planRecordObj.show("reload")};var planSubDetailObj=new PageController({name:"planSubDetail",tpl:"template/record/planSubDetail.html"});planSubDetailObj.createDom=function(){this.wrapperObj=$("#planSubDetail_wrapperObj"),this.wrapA=$("#planSubDetail_wrapA"),this.wrapB=$("#planSubDetail_wrapB"),this.wrapC=$("#planSubDetail_wrapC"),this.wrapD=$("#planSubDetail_wrapD")},planSubDetailObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return planSubDetailObj.goBack(),!0;case"fk":return planSubDetailObj.continuePay(c),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"ticketDetail":return planSubDetailObj.goTicketDetail(c.attr("data-v")),!0}}})},planSubDetailObj.continuePay=function(a){var b=a.attr("data-money"),c=a.attr("data-planId"),d=a.attr("data-lotteryType");buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),planSubDetailObj.show()},buyConfirmObj.show(!0,function(){buyConfirmObj.setData({product_id:c,pay_amount:b,lotteryType:d,product_type:"plan"})})},planSubDetailObj.goTicketDetail=function(a){ticketDetailObj.goBack=function(){ticketDetailObj.destroy(),planSubDetailObj.show()},ticketDetailObj.show("reload",function(){ticketDetailObj.setData(a),ticketDetailObj.getData()})},planSubDetailObj.onloadExecution=function(){this.createDom(),this.createEvent()},planSubDetailObj.init=function(){planSubDetailObj.onloadExecution()},planSubDetailObj.setDefConfig=function(){this.plan_id=""},planSubDetailObj.getData=function(a){var b=this;this.plan_id=a;var c={planid:a};$.ajax({url:ConfigObj.localSite+"?m=user.plan.pace",type:"post",data:c,dataType:"json",success:function(a){"0000"==a.code?(b.formatHtmlA(a.info),b.formatHtmlB(a.info),b.formatHtmlC(a.info),b.formatHtmlD(a.info)):$.alertMsg(a.code_str)}})},planSubDetailObj.formatHtmlA=function(a){var b=a.head,c='<p class="pt15">投注金额</p><p class="font12 gray">'+b.create_time+'</p><span class="font16 fontred money">'+b.money+"元</span>";this.wrapA.html(c)},planSubDetailObj.formatHtmlB=function(a){$("#planSubDetail_pid").html(a.head.plan_id);var b=a.head.run_status,c='<span class="line line_over"><em class="dot dot_over"></em></span>';c+="Run"==b||"Stop"==b?'<span class="line line_over"><em class="dot dot_over"></em></span>':'<span class="line "><em class="dot "></em></span>',c+="Run"==b||"Stop"==b?'<span class="line line_over"><em class="dot dot_over"></em></span>':'<span class="line "><em class="dot "></em></span>',this.wrapB.html(c)},planSubDetailObj.formatHtmlC=function(a){var b="",c=a.content;b+='<div class="jdli"><p class="">'+c.submit_info.msg+'</p><p class="font12 gray">'+c.submit_info.time_desc+'</p></div><div class="jdli"><p class="">'+c.pay_info.msg+'</p><p class="font12 gray">'+c.pay_info.time_desc+'</p></div><div class="jdli"><p class="">'+c.com_info.msg+'</p><p class="font12 gray">'+c.com_info.time_desc+"</p></div>",this.wrapC.html(b)},planSubDetailObj.formatHtmlD=function(a){var b="";"succ"==a.tail.current_status?b+='<p class="smtip font16"><span class="suc_icon tipicon"></span>'+a.tail.current_statuscn+"</p>":"pay"==a.tail.current_status?b+='<p class="smtip font16" data-t="fk" data-money="'+a.head.money+'" data-planId="'+a.head.plan_id+'" data-lotteryType="'+a.head.lottery_type+'"><span class="wait_icon tipicon"></span>'+a.tail.current_statuscn+"</p>":"close"==a.tail.current_status&&(b+='<p class="smtip font16"><span class="err_icon tipicon"></span>'+a.tail.current_statuscn+"</p>"),this.wrapD.html(b)},planSubDetailObj.dirShow=function(a){var b=this;b.show("reload",function(){b.getData(a.pid)})};var prizeReviewDetailObj=new PageController({name:"prizeReviewDetail",tpl:"template/record/prizeReviewDetail.html"});prizeReviewDetailObj.createDomObj=function(){this.wrap=$("#prizeReviewDetail_wrap")},prizeReviewDetailObj.createEvent=function(){$("#prizeReviewDetail_backbtn").unbind("tap").tap(function(){prizeReviewDetailObj.goBack()}),$("#prizeReviewDetail_botBack").unbind("tap").tap(function(){prizeReviewDetailObj.goBack()}),$("#prizeReviewDetail_bet").unbind("tap").tap(function(){prizeReviewDetailObj.goBack(),projectDetailObj.goAllBet()}),window.onscroll=function(){}},prizeReviewDetailObj.updatePage=function(){var a=document.body.scrollTop,b=this.recordObj.height();a+this.clientHeight>b-this.clientHeight/2&&$("#prizeReviewDetail").length>0&&"none"!=$("#prizeReviewDetail").css("display")&&(this.page+=1,this.getData())},prizeReviewDetailObj.setData=function(a){this.tid=a},prizeReviewDetailObj.getData=function(){var a=this,b={pid:a.tid,page:this.page,page_size:this.minListNum,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.project.prizereview",type:"post",data:b,dataType:"json",success:function(a){"0000"==a.code?prizeReviewDetailObj.formatHtml(a.info,a.prizeStatus):$.alertMsg(a.code_str)}})},prizeReviewDetailObj.formatHtml=function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];c+='<div class="p_item whitebg mb8"><div class="clearfix center"><div class="fl w10"><em class="num">'+(d+1)+"</em><p>"+e.passType+'</p></div><div class="fl w90 mb5">';for(var f=0;f<e.list.length;f++){var g=e.list[f],h="";1==g.wager[0].hit?h="on":2==g.wager[0].hit&&(h="out"),c+='<div class="p_dz clearfix"><span class="gray fl font12 w18">'+g.oidCn+'</span><p class="fl w50 p_team clearfix"><span class="w45">'+g.homeName+'</span><em class="gray w10">VS</em><span class="w45">'+g.awayName+'</span></p><p class="fl w32"><span class="pblock selected '+h+'">'+g.wager[0].opt+("FTSPF"==g.lotteryType?"(<em>"+g.rq+"</em>)":"")+g.wager[0].odd+"</span></p></div>"}c+='</div></div><div class="p_yc clearfix"><span class="fl">'+this.getPrizeHtml(e,b)+'</span><div class="fr">'+e.count+"注</div></div></div>"}this.wrap.html(c)},prizeReviewDetailObj.getPrizeHtml=function(a,b){return"Not"!=b&&Number(a.prize)>0?'中奖 <em class="fontred">'+a.prize+"</em>元":"Not"!=b?"未中奖":'预计奖金 <em class="fontred">'+a.prize+"</em>元"},prizeReviewDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},prizeReviewDetailObj.init=function(){prizeReviewDetailObj.setDefConfig(),prizeReviewDetailObj.onloadExecution()},prizeReviewDetailObj.setDefConfig=function(){this.tid="",this.page=0,this.checkPage=!0,this.clientHeight=document.documentElement.clientHeight,this.minListNum=10,window.onscroll=null},prizeReviewDetailObj.dirShow=function(a){var b=a&&a.id?a.id:"";prizeReviewDetailObj.show("reload",function(){prizeReviewDetailObj.setData(b),prizeReviewDetailObj.getData()})};var projectDetailObj=new PageController({name:"projectDetail",tpl:"template/record/projectDetail.html"});projectDetailObj.createDom=function(){this.wrapperObj=$("#projectDetail_wrapperObj"),this.wrapA=$("#projectDetail_wrapA"),this.wrapB=$("#projectDetail_wrapB"),this.wrapC=$("#projectDetail_wrapC"),this.wrapD=$("#projectDetail_wrapD")},projectDetailObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"bet":return projectDetailObj.goAllBet(),!0;case"qp":return projectDetailObj.goGetTicket(c),!0;case"goDetail":return projectDetailObj.goDetail(c),!0;case"sendStation":return projectDetailObj.sendStation(c),!0;case"hideTip":return $("#projectDetail_sucTip").hide(),!0;case"goStation":return projectDetailObj.goStation(),!0;case"pay2":return projectDetailObj.postPay(b),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"backbtn":return projectDetailObj.goBack(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"fail":return projectDetailObj.showFail(c),!0;case"pay":return projectDetailObj.postPay(c),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"st":return projectDetailObj.goSubDetail(),!0}}}),this.wrapperObj.dropload({scrollArea:window,distance:this.pullDistance||200,loadUpFn:function(a){projectDetailObj.getData(projectDetailObj.product_id),a.resetload()}})},projectDetailObj.goDetail=function(a){var b=a.attr("data-id");prizeReviewDetailObj.goBack=function(){prizeReviewDetailObj.destroy(),projectDetailObj.show()},prizeReviewDetailObj.show("reload",function(){prizeReviewDetailObj.setData(b),prizeReviewDetailObj.getData()})},projectDetailObj.goGetTicket=function(a){var b=a.attr("data-v");qupiaoPwdObj.goBack=function(){qupiaoPwdObj.destroy(),projectDetailObj.show()},qupiaoPwdObj.show("reload",function(){var a=[];a.push(b),qupiaoPwdObj.setData(a)})},projectDetailObj.goSubDetail=function(){var a=this.product_id;"save"==this.lotteryInfo.consignType?(ticketDetailObj.goBack=function(){ticketDetailObj.destroy(),projectDetailObj.show()},ticketDetailObj.show("reload",function(){ticketDetailObj.setData(a,"save"),ticketDetailObj.getData()})):(projectSubDetailObj.goBack=function(){projectSubDetailObj.destroy(),projectDetailObj.show()},projectSubDetailObj.show("reload",function(){projectSubDetailObj.getData(a)}))},projectDetailObj.postPay=function(a){var b=a.attr("data-p"),c=a.attr("data-m"),d={product_id:b,pay_amount:c,lotteryType:this.lotteryType.toLowerCase()};buyConfirmObj.goBack=function(){Global.GC(),homeObj.show()},buyConfirmObj.show("reload",function(){buyConfirmObj.setData(d)})},projectDetailObj.showFail=function(a){a.hasClass("showObj")?(a.removeClass("showObj"),a.next().hide()):(a.addClass("showObj"),a.next().show())},projectDetailObj.goAllBet=function(){if(this.isNumLottery())this.goBet();else{var a=this.lotteryInfo.lotteryType,b=this.lotteryInfo.lotterySubType;Global.GC(),"FTFH"==a&&"jz2x1"!=b?(soccerMixObj.goBack=function(){soccerMixObj.destroy(),homeObj.show()},soccerMixObj.show("reload",function(){soccerMixObj.getData()})):"FTFH"==a&&"jz2x1"==b?(soccer2x1Obj.goBack=function(){soccer2x1Obj.destroy(),homeObj.show()},soccer2x1Obj.show("reload",function(){soccer2x1Obj.getData()})):"SPF9"==a?(soccerR9Obj.goBack=function(){soccerR9Obj.destroy(),homeObj.show()},soccerR9Obj.show("reload",function(){soccerR9Obj.getData()})):"SPF14"==a?(soccerTotoObj.goBack=function(){soccerTotoObj.destroy(),homeObj.show()},soccerTotoObj.show("reload",function(){soccerTotoObj.getData()})):"BSKFH"==a&&(basketMixObj.goBack=function(){basketMixObj.destroy(),homeObj.show()},basketMixObj.show("reload",function(){basketMixObj.getData()}))}},projectDetailObj.goBet=function(){var a=this,b=a.lotteryInfo.wagerStore,c=a.lotteryInfo.nowLotteryNo,d=a.lotteryInfo.lotteryType.toLowerCase();if(!b||!d||!c)return $.alertMsg("数据错误"),!1;for(var e=b.split(";"),f=0;f<e.length;f++){if(e[f].indexOf("$")>=0&&(d==ConfigObj.fastLotType||d==ConfigObj.fastK3Type)){var g=e[f].split("|");g[g.length-2]=g[g.length-2]+"_D",e[f]=g.join("|")}var h=e[f].split("|"),i=h[1];-1!=e[f].indexOf("TXD2")&&(e[f]=e[f].replace(/\:/g,"|"))}for(var f=(new Array,0),j=e.length;f<j;f++)if(this.lotteryType!=ConfigObj.fastK3Type&&(e[f]=e[f].replace(/\+/g,"|")),!(e[f].indexOf("$")<0)){for(var h=e[f].split("|"),k=0,l=h.length;k<l;k++)if(!(h[k].indexOf("$")<0)){for(var m=h[k].split("$"),n=new Array,o=m[0].split(","),p=0,q=o.length;p<q;p++)n.push("d-"+o[p]);m[0]=n.join(","),h[k]=m.join(",")}e[f]=h.join("|")}var r=e.join(";");if(r.length>800)return $.alertMsg("当前方案太复杂暂不支持"),!1;window.localStorage.removeItem(d+"lotteryBetData"),window.localStorage.removeItem(d+"lotteryAllBetData"),window.localStorage.removeItem(d+"MulAndPer");var s={lotteryType:d,lotteryCnName:a.lotteryInfo.lotteryTypeCn,lotteryNo:c,lotteryPlay:i};Global.GC(),window.localStorage.setItem(d+"lotteryBetData",r);var t=d;-1!==ConfigObj.syx5Type.indexOf(d)&&(ConfigObj.fastLotType=d,t="fastBet"),d==ConfigObj.fastK3Type&&(t="fastK3"),window[t+"ConfirmObj"].show("reload",function(){window[t+"ConfirmObj"].setData(s)}),window[t+"ConfirmObj"].goBack=function(){window[t+"Obj"].show("reload")},window[t+"Obj"].goBack=function(){Global.GC(),homeObj.show()}},projectDetailObj.onloadExecution=function(){this.createDom(),this.createEvent()},projectDetailObj.init=function(){projectDetailObj.onloadExecution()},projectDetailObj.setDefConfig=function(){this.product_id="",this.lotteryType="",this.lotteryInfo="",this.routeArr=[],this.addExtHeight=!1,this.firstFix=!1},projectDetailObj.getData=function(a){var b=this;b.product_id=a;var c={pid:a},d={para:Global.encrypt(c),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.project.index",type:"post",data:d,dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),b.lotteryInfo=a.info,b.lotteryType=a.info.lotteryType.toLowerCase(),b.formatHtmlA(a.info),b.formatHtmlB(a.info),b.formatHtmlC(a.info),b.formatHtmlD(a.info),b.addResultHeight()):$.alertMsg(a.code_str)}})},projectDetailObj.addResultHeight=function(){if(this.addExtHeight){for(var a=$("#projectDetail .jsCalcHeight"),b=0,c=a.length;b<c;b++){var d=parseInt($(a[b]).css("top"),10);if(d){var e=d+80;$(a[b]).css({top:e})}}this.firstFix=!0,this.addExtHeight=!1}},projectDetailObj.getPrizeHtml=function(a){var b="";if("save"==this.lotteryInfo.consignType){if("Not"==a.prizeStatus)b+='<span class="fr">待开奖</span>';else if("Open"==a.prizeStatus||"Prize"==a.prizeStatus)if(a.rawPrize>0){var c=a.rawPrize>0?"fr fontred":"fr gray";b+='<span class="'+c+'">',a.netPrize>0&&(a.netPrize>=1e4?b+="<strong>大奖"+a.netPrize+"</strong>":b+="<strong>中奖"+a.netPrize+"</strong>"),b+="</span>"}else 0==a.netPrize&&(b+='<span class="fr gray"><strong>未中奖</strong></span>\t')}else if("Not"==a.prizeStatus)"出票成功"==a.desc||"部分成功"==a.desc?b+='<span class="fr"><strong>待开奖</strong></span>':b+='<span class="fr">待开奖</span>';else if("Open"==a.prizeStatus||"Prize"==a.prizeStatus)if(a.netPrize>0){var c=(("出票成功"==a.desc||"部分成功"==a.desc)&&a.realPrize)>0?"fr fontred":"fr gray";b+='<span class="'+c+'">',a.realPrize,a.netPrize>=1e4?b+="<strong>大奖"+a.netPrize+"</strong>":b+="<strong>中奖"+a.netPrize+"</strong>",b+="</span>"}else 0==a.netPrize&&(b+='<span class="fr gray"><strong>未中奖</strong></span>\t');return b},projectDetailObj.formatHtmlA=function(a){var b=this,c='<li class="clearfix font12"><p class="fl"><span class="font14">'+a.lotteryTypeCn+" "+a.lotteryNo+'期</span></p><p class="fr font12">订单编号：'+a.lotteryId+'</p></li><li class="clearfix pr35 font12"  data-t="st" data-p="'+a.lotteryId+'"><p class="clearfix mb10"><span class="fl fontred">投注金额：￥'+a.totalMoney+("部分成功"==a.desc?" (出票￥"+a.realMoney+")":"")+"</span>";c+=this.getPrizeHtml(a),c+="</p>",c+='<p class="clearfix">',c+=b.getTicketHtml(a),c+='<span class="fr" '+("Y"==a.canbuy?' data-t="pay" ':"")+' data-p="'+a.lotteryId+'" data-m="'+a.totalMoney+'" >',c+=b.getBuyStatusHtml(a),c+="</span>",c+='</p><span class="arrowbox"><em class="rtarrow icon"></em></span></li>',this.isNumLottery()&&a.lotteryResult&&(c+='<li class="clearfix"><p class="mb8">开奖号码</p><p class="kjlist clearfix">'+(this.isFastLottery()?projectDetailObj.getFastResultHtml(a.lotteryResult):a.lotteryResult)+"</p></li>",this.firstFix||(this.addExtHeight=!0)),this.wrapA.html(c)},projectDetailObj.getBuyStatusHtml=function(a){var b="";return"save"==a.consignType?b+='<em>票样详情</em><em class="arrow arrow_2"></em>':(b+="<em ","等待付款"==a.desc?b+=' class="fontblue"':"出票失败"==a.desc&&(b+=' class="fontred"'),b+=" >",b+=a.desc,b+="</em>"),b},projectDetailObj.getTicketHtml=function(a){var b="";return b+='<span class="fl"><em class="gray">注数倍数：</em>',b+="<em>"+a.wagerCount+"注"+a.wagerMultiple+"倍</em>",b+="</span>"},projectDetailObj.isFastLottery=function(){var a=["tjsyy","gd11x5","gx11x5","xj11x5","sd11x5","gxk3","jxk3","jlk3"],b=this.lotteryType;return-1!=$.inArray(b,a)},projectDetailObj.getFastResultHtml=function(a){var b="";if(a.bet_result_list){var c=a.bet_result_list[0];if(c.indexOf(";")>-1){var d=new Array;d=c.split(";"),a.bet_result_list=d}for(var e=0;e<a.bet_result_list.length;e++)b+='<span class="ball redball">'+a.bet_result_list[e]+"</span>"}return b},projectDetailObj.formatHtmlB=function(a){var b="";this.isNumLottery()?this.isFastLottery()&&"jxk3"!=this.lotteryType&&"jlk3"!=this.lotteryType?"jxk3"==this.lotteryType&&"jlk3"==this.lotteryType||(b=this.getFastBetHtml(a)):(console.log(a.wagerList),b='<div class="betlist detail_con">'+a.wagerList+"</div>"):this.isSportLottery()?b=this.getSportBetHtml(a):this.isTotoLottery()&&(b=this.getTotoBetHtml(a)),this.wrapB.html(b)},projectDetailObj.formatHtmlC=function(a){if(this.isNumLottery()&&"ios"!=ConfigObj.from){var b='<a href="javascript:void(0)" data-t="bet">继续守号</a>';this.wrapC.html(b).show()}else{if("1"==this.lotteryInfo.manner||"3"==this.lotteryInfo.manner)var b='<a   href="javascript:void(0)" data-t="bet">继续选号</a><a  href="javascript:void(0);" class="spe"  data-t="goDetail"  data-id="'+this.lotteryInfo.lotteryId+'">奖金优化</a>';else var b='<a  class="fontblue" href="javascript:void(0)" data-t="bet">继续选号</a>';this.wrapC.html(b).show()}var c=Math.round(100/this.wrapC.find("a").length)-1+"%";this.wrapC.find("a").css({width:c})},projectDetailObj.formatHtmlD=function(a){var b=this,c="";if(b.isNumLottery())var c='<p class="detail_tit clearfix"><span class="fl">方案内容</span><span class="fr font12"><em class="gray"> 共'+a.wagerCount+"注 "+a.wagerMultiple+"倍 </em></span></p>";else if(b.isSportLottery())var c='<p class="detail_tit clearfix"><span class="fl">投注信息</span><span class="fr font12">'+a.matchCount+"场 "+a.passTypeCn+"</span></p>";else if(b.isTotoLottery())var c='<p class="detail_tit clearfix"><span class="fl">投注信息</span><span class="fr font12">'+a.wagerCount+"注  "+a.wagerMultiple+"倍</span></p>";this.wrapD.html(c)},projectDetailObj.getFastBetHtml=function(a){var b=this,c=a.lotteryResult&&a.lotteryResult.bet_result_list?a.lotteryResult.bet_result_list:[],d=a.lotteryResult&&a.lotteryResult.bet_result_list?a.lotteryResult.bet_result_list.slice(0,2):[],e=a.lotteryResult&&a.lotteryResult.bet_result_list?a.lotteryResult.bet_result_list.slice(0,3):[],f='<div class="betlist detail_con"><div class="listwrap"><div class="lists font12">';for(var g in a.wagerList){var h=a.wagerList[g];if("FP1"==g||"FP2"==g||"FP3"==g)for(var i=0;i<h.length;i++){var j=h[i];if(f+='<div class="libox"><p class="number">',f+='<span class="gray">',j[0])for(var k=0;k<j[0].length;k++)f+="<i "+(j[0][k]==c[0]?'class="fontred"':"")+">"+j[0][k]+"</i>";if(f+="</span>",j[1]){f+='<em>|</em><span class="gray">';for(var k=0;k<j[1].length;k++)f+="<i "+(j[1][k]==c[1]?'class="fontred"':"")+">"+j[1][k]+"</i>";f+="</span>"}if(j[2]){f+='<em>|</em><span class="gray">';for(var k=0;k<j[2].length;k++)f+="<i "+(j[2][k]==c[2]?'class="fontred"':"")+">"+j[2][k]+"</i>";f+="</span>"}var l=1*j.count>1?"复式":"单式";f+='</p><div class="clearfix"><p class="zhushu fl"><span>'+j.wagerType+"</span><span>"+l+"</span><span>"+j.count+"注</span><span>"+2*j.count+"元</span></p>",f+=b.getFastPrizeHtml(j),f+="</div></div>"}else for(var i=0;i<h.length;i++){var j=h[i];if(f+='<div class="libox"><p class="number">',"FC2"==g){if(j.dan){f+='<span class="fontblack">(';for(var k=0;k<j.dan.length;k++)f+="<i "+(-1!=$.inArray(j.dan[k],d)?'class="fontred"':"")+">"+j.dan[k]+"</i>";f+=")</span>"}f+='<span class="gray">';for(var k=0;k<j.tuo.length;k++)f+="<i "+(-1!=$.inArray(j.tuo[k],d)?'class="fontred"':"")+">"+j.tuo[k]+"</i>";f+="</span>"}else if("FC3"==g){if(j.dan){f+='<span class="fontblack">(';for(var k=0;k<j.dan.length;k++)f+="<i "+(-1!=$.inArray(j.dan[k],e)?'class="fontred"':"")+">"+j.dan[k]+"</i>";f+=")</span>"}if(j.tuo){f+='<span class="gray">';for(var k=0;k<j.tuo.length;k++)f+="<i "+(-1!=$.inArray(j.tuo[k],e)?'class="fontred"':"")+">"+j.tuo[k]+"</i>";f+="</span>"}}else{if(j.dan){f+='<span class="fontblack">(';for(var k=0;k<j.dan.length;k++)f+="<i "+(-1!=$.inArray(j.dan[k],c)?'class="fontred"':"")+">"+j.dan[k]+"</i>";f+=")</span>"}f+='<span class="gray">';for(var k=0;k<j.tuo.length;k++)f+="<i "+(-1!=$.inArray(j.tuo[k],c)?'class="fontred"':"")+">"+j.tuo[k]+"</i>";f+="</span>"}f+="</p>";var l=1*j.count>1?"<span>复式</span>":"<span>单式</span>";j.dan&&(l=""),f+='<div class="clearfix"><p class="zhushu fl"><span>'+j.wagerType+"</span> "+l+(j.dan?"<span>胆拖</span>":"")+"<span>"+j.count+"注</span><span>"+2*j.count+"元</span></p>",f+=b.getFastPrizeHtml(j),f+="</div></div>"}}return f+="</div></div></div>"},projectDetailObj.getFastPrizeHtml=function(a){var b="";return"save"!=this.lotteryInfo.consignType?a.netPrize>0&&(b+='<p class="fr"><span class="'+(a.realPrize>0?"fontred":"gray")+'" ><strong>'+(a.rawPrize!=a.netPrize?"大奖":"中奖")+a.netPrize+"元</strong></span></p>"):a.rawPrize>0&&(b+='<p class="fr"><span class="fontred" ><strong>'+(a.rawPrize!=a.netPrize?"大奖":"中奖")+a.netPrize+"元</strong></span></p>"),b},projectDetailObj.getSportBetHtml=function(a){var b=this,c='<div class="betlist detail_con jz_detail"><div class="listwrap"><div class="lists">';for(var d in a.wagerList){var e=a.wagerList[d],f="";if(f="bskfh"==b.lotteryType?'<em class="font12 gray">总分:'+e.totalResult+" 分差:"+e.diffResult+" </em>":'<em class="font12 gray">半全场：'+e.bqcResult+"</em>",c+='<div class="libox clearfix"><div class="fl font12 gray w10 center"><p>'+e.week+"</p><p>"+e.subOid+"</p><p>"+("Y"==e.isAbs?'<span class="jzdan on"><em>胆</em></span>':"")+'</p></div><div class="w80 fr"><p class="mb10 center detop clearfix"><span style="width:28%">'+e.homeName+"</span>",-1==e.bet_result?c+='<span class="fontred">延期</span>':e.score?c+='<span class="fontred" style="width:44%"><em class="score">'+e.score+"</em>"+f+"</span>":c+='<span class="font12" >'+e.matchTime+"</span>",c+='<span style="width:28%">'+e.awayName+"</span></p>",e.FTBRQSPF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq">让<em>0</em></span>';for(var g=0;g<e.FTBRQSPF.wager.length;g++){var h=e.FTBRQSPF.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTBRQSPF")+' "><span><i class="font12">'+h+"</i><i>"+e.FTBRQSPF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTSPF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq">让<em>'+e.rq+"</em></span>";for(var g=0;g<e.FTSPF.wager.length;g++){var h=e.FTSPF.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTSPF")+' "><span><i class="font12">'+h+"</i><i>"+e.FTSPF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTBF){c+='<div class="match_detail jzhg jz_score center mb10 clearfix"><span class="rq">比分</span>';for(var g=0;g<e.FTBF.wager.length;g++){var h=e.FTBF.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTBF")+' "><span><i class="font12">'+h+"</i><i>"+e.FTBF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTBQC){c+='<div class="match_detail jzhg jz_score center mb10 clearfix"><span class="rq pt1">半全场</span>';for(var g=0;g<e.FTBQC.wager.length;g++){var h=e.FTBQC.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTBQC")+' "><span><i class="font12">'+h+"</i><i>"+e.FTBQC.odds[h]+"</i></span></div>"}c+="</div>"}if(e.FTJQS){c+='<div class="match_detail jzhg jz_score center clearfix"><span class="rq pt1">总进球</span>';for(var g=0;g<e.FTJQS.wager.length;g++){var h=e.FTJQS.wager[g];c+='<div class="opt_jz selected '+b.getMixBetClass(h,e,"FTJQS")+' "><span><i class="font12">'+h+"</i><i>"+e.FTJQS.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKSF){c+='<div class="match_detail jzhg mb10 center clearfix"><span class="rq">胜负</span>';for(var g=0;g<e.BSKSF.wager.length;g++){var h=e.BSKSF.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKSF")+' "><span><i class="font12">'+h+'</i> <i class="cc">'+e.BSKSF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKRFSF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq">让分</span>';for(var g=0;g<e.BSKRFSF.wager.length;g++){var h=e.BSKRFSF.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKRFSF")+' "><span><i class="font12">'+h+"</i> <i>"+e.rq+'</i> <i class="cc">'+e.BSKRFSF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKDXF){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq pt1">大小分</span>';for(var g=0;g<e.BSKDXF.wager.length;g++){var h=e.BSKDXF.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKDXF")+' "><span><i class="font12">'+h+"</i><i>"+e.dxf+'</i> <i class="cc">'+e.BSKDXF.odds[h]+"</i></span></div>"}c+="</div>"}if(e.BSKSFC){c+='<div class="match_detail jzhg center mb10 clearfix"><span class="rq pt1">胜分差</span>';for(var g=0;g<e.BSKSFC.wager.length;g++){var h=e.BSKSFC.wager[g];c+='<div class="opt_lq selected '+b.getMixBetClass(h,e,"BSKSFC")+' "><span><i class="font12">'+h+'</i> <i class="cc">'+e.BSKSFC.odds[h]+"</i></span></div>"}c+="</div>"}c+="</div></div>"}return c+='\t</div></div></div><div class="w94"><p class="font12 gray">上述赔率仅为投注时的参考值，非计奖赔率</p></div><div style="height:70px;"></div>'},projectDetailObj.getTotoBetHtml=function(a){var b=this,c='<div class="betlist detail_con jz_detail"><div class="listwrap"><div class="lists">';if(a.wagerList&&a.wagerList.length>0)for(var d=0;d<a.wagerList.length;d++){var e=a.wagerList[d];c+='<div class="libox clearfix"><div class="fl font12 gray w15  center"><p style="height:35px;">'+("Y"==e.isAbs?'<span class="jzdan on"><em>胆</em></span>':"")+"</p><p>第"+e.subOid+"场</p><p>"+e.leagueName+'</p></div><div class="w80 fr"><p class="mb10 center detop clearfix"><span>'+e.homeName+"</span>"+(e.score?'<span class="fontred"><strong>'+e.score+"</strong></span>":-1==e.bet_result?'<span class="font12">延期</span>':'<span class="font12">'+e.match_time_q+"</span>")+"<span>"+e.awayName+'</span></p><div class="match_detail zc_detail center clearfix"><p class="opt_jz '+b.getBetClass("3",e)+'"><span><em class="font12 gray">主胜</em> '+e.odds[0]+'</span></p><p class="opt_jz '+b.getBetClass("1",e)+'"><span><em class="font12 gray">平</em> '+e.odds[1]+'</span></p><p class="opt_jz '+b.getBetClass("0",e)+'"><span><em class="font12 gray">客胜</em>'+e.odds[2]+"</span></p></div></div></div>"}return c+='\t\t</div></div></div><div style="height:70px;"></div>'},projectDetailObj.getMixBetClass=function(a,b,c){var d="";return"FTBRQSPF"==c?-1==b.bet_result?d="on":b.brqResult&&(d=a==b.brqResult?"on":"out"):"FTSPF"==c?-1==b.bet_result?d="on":b.rqResult&&(d=a==b.rqResult?"on":"out"):"FTBF"==c?-1==b.bet_result?d="on":b.bfResult&&(d=a==b.bfResult?"on":"out"):"FTBQC"==c?-1==b.bet_result?d="on":b.bqcResult&&(d=a==b.bqcResult?"on":"out"):"FTJQS"==c?-1==b.bet_result?d="on":b.jsqResult&&(d=a==b.jsqResult?"on":"out"):"BSKSF"==c?-1==b.bet_result?d="on":b.sfResult&&(d=a==b.sfResult?"on":"out"):"BSKRFSF"==c?-1==b.bet_result?d="on":b.rfsfResult&&(d=a==b.rfsfResult?"on":"out"):"BSKDXF"==c?-1==b.bet_result?d="on":b.dxfResult&&(d=a==b.dxfResult?"on":"out"):"BSKSFC"==c&&(-1==b.bet_result?d="on":b.sfcResult&&(d=a==b.sfcResult?"on":"out")),d},projectDetailObj.getBetClass=function(a,b){var c="";return-1!=$.inArray(a,b.wager)&&(c+=" selected"),""!==b.bet_result&&(b.bet_result==a?c+=" on":-1==b.bet_result?-1!=c.indexOf("selected")&&(c+=" on"):c+=" out"),c},projectDetailObj.isNumLottery=function(){var a=this,b=["dlt","pl5","pl3","qxc","tjsyy","gd11x5","gx11x5","xj11x5","sd11x5","hn4j1","ssq","gxk3","jxk3","jlk3","d3"];return-1!=$.inArray(a.lotteryType,b)},projectDetailObj.isSportLottery=function(){var a=this,b=["ftbrqspf","ftspf","ftfh","bskfh"];return-1!=$.inArray(a.lotteryType,b)},projectDetailObj.isTotoLottery=function(){var a=this,b=["spf14","spf9"];return-1!=$.inArray(a.lotteryType,b)},projectDetailObj.sendStation=function(){var a=this,b={access_token:loginObj.access_token,lottery_id:a.product_id,user_id:loginObj.userInfo.user_id,station_id:loginObj.userInfo.station_user_id};$.ajax({url:ConfigObj.localSite+"?m=user.Station.refer",data:b,type:"post",dataType:"json",success:function(a){"0000"==a.code?$("#projectDetail_sucTip").show():$.alertMsg(a.code_str)}})},projectDetailObj.goStation=function(){$("#projectDetail_sucTip").hide(),stationDetailObj.goBack=function(){stationDetailObj.destroy(),projectDetailObj.show()},stationDetailObj.show("",function(){stationDetailObj.getData(loginObj.userInfo.s_id)})},projectDetailObj.goBack=function(){this.popRoute()},projectDetailObj.destroy=function(){this.setDefConfig(),$("#projectDetail").html("").remove(),this.routeArr=[]},projectDetailObj.dirShow=function(a){var b=this;b.show("reload",function(){b.product_id=a&&a.pid?a.pid:"",b.getData(b.product_id)})};var projectSubDetailObj=new PageController({name:"projectSubDetail",tpl:"template/record/projectSubDetail.html"});projectSubDetailObj.createDom=function(){this.wrapperObj=$("#projectSubDetail_wrapperObj"),this.wrapA=$("#projectSubDetail_wrapA"),this.wrapB=$("#projectSubDetail_wrapB"),this.wrapC=$("#projectSubDetail_wrapC"),this.wrapD=$("#projectSubDetail_wrapD")},projectSubDetailObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return projectSubDetailObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"ticketDetail":return projectSubDetailObj.goTicketDetail(c.attr("data-v")),!0}}})},projectSubDetailObj.goTicketDetail=function(a){ticketDetailObj.goBack=function(){ticketDetailObj.destroy(),projectSubDetailObj.show()},ticketDetailObj.show("reload",function(){ticketDetailObj.setData(a),ticketDetailObj.getData()})},projectSubDetailObj.onloadExecution=function(){this.createDom(),this.createEvent()},projectSubDetailObj.init=function(){projectSubDetailObj.onloadExecution()},projectSubDetailObj.setDefConfig=function(){this.product_id=""},projectSubDetailObj.getData=function(a){var b=this;this.product_id=a;var c={pid:a},d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=user.project.pace",type:"post",data:d,dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),b.formatHtmlA(a.info),b.formatHtmlB(a.info),b.formatHtmlC(a.info),b.formatHtmlD(a.info)):$.alertMsg(a.code_str)}})},projectSubDetailObj.formatHtmlA=function(a){var b='<p class="pt15">投注金额</p><p class="font12 gray">'+a.add_time+'</p><span class="font16 fontred money">'+a.money+"元</span>";this.wrapA.html(b)},projectSubDetailObj.formatHtmlB=function(a){$("#projectSubDetail_pid").html(a.project_id);var b='<span class="line line_over"><em class="dot dot_over"></em></span>'
;"opening"==a.process_status||"dispatching"==a.process_status||"dispatched"==a.process_status||"printing"==a.process_status?"deal"==a.pay_status?b+='<span class="line line_over"><em class="dot dot_over"></em></span>':b+='<span class="line line_over"><em class="dot "></em></span>':b+='<span class="line "><em class="dot "></em></span>',"opening"==a.process_status||"dispatching"==a.process_status||"dispatched"==a.process_status?"yes"==a.print_status?b+='<span class="line line_over"><em class="dot dot_over"></em></span>':b+='<span class="line line_over"><em class="dot "></em></span>':"printing"==a.process_status?"deal"==a.pay_status?b+='<span class="line"><em class="dot dot_half"></em></span>':b+='<span class="line line_over"><em class="dot"></em></span>':b+='<span class="line"><em class="dot"></em></span>',"opening"==a.process_status||"dispatching"==a.process_status||"printing"==a.process_status||"submit"==a.process_status?"yes"==a.print_status?b+='<span class="line"><em class="dot dot_half"></em></span>':b+='<span class="line"><em class="dot"></em></span>':"dispatched"==a.process_status?"yes"==a.print_status?b+='<span class="line line_over"><em class="dot dot_over"></em></span>':b+='<span class="line line_over"><em class="dot"></em></span>':b+='<span class="line"><em class="dot"></em></span>',"dispatched"==a.process_status?"yes"==a.print_status?b+='<span class="line line_over"><em class="dot dot_over"></em></span>':b+='<span class="line line_over"><em class="dot"></em></span>':b+='<span class="line"><em class="dot"></em></span>',this.wrapB.html(b)},projectSubDetailObj.formatHtmlC=function(a){var b="";b+='<div class="jdli"><p class="">'+a.submit_info.msg+'</p><p class="font12 gray">'+a.submit_info.time_desc+'</p></div><div class="jdli"><p class="">'+a.pay_info.msg+'</p><p class="font12 gray">'+a.pay_info.time_desc+'</p></div><div class="jdli" '+("Y"==a.is_havingticket?'data-t="ticketDetail" data-v="'+a.project_id+'"':"")+'><p class="">'+a.print_info.msg+("Y"==a.is_havingticket?'<a href="javascript:void(0)" ><em class="arrow"></em></a>':"")+'</p><p class="font12 gray">'+a.print_info.time_desc+'</p></div><div class="jdli"><p class="">'+a.open_info.msg+'</p><p class="font12 gray">'+a.open_info.time_desc+'</p></div><div class="jdli"><p class="">'+a.dispatch_info.msg+'</p><p class="font12 gray">'+a.dispatch_info.time_desc+"</p></div>",this.wrapC.html(b)},projectSubDetailObj.formatHtmlD=function(a){var b="";"succ"==a.current_status?b+='<p class="smtip font16"><span class="suc_icon tipicon"></span>'+a.current_statuscn+"</p>":"printing"==a.current_status?b+='<p class="smtip font16"><span class="wait_icon tipicon"></span>'+a.current_statuscn+"</p>":"fail"==a.current_status&&(b+='<p class="smtip font16"><span class="err_icon tipicon"></span>'+a.current_statuscn+"</p>"),this.wrapD.html(b)};var rechargeRecordObj=new PageController({name:"rechargeRecord",tpl:"template/record/rechargeRecord.html"});rechargeRecordObj.createDom=function(){this.rechargeObj=$("#rechargeRecord_rechargeObj"),this.rechargeListObj=$("#rechargeRecord_rechargeListObj")},rechargeRecordObj.createEvent=function(){this.rechargeObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return rechargeRecordObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return rechargeRecordObj.hrefDetail(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(rechargeRecordObj.scrollTop=window.scrollY),!rechargeRecordObj.checkPage)return!1;rechargeRecordObj.updatePage()},this.rechargeListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){rechargeRecordObj.page=0,rechargeRecordObj.getListData(),a.resetload()}})},rechargeRecordObj.hrefDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");if(!b||!c)return!0;"order"==b&&(rechargeStatusObj.goBack=function(){rechargeStatusObj.destroy(),rechargeRecordObj.show()},rechargeStatusObj.show("reload",function(){rechargeStatusObj.getData(c)})),"Project"==b&&projectDetailObj.show("reload",function(){projectDetailObj.getData(c),projectDetailObj.pushRoute(function(){rechargeRecordObj.show()})})},rechargeRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.rechargeObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},rechargeRecordObj.getListData=function(){rechargeRecordObj.checkPage=!1;var a={page:this.page,page_size:this.minListNum},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Record.deposit",type:"post",data:b,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.page!=rechargeRecordObj.page)return!1;a.info.list.length<rechargeRecordObj.minListNum?rechargeRecordObj.checkPage=!1:rechargeRecordObj.checkPage=!0,rechargeRecordObj.createListHtml(a.info.list),rechargeRecordObj.checkPage||rechargeRecordObj.rechargeListObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},rechargeRecordObj.createListHtml=function(a){var b=[];a.forEach(function(a){var c={Succeed:["#ef633f","#ef633f"],Not:["#999","#333"],Default:["#999","#999"]},d='<span style="display: inline-block;position: relative; bottom: 10px"><span style="color: '+(c[a.status]?c[a.status][0]:c.Default[0])+'; display: block">'+a.amount+'元</span><span  style="color: '+(c[a.status]?c[a.status][1]:c.Default[1])+'; display: block">'+a.status_cn+'</span></span><em class="icon rtarrow" style="position: relative; bottom: 25px"></em>',e='<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a.create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="order" data-i="'+a.target_id+'"><h3 class="mb10">'+a.item_cn+'</h3><p class="font12 gray">'+a.create_time+'</p><p class="cash_change">'+d+"</p></div></div></div>";b.push(e)}),0==this.page?this.rechargeListObj.html(b.join("")):this.rechargeListObj.append(b.join(""))},rechargeRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},rechargeRecordObj.init=function(){rechargeRecordObj.setDefConfig(),rechargeRecordObj.onloadExecution()},rechargeRecordObj.setDefConfig=function(){rechargeRecordObj.page=0,rechargeRecordObj.checkPage=!0,rechargeRecordObj.clientHeight=document.documentElement.clientHeight,rechargeRecordObj.minListNum=20,rechargeRecordObj.timeTem="",window.onscroll=null,rechargeRecordObj.scrollTop=0};var scorePrizeRecordObj=new PageController({name:"scorePrizeRecord",tpl:"template/record/scorePrizeRecord.html"});scorePrizeRecordObj.createDom=function(){this.wrapperObj=$("#scorePrizeRecord_wrapperObj"),this.listObj=$("#scorePrizeRecord_listObj")},scorePrizeRecordObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return scorePrizeRecordObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return scorePrizeRecordObj.goDetail(c),!0}}}),window.onscroll=null,window.onscroll=function(){if(0!==window.scrollY&&(scorePrizeRecordObj.scrollTop=window.scrollY),!scorePrizeRecordObj.checkPage)return!1;scorePrizeRecordObj.updatePage()},this.listObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){scorePrizeRecordObj.page=0,scorePrizeRecordObj.getListData(),a.resetload()}})},scorePrizeRecordObj.goDetail=function(a){var b=a.attr("data-type"),c=a.attr("data-status");if("valuable"==b&&"past"!=c){sendPrizeObj.goBack=function(){sendPrizeObj.destroy(),scorePrizeRecordObj.destroy(),scorePrizeRecordObj.show()};var d={prizeLevelText:a.attr("data-level"),prizeName:a.attr("data-name"),getprizeid:a.attr("data-getprizeid"),prizeid:a.attr("data-prizeid"),status:a.attr("data-status")};sendPrizeObj.show("",function(){sendPrizeObj.getData(d)})}else"score"==b&&(scoreRecordObj.goBack=function(){scoreRecordObj.destroy(),scorePrizeRecordObj.show()},scoreRecordObj.show())},scorePrizeRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapperObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},scorePrizeRecordObj.updateType=function(a){var b=a.attr("data-v");if(b==this.cashListType)return!1;a.siblings().removeClass("on"),a.addClass("on"),this.cashListType=b,this.page=0,this.checkPage=!0,this.timeTem="",this.listObj.html(""),this.getListData()},scorePrizeRecordObj.getListData=function(){scorePrizeRecordObj.checkPage=!1;var a={page:this.page,page_size:this.minListNum,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.activity.myPrize",type:"post",data:a,dataType:"json",success:function(a){"0000"==a.code?(a.info.length<scorePrizeRecordObj.minListNum?scorePrizeRecordObj.checkPage=!1:scorePrizeRecordObj.checkPage=!0,scorePrizeRecordObj.createListHtml(a.info),scorePrizeRecordObj.checkPage||scorePrizeRecordObj.listObj.append('<div class="center endtip_1">已显示全部</div>')):$.alertMsg(a.code_str)}})},scorePrizeRecordObj.createListHtml=function(a){for(var b="",c=0,d=a.length;c<d;c++){var e=a[c],f="";"valuable"==e.prizeType&&("open"==e.status?f='<span class="un-received disbg"></span>':"prize"==e.status?f='<span class="received disbg"></span>':"past"==e.status&&(f='<span class="expire"></span>')),b+='<div class="orderlist" ><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt" ><p class="gray mb8">'+e.createtime+'</p><div class="orderbox mb20" data-t="detail" data-status="'+e.status+'" data-type="'+e.prizeType+'" data-prizeid="'+e.prizeid+'" data-getprizeid="'+e.getprizeid+'" data-level="'+e.prizeLevelText+'" data-name="'+e.prizeName+'"><h3 class="mb10 clearfix"><span class="fl">'+e.prizeLevelText+"</span>"+("score"==e.prizeType?'<span class="fr fontred">+'+e.prizeName+e.prizeTypeText+"</span>":'<span class="fr fontred">'+e.prizeName+"</span>")+'</h3><p class="font12 clearfix">'+("valuable"==e.prizeType?'<span class="fl gray">有效期：'+e.expireDate+"</span>":"")+'<span class="fr">'+("valuable"==e.prizeType&&"past"!=e.status?'<a href="javascript:void(0)" class="fontblue">查看</a>':"")+"</span></p>"+f+"</div></div></div>"}0==this.page?this.listObj.html(b):this.listObj.append(b)},scorePrizeRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},scorePrizeRecordObj.init=function(){scorePrizeRecordObj.setDefConfig(),scorePrizeRecordObj.onloadExecution()},scorePrizeRecordObj.setDefConfig=function(){scorePrizeRecordObj.cashListType="",scorePrizeRecordObj.page=0,scorePrizeRecordObj.checkPage=!0,scorePrizeRecordObj.clientHeight=document.documentElement.clientHeight,scorePrizeRecordObj.minListNum=20,scorePrizeRecordObj.timeTem="",window.onscroll=null,scorePrizeRecordObj.scrollTop=0};var scoreRecordObj=new PageController({name:"scoreRecord",tpl:"template/record/scoreRecord.html"});scoreRecordObj.createDom=function(){this.scoreObj=$("#scoreRecord_scoreObj"),this.scoreListObj=$("#scoreRecord_scoreListObj"),this.allScoreObj=$("#scoreRecord_allScoreObj")},scoreRecordObj.createEvent=function(){this.scoreObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return scoreRecordObj.goBack(),!0;case"search":return scoreRecordObj.goSearch(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"update":return scoreRecordObj.updateType(c),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return scoreRecordObj.hrefDetail(c),!0}}}),window.onscroll=function(){return 0!==window.scrollY&&(scoreRecordObj.scrollTop=window.scrollY),!!scoreRecordObj.checkPage&&("none"!=$("#scoreRecord").css("display")&&void scoreRecordObj.updatePage())},this.scoreListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){scoreRecordObj.page=0,scoreRecordObj.getListData(),a.resetload()}})},scoreRecordObj.goSearch=function(){searchScoreRecordObj.goBack=function(){searchScoreRecordObj.destroy(),scoreRecordObj.show()},searchScoreRecordObj.show()},scoreRecordObj.hrefDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");if("together"==a.attr("data-c"))return hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),scoreRecordObj.show()},void hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(c)});if(!b||!c)return!0;switch(b){case"Project":projectDetailObj.show("reload",function(){projectDetailObj.getData(c),projectDetailObj.pushRoute(function(){scoreRecordObj.show()})})}},scoreRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.scoreObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},scoreRecordObj.updateType=function(a){var b=a.attr("data-v");if(b==this.scoreListType)return!1;a.siblings().removeClass("on"),a.addClass("on"),this.scoreListType=b,this.page=0,this.checkPage=!0,this.timeTem="",this.scoreListObj.html(""),this.getListData()},scoreRecordObj.getListData=function(){scoreRecordObj.checkPage=!1;var a={para:Global.encrypt({income_type:this.scoreListType,page:this.page,page_size:this.minListNum,period:"-3_months"}),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.score",type:"post",data:a,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.income_type!=scoreRecordObj.scoreListType)return!1;if(a.info.page!=scoreRecordObj.page)return!1;a.info.list.length<scoreRecordObj.minListNum?scoreRecordObj.checkPage=!1:scoreRecordObj.checkPage=!0,scoreRecordObj.allScoreObj.html(a.info.remain+"分"),scoreRecordObj.createListHtml(a.info.list),scoreRecordObj.checkPage||scoreRecordObj.scoreListObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},scoreRecordObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot'+(this.timeTem!=a[c].create_date?" blur":"")+'"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-c="'+a[c].consign_type+'" data-i="'+a[c].target_id+'"><h3 class="mb10">'+a[c].item_cn+'</h3><p class="font12 gray">'+a[c].create_time+'</p><p class="cash_change"><span class="'+(Number(a[c].amount)>0?"fontred":"fontgreen")+(a[c].target_type&&a[c].target_id?"":" mr22")+'">'+a[c].amount+"分"+(a[c].target_type&&a[c].target_id?'<em class="icon rtarrow"></em>':"")+"</span></p></div></div></div>"),this.timeTem=a[c].create_date;0==this.page?this.scoreListObj.html(b.join("")):this.scoreListObj.append(b.join(""))},scoreRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},scoreRecordObj.init=function(){scoreRecordObj.setDefConfig(),scoreRecordObj.onloadExecution()},scoreRecordObj.setDefConfig=function(){scoreRecordObj.scoreListType="",scoreRecordObj.page=0,scoreRecordObj.checkPage=!0,scoreRecordObj.clientHeight=document.documentElement.clientHeight,scoreRecordObj.minListNum=20,scoreRecordObj.timeTem="",window.onscroll=null,scoreRecordObj.scrollTop=0};var searchBetResultObj=new PageController({name:"searchBetResult",tpl:"template/record/searchBetResult.html"});searchBetResultObj.createDom=function(){this.wrapperObj=$("#searchBetResult_wrapperObj"),this.searchListObj=$("#searchBetResult_searchListObj"),this.noTipsObj=$("#searchBetResult_noTipsObj")},searchBetResultObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"fk":return searchBetResultObj.hrefPay(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"back":return searchBetResultObj.goBack(),!0;case"dlt":return searchBetResultObj.goDlt(),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return searchBetResultObj.hrefDetail(c),!0}}}),window.onscroll=function(){return 0!==window.scrollY&&(searchBetResultObj.scrollTop=window.scrollY),!!searchBetResultObj.checkPage&&("none"!=$("#searchBetResult").css("display")&&void searchBetResultObj.updatePage())}},searchBetResultObj.goDlt=function(){Global.GC(),dltObj.goBack=function(){dltObj.destroy(),homeObj.show()},dltObj.show()},searchBetResultObj.hrefPay=function(a){var b=a.attr("data-p"),c=a.attr("data-m"),d=a.attr("data-y")?a.attr("data-y").toLowerCase():"",e={product_id:b,pay_amount:c,lotteryType:d};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),searchBetResultObj.show()},buyConfirmObj.show("reload",function(){buyConfirmObj.setData(e)})},searchBetResultObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapperObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},searchBetResultObj.hrefDetail=function(a){var b=a.attr("data-v");projectDetailObj.show("reload",function(){projectDetailObj.getData(b),projectDetailObj.pushRoute(function(){searchBetResultObj.show()})})},searchBetResultObj.getListData=function(){this.checkPage=!1;var a=this.searchData;a.page=this.page;var b=ConfigObj.localSite+"?m=user.record.getLaunchList";"memberBet"==this.from?(this.searchData.station_user_id=loginObj.userInfo.station_user_id,b=ConfigObj.localSite+"?m=user.Station.tostationList"):this.searchData.station_user_id="";var c={access_token:loginObj.access_token,para:Global.encrypt(a)};$.ajax({url:b,type:"post",data:c,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.page!=searchBetResultObj.page)return!1;if(a.info.list.length)searchBetResultObj.noTipsObj.hide();else if(0==Number(a.info.page))return searchBetResultObj.noTipsObj.show(),!1;a.info.list.length<searchBetResultObj.minListNum?searchBetResultObj.checkPage=!1:searchBetResultObj.checkPage=!0,"memberBet"==searchBetResultObj.from?searchBetResultObj.createMListHtml(a.info.list):searchBetResultObj.createListHtml(a.info.list)}else $.alertMsg(a.code_str)}})},searchBetResultObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].time+'</p><div class="orderbox mb20" data-t="detail" data-v="'+a[c].lotteryId+'"><h3 class="mb10 clearfix"><span class="fl">'+a[c].lotteryTypeCn+'</span><span class="fr font12">'+a[c].lotteryNo+'期<em class="gray"> · '+a[c].recordType+'</em></span></h3><p class="font12 clearfix"><span class="fl fontred">￥'+a[c].money+"</span><span "+("等待付款"==a[c].status?"class='fr fontblue' data-y="+a[c].lotteryType+"  data-t='fk' data-m="+a[c].money+" data-p="+a[c].lotteryId:"出票失败"==a[c].status||0==a[c].status.indexOf("中奖")||0==a[c].status.indexOf("大奖")?"class='fr fontred'":'class="fr"')+">"+a[c].status+"</span></p></div></div></div>");this.searchListObj.append(b.join(""))},searchBetResultObj.createMListHtml=function(a){for(var b=this,c="",d=0,e=a.length;d<e;d++){var f=a[d];c+='<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8 clearfix"><span class="mr10">'+(f.createtime?f.createtime.substr(5,11):"")+"</span><span >"+f.user_name+'</span><span class="fr '+(f.net_prize>0?"fontred":"gray")+'">'+f.status+'</span></p><div class="orderbox mb20 clearfix" data-t="detail" data-v="'+f.lottery_id+'">'+(f.net_prize>0?'<p class="prize_1"></p>':"")+'<p class="fl box_1" data-t="star" data-id="'+f.lottery_id+'" data-v="'+f.memotype+'"><span class="icon_1 star'+b.starObj[f.memotype]+'"></span></p><dl class="fl box_2"><dt>'+f.lottery_type_cn+'</dt><dd class="font12 gray">第'+f.lottery_no+'期</dd></dl><dl class="fr box_3"><dd><span class="font12">￥'+f.money+'</span> <span class="fr">停售: '+(f.sell_end_time?f.sell_end_time.substr(5,11):"")+"</span></dd><dd><span>"+(f.ticket_count?f.ticket_count:"")+'张票</span> <span class="fr loading_icon1"><em style="width:'+f.rate+'%"></em></span></dd></dl></div></div></div>'}this.searchListObj.append(c)},searchBetResultObj.getTypeHtml=function(a){switch(a){case"buy":return'<a href="javascript:void(0)" class="fontblue">支付</a>';case"gq":return"已过期";case"jy":return"交易中";case"sb":return"已失败"}},searchBetResultObj.onloadExecution=function(){this.createDom(),this.createEvent()},searchBetResultObj.init=function(){this.setDefConfig(),searchBetResultObj.onloadExecution()},searchBetResultObj.setData=function(a){this.searchData=a,this.from=a.from},searchBetResultObj.setDefConfig=function(){searchBetResultObj.page=0,searchBetResultObj.checkPage=!0,searchBetResultObj.clientHeight=document.documentElement.clientHeight,searchBetResultObj.minListNum=2,searchBetResultObj.recordType={zt:"直投",zh:"追号",hm:"合买"},this.searchData=null,this.from="",this.starObj={0:"Gray",1:"Green",2:"Red",3:"Blue",4:"Purple"},this.editDom=""},searchBetResultObj.destroy=function(){this.setDefConfig(),$("#searchBetResult").html("").remove(),window.onscroll=null,searchBetResultObj.scrollTop=0};var searchCashRecordObj=new PageController({name:"searchCashRecord",tpl:"template/record/searchCashRecord.html"});searchCashRecordObj.createDom=function(){this.searchObj=$("#searchCashRecord_searchObj"),this.timeObj=$("#searchCashRecord_timeObj"),this.timeTipsObj=$("#searchCashRecord_timeTipsObj"),this.searchListObj=$("#searchCashRecord_searchListObj"),this.searchNumObj=$("#searchCashRecord_searchNumObj")},searchCashRecordObj.createEvent=function(){this.searchObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return searchCashRecordObj.subSearchData(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"data":return searchCashRecordObj.setSearchData(c),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return searchCashRecordObj.goBack(),!0}}}),this.timeObj[0].addEventListener("input",function(){searchCashRecordObj.updateTimeVal()},!1),this.timeObj.unbind("change").change(function(){searchCashRecordObj.getData()})},searchCashRecordObj.updateTimeVal=function(){var a=Number(this.timeObj.val());this.timeTipsObj.html(this.timeCn[a]+'<em class="arrow_d statebg"></em>'),this.updateTiemTipsLeft(),this.searchData.period=this.timeKey[a]},searchCashRecordObj.updateTiemTipsLeft=function(){var a=Number(this.timeObj.val()),b=Number(this.timeObj.attr("max")),c=Number(this.timeObj.attr("step")),d=this.timeTipsObj.parent().width();0==d&&(d=Math.floor(.94*window.innerWidth)-40);var e=d/(b/c),f=this.timeTipsObj.width(),g=a/c*e;g==d?g-=f:0==g?g=0:g-=f/2,this.timeTipsObj.css("left",g+"px")},searchCashRecordObj.setSearchData=function(a){var b=a.attr("data-v"),c=a.attr("data-k");a.siblings().removeClass("selected"),a.hasClass("selected")?(a.removeClass("selected"),this.searchData[c]=""):(a.addClass("selected"),this.searchData[c]=b),this.getData()},searchCashRecordObj.createSearchData=function(){for(var a=this.searchListObj.children("div"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-k");d&&(this.searchData[d]="")}},searchCashRecordObj.ajaxGetData=function(){this.searchData.v=(new Date).getTime();var a={para:Global.encrypt(this.searchData),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.cash",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),0==Number(a.info.count)?searchCashRecordObj.searchNumObj.addClass("noresult"):searchCashRecordObj.searchNumObj.removeClass("noresult"),searchCashRecordObj.searchNumObj.html("有"+a.info.count+"个订单符合条件")):$.alertMsg(a.code_str)}})},searchCashRecordObj.getData=function(){var a=(new Date).getTime();this.searchData.checkTime||(this.searchData.checkTime=a),a-this.searchData.checkTime<1e3&&this.checkTimeObj&&clearTimeout(this.checkTimeObj),searchCashRecordObj.searchData.checkTime=a,this.checkTimeObj=setTimeout(function(){searchCashRecordObj.ajaxGetData()},1e3),this.searchNumObj.html("查询中")},searchCashRecordObj.subSearchData=function(){var a=this;if(!a.searchNumObj.hasClass("noresult")){searchCashResultObj.goBack=function(){searchCashResultObj.destroy(),searchCashRecordObj.show()};var b={};for(var c in a.searchData)b[c]=a.searchData[c];searchCashResultObj.show("reload",function(){searchCashResultObj.setData(b),searchCashResultObj.getListData()})}},searchCashRecordObj.onloadExecution=function(){this.createDom(),this.createSearchData(),this.createEvent(),this.updateTimeVal(),this.searchNumObj.html("查询中"),this.ajaxGetData()},searchCashRecordObj.init=function(){searchCashRecordObj.setDefConfig(),searchCashRecordObj.onloadExecution()},searchCashRecordObj.setDefConfig=function(){searchCashRecordObj.searchData=new Object,searchCashRecordObj.timeCn={0:"当天",5:"一周",10:"两周",15:"一个月",20:"两个月",25:"三个月"},searchCashRecordObj.timeKey={0:"-0_days",5:"-1_weeks",10:"-2_weeks ",15:"-1_months",20:"-2_months",25:"-3_months"},searchCashRecordObj.checkTimeObj=!1};var searchCashResultObj=new PageController({name:"searchCashResult",tpl:"template/record/searchCashResult.html"});searchCashResultObj.createDom=function(){this.wrapperObj=$("#searchCashResult_wrapperObj"),this.searchListObj=$("#searchCashResult_searchListObj"),this.noTipsObj=$("#searchCashResult_noTipsObj")},searchCashResultObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return searchCashResultObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return searchCashResultObj.showDetail(c),!0}}}),window.onsroll=null,window.onscroll=function(){return 0!==window.scrollY&&(searchCashResultObj.scrollTop=window.scrollY),!!searchCashResultObj.checkPage&&("none"!=$("#searchCashResult").css("display")&&void searchCashResultObj.updatePage())}},searchCashResultObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapperObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},searchCashResultObj.showDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");return"together"==a.attr("data-c")?(hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),cashRecordObj.show()},void hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(c)})):!b||!c||void("Project"==b?projectDetailObj.show("reload",function(){projectDetailObj.getData(c),projectDetailObj.pushRoute(function(){searchCashResultObj.show()})}):"Order"==b&&(rechargeStatusObj.goBack=function(){rechargeStatusObj.destroy(),searchCashResultObj.show()},rechargeStatusObj.show("reload",function(){rechargeStatusObj.getData(c)})))},searchCashResultObj.getListData=function(){this.checkPage=!1;var a=this.searchData;a.page=this.page;var b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.cash",type:"post",data:b,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.page!=searchCashResultObj.page)return!1;if(a.info.list.length)searchCashResultObj.noTipsObj.hide();else if(0==Number(a.info.page))return searchCashResultObj.noTipsObj.show(),!1;a.info.list.length<searchCashResultObj.minListNum?searchCashResultObj.checkPage=!1:searchCashResultObj.checkPage=!0,searchCashResultObj.createListHtml(a.info.list)}else $.alertMsg(a.code_str)}})},searchCashResultObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot'+(this.timeTem!=a[c].create_date?" blur":"")+'"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-c="'+a[c].consign_type+'" data-i="'+a[c].target_id+'"><h3 class="mb10">'+a[c].item_cn+'</h3><p class="font12 gray">'+a[c].create_time+'</p><p class="cash_change"><span class="'+(Number(a[c].amount)>0?"fontred":"fontgreen")+(a[c].target_type&&a[c].target_id?"":" mr22")+'">'+a[c].amount+'元<em class="icon rtarrow"></em></span></p></div></div></div>'),this.timeTem=a[c].create_date;this.searchListObj.append(b.join(""))},searchCashResultObj.getTypeHtml=function(a){switch(a){case"buy":return'<a href="javascript:void(0)" class="fontblue">支付</a>';case"gq":return"已过期";case"jy":return"交易中";case"sb":return"已失败"}},searchCashResultObj.setData=function(a){this.searchData=a},searchCashResultObj.onloadExecution=function(){this.createDom(),this.createEvent()},searchCashResultObj.init=function(){searchCashResultObj.setDefConfig(),searchCashResultObj.onloadExecution()},searchCashResultObj.setDefConfig=function(){searchCashResultObj.page=0,searchCashResultObj.checkPage=!0,searchCashResultObj.clientHeight=document.documentElement.clientHeight,searchCashResultObj.minListNum=2,searchCashResultObj.timeTem="",window.onsroll=null,searchCashResultObj.scrollTop=0};var searchPlanObj=new PageController({name:"searchPlan",tpl:"template/record/searchPlan.html"});searchPlanObj.createDom=function(){this.searchObj=$("#searchPlan_searchObj"),this.timeObj=$("#searchPlan_timeObj"),this.timeTipsObj=$("#searchPlan_timeTipsObj"),this.searchListObj=$("#searchPlan_searchListObj"),this.searchNumObj=$("#searchPlan_searchNumObj"),$("#searchPlan_fastType").val("data-v",ConfigObj.fastLotType)},searchPlanObj.createEvent=function(){this.searchObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return searchPlanObj.subSearchData(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"data":return searchPlanObj.setSearchData(c),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return searchPlanObj.goBack(),!0}}}),this.timeObj[0].addEventListener("input",function(){searchPlanObj.updateTimeVal()},!1),this.timeObj.unbind("change").change(function(){searchPlanObj.getData()})},searchPlanObj.updateTimeVal=function(){var a=Number(this.timeObj.val());this.timeTipsObj.html(this.timeCn[a]+'<em class="arrow_d statebg"></em>'),this.updateTiemTipsLeft(),this.searchData.period=this.timeKey[a]},searchPlanObj.updateTiemTipsLeft=function(){var a=Number(this.timeObj.val()),b=Number(this.timeObj.attr("max")),c=Number(this.timeObj.attr("step")),d=this.timeTipsObj.parent().width();0==d&&(d=Math.floor(.94*window.innerWidth)-40);var e=d/(b/c),f=this.timeTipsObj.width(),g=a/c*e;g==d?g-=f:0==g?g=0:g-=f/2,this.timeTipsObj.css("left",g+"px")},searchPlanObj.setSearchData=function(a){var b=a.attr("data-v"),c=a.attr("data-k");a.siblings().removeClass("selected"),a.hasClass("selected")?(a.removeClass("selected"),this.searchData[c]=""):(a.addClass("selected"),this.searchData[c]=b),this.getData()},searchPlanObj.createSearchData=function(){for(var a=this.searchListObj.children("div"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-k");d&&(this.searchData[d]="")}},searchPlanObj.ajaxGetData=function(){this.searchData.v=(new Date).getTime();var a={para:Global.encrypt(this.searchData),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.getPlanList",data:a,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),0===Number(a.info.count)?searchPlanObj.searchNumObj.addClass("noresult"):searchPlanObj.searchNumObj.removeClass("noresult"),searchPlanObj.searchNumObj.html("有"+a.info.count+"个订单符合条件")}})},searchPlanObj.getData=function(){var a=(new Date).getTime();this.searchData.checkTime||(this.searchData.checkTime=a),a-this.searchData.checkTime<1e3&&this.checkTimeObj&&clearTimeout(this.checkTimeObj),searchPlanObj.searchData.checkTime=a,this.checkTimeObj=setTimeout(function(){searchPlanObj.ajaxGetData()},1e3),this.searchNumObj.html("查询中")},
searchPlanObj.subSearchData=function(){var a=this;if(!a.searchNumObj.hasClass("noresult")){searchPlanResultObj.goBack=function(){searchPlanResultObj.destroy(),searchPlanObj.show()};var b={};for(var c in a.searchData)b[c]=a.searchData[c];searchPlanResultObj.show("reload",function(){searchPlanResultObj.setData(b),searchPlanResultObj.getListData()})}},searchPlanObj.onloadExecution=function(){this.createDom(),this.createSearchData(),this.createEvent(),this.updateTimeVal(),this.searchNumObj.html("查询中"),this.ajaxGetData()},searchPlanObj.init=function(){this.setDefConfig(),searchPlanObj.onloadExecution()},searchPlanObj.setDefConfig=function(){this.searchData=new Object,this.timeCn={0:"当天",5:"一周",10:"两周",15:"一个月",20:"两个月",25:"三个月"},this.timeKey={0:"-0_days",5:"-1_weeks",10:"-2_weeks ",15:"-1_months",20:"-2_months",25:"-3_months"},this.checkTimeObj=!1},searchPlanObj.dirShow=function(){this.show()};var searchPlanResultObj=new PageController({name:"searchPlanResult",tpl:"template/record/searchPlanResult.html"});searchPlanResultObj.createDom=function(){this.wrapperObj=$("#searchPlanResult_wrapperObj"),this.searchListObj=$("#searchPlanResult_searchListObj"),this.noTipsObj=$("#searchPlanResult_noTipsObj")},searchPlanResultObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"fk":return searchPlanResultObj.hrefPay(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"back":return searchPlanResultObj.goBack(),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"detail":return searchPlanResultObj.hrefDetail(c),!0}}}),window.onscroll=function(){return 0!==window.scrollY&&(searchPlanResultObj.scrollTop=window.scrollY),!!searchPlanResultObj.checkPage&&("none"!=$("#searchPlanResult").css("display")&&void searchPlanResultObj.updatePage())}},searchPlanResultObj.hrefPay=function(a){var b=a.attr("data-p"),c=a.attr("data-m"),d=a.attr("data-y")?a.attr("data-y").toLowerCase():"",e={product_id:b,pay_amount:c,lotteryType:d};buyConfirmObj.goBack=function(){buyConfirmObj.destroy(),searchPlanResultObj.show()},buyConfirmObj.show("reload",function(){buyConfirmObj.setData(e)})},searchPlanResultObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapperObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},searchPlanResultObj.hrefDetail=function(a){var b=a.attr("data-v");planDetailObj.goBack=function(){planDetailObj.destroy(),searchPlanResultObj.show()},planDetailObj.show("reload",function(){planDetailObj.getData(b)})},searchPlanResultObj.getListData=function(){this.checkPage=!1;var a=this.searchData;a.page=this.page;var b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.getPlanList",type:"post",data:b,dataType:"json",success:function(a){if("0000"==a.code){if(a.info.page!=searchPlanResultObj.page)return!1;if(a.info.list.length)searchPlanResultObj.noTipsObj.hide();else if(0==Number(a.info.page))return searchPlanResultObj.noTipsObj.show(),!1;a.info.list.length<searchPlanResultObj.minListNum?searchPlanResultObj.checkPage=!1:searchPlanResultObj.checkPage=!0,searchPlanResultObj.createListHtml(a.info.list)}else $.alertMsg(a.code_str)}})},searchPlanResultObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_time+'</p><div class="orderbox mb20" data-t="detail" data-v="'+a[c].plan_id+'"><h3 class="mb10 clearfix"><span class="fl">'+a[c].lottery_type_cn+'</span><span class="fr font12">追'+a[c].actual_exec_count+'<em class="gray">/'+a[c].expect_exec_count+'期</em></span></h3><p class="font12 clearfix"><span class="fl fontred">￥'+a[c].money+"</span><span "+("等待付款"==a[c].run_status_cn?"class='fr fontblue' data-t='fk' data-m="+a[c].money+" data-p="+a[c].plan_id:"出票失败"==a[c].run_status_cn||0==a[c].run_status_cn.indexOf("累计中奖")||0==a[c].run_status_cn.indexOf("大奖")?"class='fr fontred'":'class="fr"')+">"+a[c].run_status_cn+"</span></p></div></div></div>");this.searchListObj.append(b.join(""))},searchPlanResultObj.getTypeHtml=function(a){switch(a){case"buy":return'<a href="javascript:void(0)" class="fontblue">支付</a>';case"gq":return"已过期";case"jy":return"交易中";case"sb":return"已失败"}},searchPlanResultObj.onloadExecution=function(){this.createDom(),this.createEvent()},searchPlanResultObj.init=function(){this.setDefConfig(),searchPlanResultObj.onloadExecution()},searchPlanResultObj.setData=function(a){this.searchData=a},searchPlanResultObj.setDefConfig=function(){searchPlanResultObj.page=0,searchPlanResultObj.checkPage=!0,searchPlanResultObj.clientHeight=document.documentElement.clientHeight,searchPlanResultObj.minListNum=2,searchPlanResultObj.recordType={zt:"直投",zh:"追号",hm:"合买"},this.searchData=null},searchPlanResultObj.destroy=function(){this.setDefConfig(),$("#searchPlanResult").html("").remove(),window.onscroll=null,searchPlanResultObj.scrollTop=0};var searchRecordObj=new PageController({name:"searchRecord",tpl:"template/record/searchRecord.html"});searchRecordObj.createDom=function(){this.searchObj=$("#searchRecord_searchObj"),this.timeObj=$("#searchRecord_timeObj"),this.timeTipsObj=$("#searchRecord_timeTipsObj"),this.searchListObj=$("#searchRecord_searchListObj"),this.searchNumObj=$("#searchRecord_searchNumObj")},searchRecordObj.createEvent=function(){this.searchObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return searchRecordObj.subSearchData(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"data":return searchRecordObj.setSearchData(c),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return searchRecordObj.goBack(),!0}}var g=$.oto_checkEvent(a,"DL");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"flag":return searchRecordObj.flagFun(c),!0}}}),this.timeObj[0].addEventListener("input",function(){searchRecordObj.updateTimeVal()},!1),this.timeObj.unbind("change").change(function(){searchRecordObj.getData()})},searchRecordObj.flagFun=function(a){var b=(a.attr("data-v"),a.attr("data-k"));a.find(".checkbox_1").toggleClass("checked");var c=$("#searchRecord dl[data-t=flag]"),d=[];c.each(function(a,b){$(b).find(".checkbox_1").hasClass("checked")&&d.push($(b).attr("data-v"))}),this.searchData[b]=d.join(","),setTimeout(function(){searchRecordObj.getData()},50)},searchRecordObj.updateTimeVal=function(){var a=Number(this.timeObj.val());this.timeTipsObj.html(this.timeCn[a]+'<em class="arrow_d statebg"></em>'),this.updateTiemTipsLeft(),this.searchData.period=this.timeKey[a]},searchRecordObj.updateTiemTipsLeft=function(){var a=Number(this.timeObj.val()),b=Number(this.timeObj.attr("max")),c=Number(this.timeObj.attr("step")),d=this.timeTipsObj.parent().width();0==d&&(d=Math.floor(.94*window.innerWidth)-40);var e=d/(b/c),f=this.timeTipsObj.width(),g=a/c*e;g==d?g-=f:0==g?g=0:g-=f/2,this.timeTipsObj.css("left",g+"px")},searchRecordObj.setSearchData=function(a){var b=a.attr("data-v"),c=a.attr("data-k");a.siblings().removeClass("selected"),a.hasClass("selected")?(a.removeClass("selected"),this.searchData[c]=""):(a.addClass("selected"),this.searchData[c]=b),this.getData()},searchRecordObj.createSearchData=function(){for(var a=this.searchListObj.children("div"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-k");d&&(this.searchData[d]="")}},searchRecordObj.ajaxGetData=function(){this.searchData.v=(new Date).getTime();var a=ConfigObj.localSite+"?m=user.record.getLaunchList";"memberBet"==this.from?(this.searchData.station_user_id=loginObj.userInfo.station_user_id,a=ConfigObj.localSite+"?m=user.Station.tostationList"):this.searchData.station_user_id="";var b={access_token:loginObj.access_token,para:Global.encrypt(this.searchData)};$.ajax({url:a,data:b,type:"post",dataType:"json",success:function(a){if("0000"!=a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),0===Number(a.info.count)?searchRecordObj.searchNumObj.addClass("noresult"):searchRecordObj.searchNumObj.removeClass("noresult"),searchRecordObj.searchNumObj.html("有"+a.info.count+"个订单符合条件")}})},searchRecordObj.getData=function(){var a=(new Date).getTime();this.searchData.checkTime||(this.searchData.checkTime=a),a-this.searchData.checkTime<1e3&&this.checkTimeObj&&clearTimeout(this.checkTimeObj),searchRecordObj.searchData.checkTime=a,this.checkTimeObj=setTimeout(function(){searchRecordObj.ajaxGetData()},1e3),this.searchNumObj.html("查询中")},searchRecordObj.subSearchData=function(){var a=this;if(!a.searchNumObj.hasClass("noresult")){searchBetResultObj.goBack=function(){searchBetResultObj.destroy(),searchRecordObj.show()};var b={};for(var c in a.searchData)b[c]=a.searchData[c];b.from=a.from,searchBetResultObj.show("reload",function(){searchBetResultObj.setData(b),searchBetResultObj.getListData()})}},searchRecordObj.onloadExecution=function(){this.createDom(),this.createSearchData(),this.createEvent(),this.updateTimeVal(),this.searchNumObj.html("查询中"),this.ajaxGetData()},searchRecordObj.init=function(){this.setDefConfig(),searchRecordObj.onloadExecution()},searchRecordObj.setDefConfig=function(){this.searchData=new Object,this.timeCn={0:"当天",5:"一周",10:"两周",15:"一个月",20:"两个月",25:"三个月"},this.timeKey={0:"-0_days",5:"-1_weeks",10:"-2_weeks ",15:"-1_months",20:"-2_months",25:"-3_months"},this.checkTimeObj=!1,this.from=""},searchRecordObj.setData=function(a){a&&"memberBet"==a.from?(this.from="memberBet",this.ajaxGetData(),$("#searchRecord_memoType").show()):$("#searchRecord_memoType").hide()};var searchScoreRecordObj=new PageController({name:"searchScoreRecord",tpl:"template/record/searchScoreRecord.html"});searchScoreRecordObj.createDom=function(){this.searchObj=$("#searchScoreRecord_searchObj"),this.timeObj=$("#searchScoreRecord_timeObj"),this.timeTipsObj=$("#searchScoreRecord_timeTipsObj"),this.searchListObj=$("#searchScoreRecord_searchListObj"),this.searchNumObj=$("#searchScoreRecord_searchNumObj")},searchScoreRecordObj.createEvent=function(){this.searchObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return searchScoreRecordObj.subSearchData(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"data":return searchScoreRecordObj.setSearchData(c),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return searchScoreRecordObj.goBack(),!0}}}),this.timeObj[0].addEventListener("input",function(){searchScoreRecordObj.updateTimeVal()},!1),this.timeObj.unbind("change").change(function(){searchScoreRecordObj.getData()})},searchScoreRecordObj.updateTimeVal=function(){var a=Number(this.timeObj.val());this.timeTipsObj.html(this.timeCn[a]+'<em class="arrow_d statebg"></em>'),this.updateTiemTipsLeft(),this.searchData.period=this.timeKey[a]},searchScoreRecordObj.updateTiemTipsLeft=function(){var a=Number(this.timeObj.val()),b=Number(this.timeObj.attr("max")),c=Number(this.timeObj.attr("step")),d=this.timeTipsObj.parent().width();0==d&&(d=Math.floor(.94*window.innerWidth)-40);var e=d/(b/c),f=this.timeTipsObj.width(),g=a/c*e;g==d?g-=f:0==g?g=0:g-=f/2,this.timeTipsObj.css("left",g+"px")},searchScoreRecordObj.setSearchData=function(a){var b=a.attr("data-v"),c=a.attr("data-k");a.siblings().removeClass("selected"),a.hasClass("selected")?(a.removeClass("selected"),this.searchData[c]=""):(a.addClass("selected"),this.searchData[c]=b),this.getData()},searchScoreRecordObj.createSearchData=function(){for(var a=this.searchListObj.children("div"),b=0,c=a.length;b<c;b++){var d=a.eq(b).attr("data-k");d&&(this.searchData[d]="")}},searchScoreRecordObj.ajaxGetData=function(){this.searchData.v=(new Date).getTime();var a={para:Global.encrypt(this.searchData),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.score",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),0==Number(a.info.count)?searchScoreRecordObj.searchNumObj.addClass("noresult"):searchScoreRecordObj.searchNumObj.removeClass("noresult"),searchScoreRecordObj.searchNumObj.html("有"+a.info.count+"个订单符合条件")):$.alertMsg(a.code_str)}})},searchScoreRecordObj.getData=function(){var a=(new Date).getTime();this.searchData.checkTime||(this.searchData.checkTime=a),a-this.searchData.checkTime<1e3&&this.checkTimeObj&&clearTimeout(this.checkTimeObj),searchScoreRecordObj.searchData.checkTime=a,this.checkTimeObj=setTimeout(function(){searchScoreRecordObj.ajaxGetData()},1e3),this.searchNumObj.html("查询中")},searchScoreRecordObj.subSearchData=function(){var a=this;if(!a.searchNumObj.hasClass("noresult")){searchScoreResultObj.goBack=function(){searchScoreResultObj.destroy(),a.show()};var b={};for(var c in a.searchData)b[c]=a.searchData[c];searchScoreResultObj.show("reload",function(){searchScoreResultObj.setData(b),searchScoreResultObj.getListData()})}},searchScoreRecordObj.onloadExecution=function(){this.createDom(),this.createSearchData(),this.createEvent(),this.updateTimeVal(),this.searchNumObj.html("查询中"),this.ajaxGetData()},searchScoreRecordObj.init=function(){this.setDefConfig(),searchScoreRecordObj.onloadExecution()},searchScoreRecordObj.setDefConfig=function(){searchScoreRecordObj.searchData=new Object,searchScoreRecordObj.timeCn={0:"当天",5:"一周",10:"两周",15:"一个月",20:"两个月",25:"三个月"},searchScoreRecordObj.timeKey={0:"-0_days",5:"-1_weeks",10:"-2_weeks ",15:"-1_months",20:"-2_months",25:"-3_months"},searchScoreRecordObj.checkTimeObj=!1};var searchScoreResultObj=new PageController({name:"searchScoreResult",tpl:"template/record/searchScoreResult.html"});searchScoreResultObj.createDom=function(){this.wrapperObj=$("#searchScoreResult_wrapperObj"),this.searchListObj=$("#searchScoreResult_searchListObj"),this.noTipsObj=$("#searchScoreResult_noTipsObj")},searchScoreResultObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return searchScoreResultObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return searchScoreResultObj.showDetail(c),!0}}}),window.onscroll=function(){return 0!==window.scrollY&&(searchScoreResultObj.scrollTop=window.scrollY),!!searchScoreResultObj.checkPage&&("none"!=$("#searchScoreResult").css("display")&&void searchScoreResultObj.updatePage())}},searchScoreResultObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapperObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},searchScoreResultObj.showDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");if(!b||!c)return!0;"Project"==b&&projectDetailObj.show("reload",function(){projectDetailObj.getData(c),projectDetailObj.pushRoute(function(){searchScoreResultObj.show()})})},searchScoreResultObj.getListData=function(){this.checkPage=!1;var a=this.searchData;a.page=this.page;var b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.record.score",type:"post",data:b,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.page!=searchScoreResultObj.page)return!1;if(a.info.list.length)searchScoreResultObj.noTipsObj.hide();else if(0==Number(a.info.page))return searchScoreResultObj.noTipsObj.show(),!1;a.info.list.length<searchScoreResultObj.minListNum?searchScoreResultObj.checkPage=!1:searchScoreResultObj.checkPage=!0,searchScoreResultObj.createListHtml(a.info.list)}else $.alertMsg(a.code_str)}})},searchScoreResultObj.createListHtml=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push('<div class="orderlist"><div class="slf"><span class="dot'+(this.timeTem!=a[c].create_date?" blur":"")+'"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a[c].create_date+'</p><div class="orderbox mb20" data-t="detail" data-p="'+a[c].target_type+'" data-i="'+a[c].target_id+'"><h3 class="mb10">'+a[c].item_cn+'</h3><p class="font12 gray">'+a[c].create_time+'</p><p class="cash_change"><span class="'+(Number(a[c].amount)>0?"fontred":"fontgreen")+(a[c].target_type&&a[c].target_id?"":" mr22")+'">'+a[c].amount+(a[c].target_type&&a[c].target_id?'<em class="icon rtarrow"></em>':"")+"</span></p></div></div></div>"),this.timeTem=a[c].create_date;this.searchListObj.append(b.join(""))},searchScoreResultObj.getTypeHtml=function(a){switch(a){case"buy":return'<a href="javascript:void(0)" class="fontblue">支付</a>';case"gq":return"已过期";case"jy":return"交易中";case"sb":return"已失败"}},searchScoreResultObj.setData=function(a){this.searchData=a},searchScoreResultObj.onloadExecution=function(){this.createDom(),this.createEvent()},searchScoreResultObj.init=function(){this.setDefConfig(),searchScoreResultObj.onloadExecution()},searchScoreResultObj.setDefConfig=function(){searchScoreResultObj.page=0,searchScoreResultObj.checkPage=!0,searchScoreResultObj.clientHeight=document.documentElement.clientHeight,searchScoreResultObj.minListNum=2,window.onscroll=null,searchScoreResultObj.scrollTop=0};var ticketDetailObj=new PageController({name:"ticketDetail",tpl:"template/record/ticketDetail.html"});ticketDetailObj.createDomObj=function(){this.wrap=$("#ticketDetail_wrap"),this.recordObj=$("#ticketDetail_record"),this.editDom=$("#ticketDetail_star")},ticketDetailObj.createEvent=function(){$("#ticketDetail_backbtn").unbind("tap").tap(function(){ticketDetailObj.goBack()}),$("#ticketDetail_star").unbind("tap").tap(function(){ticketDetailObj.showStarTip(this)}),this.wrap.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"radioBox":return ticketDetailObj.checkFun(c),!0}}var e=$.oto_checkEvent(a,"DL");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"flag":return ticketDetailObj.flagFun(c),!0}}var f=$.oto_checkEvent(a,"A");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"hideTip":return $("#ticketDetail_starTip").hide(),!0;case"save":return ticketDetailObj.saveFun(),!0}}}),$("#ticketDetail_continue").tap(function(a){projectDetailObj.goAllBet()}),window.onscroll=function(){if(!ticketDetailObj.checkPage)return!1;ticketDetailObj.updatePage()}},ticketDetailObj.updatePage=function(){var a=document.body.scrollTop,b=this.recordObj.height();a+this.clientHeight>b-this.clientHeight/2&&$("#ticketDetail").length>0&&"none"!=$("#ticketDetail").css("display")&&(this.page+=1,this.getData())},ticketDetailObj.flagFun=function(a){$("#ticketDetail_starTip").find(".radiobox_1").removeClass("checked"),a.find(".radiobox_1").addClass("checked");a.attr("data-v")},ticketDetailObj.showStarTip=function(){$("#ticketDetail_starTip").show()},ticketDetailObj.saveFun=function(){var a=this,b=$("#ticketDetail_starTip").find(".checked"),c=b.parents("dl").attr("data-v"),d=$("#ticketDetail_starTip").find("textarea"),e=d.val(),f={lottery_id:a.lottery_id,memotype:c,memo:e,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Station.colorTag",type:"post",data:f,dataType:"json",success:function(b){"0000"==b.code?($("#ticketDetail_starTip").hide(),a.editDom.find(".icon_1").get(0).className="icon_1 star"+a.starObj[c],a.editDom.attr("data-v",c),a.editDom.attr("data-memo",e)):($("#ticketDetailObj_starTip").hide(),$.alertMsg(b.code_str))}})},ticketDetailObj.setLoading=function(){var a=$("#ticketDetail_record .ticket_info"),b=a.length,c=0;a.each(function(a,b){$(b).find(".radiobox_2").hasClass("checked")&&c++});var d=Math.round(c/b*100);$("#ticketDetail_loading").html('<p style="width:'+d+'%" ></p>').show()},ticketDetailObj.checkFun=function(a){var b=a.attr("data-v");a.toggleClass("checked");var c={ticket_id:b,selectstatus:a.hasClass("checked")?"1":"0",access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Station.checkTicket",type:"post",data:c,dataType:"json",success:function(a){"0000"==a.code?($.alertMsg("操作成功",!0),ticketDetailObj.setLoading()):$.alertMsg(a.code_str)}})},ticketDetailObj.setData=function(a,b){this.lottery_id=a,this.consignType=b},ticketDetailObj.getData=function(){ticketDetailObj.checkPage=!1;var a=this,b={lottery_id:a.lottery_id,page:this.page,page_size:this.minListNum,consign_type:a.consignType,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Ticket.index",type:"post",data:b,dataType:"json",success:function(b){if("0000"==b.code){if(b.info.page!=a.page)return!1;b.info.ticket_list.length<a.minListNum||b.info.count==a.minListNum?ticketDetailObj.checkPage=!1:ticketDetailObj.checkPage=!0,ticketDetailObj.formatHtml(b.info),ticketDetailObj.formatMemberBetHtml(b.info),ticketDetailObj.formatMisc(b.info)}else $.alertMsg(b.code_str)}})},ticketDetailObj.formatMemberBetHtml=function(a){var b=this;loginObj.userInfo&&"Station"==loginObj.userInfo.user_type&&1==a.ticket_type?($("#ticketDetail_star").show().find(".icon_1").get(0).className="icon_1 star"+b.starObj[a.memotype],b.setLoading(),$("#ticketDetail_record").removeClass("centerWrap")):($("#ticketDetail_star").hide(),$("#ticketDetail_loading").html(""),$("#ticketDetail_record").addClass("centerWrap")),$("#ticketDetail_starTip").find("textarea").val(a.memo),$("#ticketDetail_star").attr("data-memo",a.memo)},ticketDetailObj.formatHtml=function(a){if(a.ticket_list&&0!=a.ticket_list.length){for(var b="",c=0;c<a.ticket_list.length;c++){var d="";a.lotteryType==ConfigObj.fastK3Type&&(d="font10");var e=a.ticket_list[c],f="save"==this.consignType?"票样：No."+e.ticket_order:"出票标示："+e.sen_ticket_no+"<strong>【"+e.status_cn+"】</strong>",g=loginObj.isLogin&&"Station"==loginObj.userInfo.user_type&&1==a.ticket_type?'<span class="radiobox_2 '+(1==e.selectstatus?"checked":"")+'" data-t="radioBox" data-v="'+e.ticket_id+'"></span>':"";if(b+='<div class="inwrap ticket_info mb8 pb15 '+("4"==e.status?"gray":"")+'">'+g+(e.raw_prize>0?'<span class="win_icon disbg"></span>':"")+'<p class="toptit clearfix" style="border-bottom:none"><span class="fl">'+f+'</span><span class="fr '+d+'"><em>'+("SPF9"==a.lotteryType||"SPF14"==a.lotteryType?e.ticket_num>1?"复式":"单式":e.play_type_cn)+"</em><em>"+e.ticket_num+"注</em><em>"+e.multiple+"倍</em></span></p>"+(e.raw_prize&&e.raw_prize>0?'<p class="toptit clearfix">中奖金额: <span class="fontred">'+e.net_prize+"</span></p>":"")+'<div class="options clearfix font12">',e.wager_store_context&&e.wager_store_context.length>0)for(j=0;j<e.wager_store_context.length;j++){var h=e.wager_store_context[j];b+='<p class="num_break"><em class="date">'+(h.header?h.header:"")+"</em>"+h.content+"</p>"}else b+='<p><em class="date">票信息格式有误</p>';b+="</div></div>"}this.recordObj.append(b)}},ticketDetailObj.formatMisc=function(a){var b=a.lotteryType.toLowerCase();-1!==["jczq","jz2x1","ftfh"].indexOf(b)?$("#ticketDetail_continue").html("继续选号").attr("data-level","sport").attr("data-lotteryType",b):-1!==["spf14","spf9"].indexOf(b)?$("#ticketDetail_continue").html("继续选号").attr("data-level","num").attr("data-lotteryType",b):$("#ticketDetail_continue").html("继续守号").attr("data-level","num").attr("data-lotteryType",b)},ticketDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},ticketDetailObj.init=function(){ticketDetailObj.setDefConfig(),ticketDetailObj.onloadExecution()},ticketDetailObj.setDefConfig=function(){this.lottery_id="",this.page=0,this.checkPage=!0,this.clientHeight=document.documentElement.clientHeight,this.minListNum=10,window.onscroll=null,this.starObj={0:"Gray",1:"Green",2:"Red",3:"Blue",4:"Purple"}},ticketDetailObj.dirShow=function(a){var b=a&&a.id?a.id:"";ticketDetailObj.show("reload",function(){ticketDetailObj.setData(b),ticketDetailObj.getData()})};var withdrawDetailObj=new PageController({name:"withdrawDetail",tpl:"template/record/withdrawDetail.html"});withdrawDetailObj.createDom=function(){this.wrapTotal=$("#withdrawDetail_wrapTotal"),this.wrapA=$("#withdrawDetail_wrapA"),this.wrapB=$("#withdrawDetail_wrapB"),this.wrapC=$("#withdrawDetail_wrapC"),this.wrapD=$("#withdrawDetail_wrapD")},withdrawDetailObj.createEvent=function(){this.wrapTotal.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){switch($(b).attr("data-t")){case"back":return withdrawDetailObj.goBack(),!0;case"home":return withdrawDetailObj.goHome(),!0;case"draw":return withdrawDetailObj.goDraw(),!0}}})},withdrawDetailObj.goHome=function(){Global.GC(),homeObj.show()},withdrawDetailObj.goDraw=function(){Global.GC(),withdrawSelectObj.goBack=function(){withdrawSelectObj.destroy(),homeObj.show()},withdrawSelectObj.show("reload",function(){withdrawSelectObj.getData()})},withdrawDetailObj.onloadExecution=function(){withdrawDetailObj.createDom(),withdrawDetailObj.createEvent()},withdrawDetailObj.getData=function(a){var b=this,c={oid:a},d={para:Global.encrypt(c),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Order.index",type:"post",data:d,dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),$("#withdrawDetail_orderNum").html(a.info.order_id),b.formatHtmlA(a.info),b.formatHtmlB(a.info),b.formatHtmlC(a.info),b.formatHtmlD(a.info.order_info.pay_method)):$.alertMsg(a.code_str)}})},withdrawDetailObj.formatHtmlA=function(a){var b=a.order_info,c="fontred";-1!==["not","cancel","Audited","Closed"].indexOf(a.current_status)&&(c="gray");var d='<p class="pt15">'+b.pay_method_cn+'</p><p class="font12 gray">'+b.create_time+'</p><span class="font16 '+c+' money">-'+b.amount+"元</span>";this.wrapA.html(d)},withdrawDetailObj.formatHtmlB=function(a){var b=a.current_status,c='<span class="line line_over"><em class="dot dot_over"></em></span>';"batchPayToWechat"==a.order_info.pay_method?("not"===b?c+='<span class="line"><em class="dot dot_half"></em></span>':"succeed"===b?c+='<span class="line line_over"><em class="dot dot_over"></em></span>':"audited"===b||"remited"===b?c+='<span class="line"><em class="dot dot_over"></em></span>':"cancel"===b?"Y"===a.order_info.send_status&&""!=a.order_info.batch_no?c+='<span class="line"><em class="dot dot_over"></em></span>':c+='<span class="line"><em class="dot "></em></span>':c+='<span class="line"><em class="dot"></em></span>',c+="cancel"===b?'<span class="line"><em class="dot"></em></span>':"succeed"===b?'<span class="line"><em class="dot dot_over" ></em></span>':'<span class="line"><em class="dot"></em></span>'):("not"===b?c+='<span class="line"><em class="dot dot_half"></em></span>':"audited"===b||"remited"===b||"succeed"===b?c+='<span class="line line_over"><em class="dot dot_over"></em></span>':"cancel"===b?"Y"===a.order_info.send_status&&""!=a.order_info.batch_no?c+='<span class="line line_over"><em class="dot dot_over"></em></span>':c+='<span class="line"><em class="dot "></em></span>':c+='<span class="line"><em class="dot"></em></span>',c+="audited"===b?'<span class="line"><em class="dot dot_half"></em></span>':"remited"===b?'<span class="line"><em class="dot dot_half"></em></span>':"succeed"===b?'<span class="line line_over"><em class="dot dot_over"></em></span>':"cancel"===b?'<span class="line"><em class="dot "></em></span>':'<span class="line"><em class="dot"></em></span>',c+="cancel"===b?'<span class="line line_over"><em class="dot"></em></span>':"succeed"===b?'<span class="line line_over"><em class="dot dot_over" ></em></span>':'<span class="line"><em class="dot"></em></span>'),this.wrapB.html(c)},withdrawDetailObj.formatHtmlC=function(a){if("batchPayToWechat"==a.order_info.pay_method)var b='<div class="jdli"><p class="font16">'+a.create_info.item_cn+'</p><p class="font12 gray">'+a.create_info.time_desc+'</p></div><div class="jdli"><p class="font16">'+a.audit_info.item_cn+'</p><p class="font12 gray"'+(""==a.audit_info.notice_msg?' style="display:none"':"")+">"+a.audit_info.notice_msg+'</p><p class="font12 gray">'+a.audit_info.time_desc+'</p></div><div class="jdli"><p class="font16">'+a.deal_info.item_cn+'</p><p class="font12 gray"'+(""==a.deal_info.notice_msg?' style="display:none"':"")+">"+a.deal_info.notice_msg+'</p><p class="font12 gray">'+a.deal_info.time_desc+"</p></div>";else var b='<div class="jdli"><p class="font16">'+a.create_info.item_cn+'</p><p class="font12 gray">'+a.create_info.time_desc+'</p></div><div class="jdli"><p class="font16">'+a.audit_info.item_cn+'</p><p class="font12 gray"'+(""==a.audit_info.notice_msg?' style="display:none"':"")+">"+a.audit_info.notice_msg+'</p><p class="font12 gray">'+a.audit_info.time_desc+'</p></div><div class="jdli" ><p class="font16">'+a.pay_info.item_cn+'</p><p class="font12 gray"'+(""==a.pay_info.notice_msg?' style="display:none"':"")+">"+a.pay_info.notice_msg+'</p><p class="font12 gray">'+a.pay_info.time_desc+'</p></div><div class="jdli"><p class="font16">'+a.deal_info.item_cn+'</p><p class="font12 gray"'+(""==a.deal_info.notice_msg?' style="display:none"':"")+">"+a.deal_info.notice_msg+'</p><p class="font12 gray">'+a.deal_info.time_desc+"</p></div>";this.wrapC.html(b)},withdrawDetailObj.formatHtmlD=function(a){if("batchPayToWechat"==a)var b='<div class="jdli"><p class="font16 gray">申请</p></div><div class="jdli"><p class="font16 gray">审核</p></div><div class="jdli"><p class="font16 gray">到账</p></div>';else var b='<div class="jdli"><p class="font16 gray">申请</p></div><div class="jdli"><p class="font16 gray">审核</p></div><div class="jdli"><p class="font16 gray">处理</p></div><div class="jdli"><p class="font16 gray">到账</p></div>';this.wrapD.html(b)},withdrawDetailObj.init=function(){withdrawDetailObj.onloadExecution()};var withdrawRecordObj=new PageController({name:"withdrawRecord",tpl:"template/record/withdrawRecord.html"});withdrawRecordObj.createDom=function(){this.withdrawObj=$("#withdrawRecord_withdrawObj"),this.withdrawListObj=$("#withdrawRecord_withdrawListObj"),this.allwithdrawObj=$("#withdrawRecord_allwithdrawObj")},withdrawRecordObj.createEvent=function(){this.withdrawObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return withdrawRecordObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return withdrawRecordObj.hrefDetail(c),!0}}}),window.onscroll=function(){if(0!==window.scrollY&&(withdrawRecordObj.scrollTop=window.scrollY),!withdrawRecordObj.checkPage)return!1;withdrawRecordObj.updatePage()},this.withdrawListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){withdrawRecordObj.page=0,withdrawRecordObj.getListData(),a.resetload()}})},withdrawRecordObj.hrefDetail=function(a){var b=a.attr("data-p"),c=a.attr("data-i");if(!b||!c)return!0;"order"==b&&(withdrawDetailObj.goBack=function(){withdrawDetailObj.destroy(),withdrawRecordObj.show()},withdrawDetailObj.show("reload",function(){withdrawDetailObj.getData(c)}))},withdrawRecordObj.updatePage=function(){var a=document.body.scrollTop,b=this.withdrawObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},withdrawRecordObj.getListData=function(){withdrawRecordObj.checkPage=!1;var a={page:this.page,page_size:this.minListNum},b={access_token:loginObj.access_token,para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=user.record.withdraw",type:"post",data:b,dataType:"json",success:function(a){if("0000"==a.code){if(a.info=$.parseJSON(Global.crypt(a.info)),a.info.page!=withdrawRecordObj.page)return!1;a.info.list.length<withdrawRecordObj.minListNum?withdrawRecordObj.checkPage=!1:withdrawRecordObj.checkPage=!0,withdrawRecordObj.allwithdrawObj.html(a.info.remain+"元"),withdrawRecordObj.createListHtml(a.info.list),withdrawRecordObj.checkPage||withdrawRecordObj.withdrawListObj.append('<div class="center endtip_1">已显示全部</div>')}else $.alertMsg(a.code_str)}})},withdrawRecordObj.createListHtml=function(a){var b=[];a.forEach(function(a){var c={Not:["待审核","#999","#333"],Audited:["待处理","#999","#333"],
Succeed:["成功","#ef633f","#ef633f"],Cancel:["失败","#999","#999"],Closed:["交易关闭","#999","#999"]},d='<span style="display: inline-block; position: relative; bottom: 10px"><span style="color: '+c[a.status][1]+'; display: block">'+a.amount+'元</span><span style="color: '+c[a.status][2]+'; display: block">'+c[a.status][0]+'</span></span><em class="icon rtarrow" style="position: relative; bottom: 25px"></em>',e='<div id="tap_area" class="orderbox mb20" data-t="detail" data-p="order" data-i="'+a.target_id+'">',f='<div class="orderlist"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="gray mb8">'+a.create_date+"</p>"+e+'<h3 class="mb10">'+a.item_cn+'</h3><p class="font12 gray">'+a.create_time+'</p><p class="cash_change">'+d+"</p></div></div></div>";b.push(f)}),0===this.page?this.withdrawListObj.html(b.join("")):this.withdrawListObj.append(b.join(""))},withdrawRecordObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},withdrawRecordObj.init=function(){withdrawRecordObj.setDefConfig(),withdrawRecordObj.onloadExecution()},withdrawRecordObj.setDefConfig=function(){withdrawRecordObj.page=0,withdrawRecordObj.checkPage=!0,withdrawRecordObj.clientHeight=document.documentElement.clientHeight,withdrawRecordObj.minListNum=20,withdrawRecordObj.timeTem="",window.onscroll=null,withdrawRecordObj.scrollTop=0};var aboutSoftwareObj=new PageController({name:"aboutSoftware",tpl:"template/set/aboutSoftware.html"});aboutSoftwareObj.createDomObj=function(){this.wrapperObj=$("#aboutSoftware_wrapper"),"ios"==ConfigObj.platForm?$("#aboutSoftware_sysem").html("ios8.0"):"android"==ConfigObj.platForm&&$("#aboutSoftware_sysem").html("Android 2.0")},aboutSoftwareObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){switch($(b).attr("data-t")){case"back":return aboutSoftwareObj.goBack(),!0}}})},aboutSoftwareObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},aboutSoftwareObj.init=function(){aboutSoftwareObj.onloadExecution()},aboutSoftwareObj.goBack=function(){},aboutSoftwareObj.setDefConfig=function(){};var aboutUsObj=new PageController({name:"aboutUs",tpl:"template/set/aboutUs.html"});aboutUsObj.createDomObj=function(){this.wrapperObj=$("#aboutUs_wrapperObj"),$("#aboutUs_version").html(ConfigObj.version),"ios"==ConfigObj.platForm&&$("#aboutUs_platform").html("IOS")},aboutUsObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return aboutUsObj.goBack(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"protocol":return aboutUsObj.goProtocol(),!0;case"aboutsoftware":return aboutUsObj.goAboutSoftware(),!0}}})},aboutUsObj.goAboutSoftware=function(){aboutSoftwareObj.goBack=function(){aboutSoftwareObj.destroy(),aboutUsObj.show()},aboutSoftwareObj.show()},aboutUsObj.goProtocol=function(){protocolObj.goBack=function(){protocolObj.destroy(),aboutUsObj.show()},protocolObj.show()},aboutUsObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},aboutUsObj.init=function(){aboutUsObj.onloadExecution()},aboutUsObj.goBack=function(){},aboutUsObj.dirShow=function(){aboutUsObj.show()};var extendDetailObj=new PageController({name:"extendDetail",tpl:"template/set/extendDetail.html"});extendDetailObj.createDomObj=function(){this.wrapperObj=$("#extendDetail_wrapperObj")},extendDetailObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return extendDetailObj.goBack(),!0;case"share":return extendDetailObj.share(),!0}}var e=$.oto_checkEvent(a,"FIELDSET");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"adUrl":return extendDetailObj.goAd(c),!0}}}),$("#extendDetail_wrap").dropload({scrollArea:window,distance:200,loadUpFn:function(a){extendDetailObj.getData(extendDetailObj.id),extendDetailObj.pullLoad=a}})},extendDetailObj.goAd=function(a){var b=a.attr("data-v"),c=a.attr("data-type");if(!b)return!1;c&&"in"==c?homeObj.lotteryHref(a):Global.openUrl(b)},extendDetailObj.share=function(){var a={url:extendDetailObj.shareUrl?extendDetailObj.shareUrl:"",title:extendDetailObj.shareTitle,content:extendDetailObj.shareContent,domId:"extendDetail"};Global.socialShare(a)},extendDetailObj.getData=function(a,b){this.id=a;var c={uuid:a,category_id:b,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getDetail",data:c,type:"post",dataType:"json",success:function(a){"0000"==a.code?extendDetailObj.formatHtml(a.info,a):$.alertMsg(a.code_str),extendDetailObj.pullLoad&&extendDetailObj.pullLoad.resetload()}})},extendDetailObj.formatHtml=function(a,b){$("#extendDetail_topTit").html(a.catname),$("#extendDetail_title").html(a.title),$("#extendDetail_time").html(a.add_time),$("#extendDetail_source").html(a.source),$("#extendDetail_content").html(a.content.replace("请长按扫描下方二维码","请扫描下方二维码")),$("#extendDetail_qrcode").html(b.qr_codeurl),$("#extendDetail_content").find("img").forEach(function(a){$(a).closest("p").css("text-align","center")}),this.shareTitle=a.title,this.shareUrl=a.share_url;var c=loginObj.userInfo&&loginObj.userInfo.station_user_id?loginObj.userInfo.station_user_id:"",d=this.shareUrl&&-1!=this.shareUrl.indexOf("?")?"&station_uid="+c:"?station_uid="+c;if(this.shareUrl=this.shareUrl?this.shareUrl+d:"",this.shareImg=a.thumb,$("#extendDetail_content").find("p")[0]){var e=$("#extendDetail_content").find("p")[0],f=$(e).text();f.length>50&&(f=f.substr(0,50)+"..."),this.shareContent=f}a.carousel&&$("#extendDetail_img").css("background-image","url("+a.carousel+")")},extendDetailObj.getAd=function(){var a={limit:1,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=User.News.getAdvertInfo",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?extendDetailObj.formatAdHtml(a.list):$.alertMsg(a.code_str),extendDetailObj.pullLoad&&extendDetailObj.pullLoad.resetload()}})},extendDetailObj.formatAdHtml=function(a){var b="";if(a.length>0){for(var c=0;c<a.length;c++)b+='<fieldset class="news-ad" data-t="adUrl" data-type="'+a[c].app_url_type+'" data-v="'+a[c].app_url+'"><legend>赞助商提供</legend><div><img src="'+a[c].img_url+'"></div><span class="ad-tag">广告</span></fieldset>';$("#extendDetail_ad").html(b).show()}else $("#extendDetail_ad").html("").hide()},extendDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},extendDetailObj.init=function(){this.setDefConfig(),extendDetailObj.onloadExecution()},extendDetailObj.setDefConfig=function(){this.shareUrl="",this.shareTitle="",this.shareImg="",this.shareContent=""},extendDetailObj.dirShow=function(a){var b=this;b.show("",function(){b.getData(a.id)})};var extendListObj=new PageController({name:"extendList",tpl:"template/set/extendList.html"});extendListObj.createDom=function(){this.wrapObj=$("#extendList_wrapObj"),this.betListObj=$("#extendList_listObj")},extendListObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return extendListObj.goBack(),!0}}var e=$.oto_checkEvent(a,"DL");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"detail":return extendListObj.goDetail(c),!0}}var f=$.oto_checkEvent(a,"A");if(f){var c=$(f),d=c.attr("data-t");d}}),window.onscroll=function(){if(0!==window.scrollY&&(extendListObj.scrollTop=window.scrollY),!extendListObj.checkPage)return!1;extendListObj.updatePage()},this.betListObj.dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){extendListObj.page=0,extendListObj.getListData(),a.resetload()}})},extendListObj.goDetail=function(a){var b=a.attr("data-id"),c=a.attr("data-cat");extendDetailObj.goBack=function(){extendDetailObj.destroy(),extendListObj.show()},extendDetailObj.show("",function(){extendDetailObj.getData(b,c)})},extendListObj.updatePage=function(){var a=document.body.scrollTop,b=this.rechargeObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},extendListObj.getListData=function(){extendListObj.checkPage=!1;var a={page:this.page,page_size:this.minListNum,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.news.getAgentList",type:"post",data:a,dataType:"json",success:function(a){if("0000"==a.code){if(a.page!=extendListObj.page)return!1;a.list.length<extendListObj.minListNum?extendListObj.checkPage=!1:extendListObj.checkPage=!0,extendListObj.createListHtml(a.list),extendListObj.checkPage||extendListObj.betListObj.append('<div class="center endtip_1">已显示全部</div>')}}})},extendListObj.createListHtml=function(a){for(var b="",c=0,d=a.length;c<d;c++){var e=a[c];b+='<dl class="clearfix" data-t="detail" data-cat="'+e.catid+'" data-id="'+e.uuid+'" data-url=""><dt><img src="'+e.thumb+'" /></dt><dd><h3>'+e.title+'</h3><p class="font9 font12">'+e.description+"</p></dd></dl>"}0==this.page?this.betListObj.html(b):this.betListObj.append(b)},extendListObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},extendListObj.init=function(){extendListObj.setDefConfig(),extendListObj.onloadExecution()},extendListObj.setDefConfig=function(){extendListObj.page=0,extendListObj.checkPage=!0,extendListObj.clientHeight=document.documentElement.clientHeight,extendListObj.minListNum=20,extendListObj.timeTem="",window.onscroll=null,extendListObj.scrollTop=0};var feedbackObj=new PageController({name:"feedback",tpl:"template/set/feedback.html"});feedbackObj.createDomObj=function(){this.optionListObj=$("#feedback_option"),this.contentObj=$("#feedback_contentInput"),this.contactObj=$("#feedback_contactInput"),this.sendBtnObj=$("#feedback_sendBtn")},feedbackObj.createEvent=function(){$("#feedback_wrapperObj").unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"option":return feedbackObj.changeType(c),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"clearContactTip":return $("#feedback_contactTip").hide(),!0;case"toContactTip":return feedbackObj.submitFun(),!0}}}),this.sendBtnObj.unbind("tap").tap(function(){feedbackObj.sendData()}),$("#feedback_backBtn").unbind("tap").tap(function(){feedbackObj.goBack()}),$("#feedback_list").unbind("tap").tap(function(){feedbackObj.goList()}),$("#feedback_contentInput").unbind("focus").focus(function(){$("#feedback_contentInput").addClass("blueBorder")}),$("#feedback_contentInput").unbind("blur").blur(function(){$("#feedback_contentInput").removeClass("blueBorder")}),$("#feedback_contactInput").unbind("focus").focus(function(){$("#feedback_contactInput").parent("p").css({borderColor:"#da3716"})}),$("#feedback_contactInput").unbind("blur").blur(function(){$("#feedback_contactInput").parent("p").css({borderColor:"#ebebeb"})})},feedbackObj.submitFun=function(){$("#feedback_contactTip").hide(),feedbackObj.checkTip=!0,feedbackObj.sendData()},feedbackObj.changeType=function(a){$("#feedback_option").find("span").removeClass("on"),a.addClass("on"),this.type=a.text()},feedbackObj.goList=function(){loginObj.isLogin?(feedbackListObj.goBack=function(){feedbackListObj.destroy(),feedbackObj.show()},feedbackListObj.show()):(feedbackListObj.goBack=function(){feedbackListObj.destroy(),feedbackObj.show()},loginObj.goBack=function(){feedbackObj.show()},loginObj.goForward=function(){feedbackListObj.show()},loginObj.show())},feedbackObj.sendData=function(){var a=this,b=this.contentObj.val(),c=this.contactObj.val();if(b.length<1)return void $.alertMsg("请输入建议内容");if(b.length<5)return void $.alertMsg("建议内容最少5个字符");if(b.length>5e3)return void $.alertMsg("建议内容最多5000个汉字");if(c.length>1&&!/^(1\d{10})|(\w+@\w+\.\w+)$/g.test(c))return void $.alertMsg("请输入正确的邮箱或者手机号码");var d={content:b,title:a.type,contact:c,access_token:loginObj.access_token};this.loading=Global.simpleLoading.open({timeOut:1e4}),$.ajax({url:ConfigObj.localSite+"?m=user.Account.addMsg",type:"post",data:d,dataType:"json",success:function(a){Global.simpleLoading.close(feedbackObj.loading),"0000"==a.code?($.alertMsg(a.code_str,!0),$("#feedback_contentInput").val(""),$("#feedback_contactInput").val("")):$.alertMsg(a.code_str)}})},feedbackObj.getData=function(){$.ajax({url:ConfigObj.localSite+"?m=user.Account.initMsg",data:{access_token:loginObj.access_token},type:"post",dataType:"json",success:function(a){"0000"==a.code?feedbackObj.formatHtml(a.list):$.alertMsg(a.code_str)}})},feedbackObj.formatHtml=function(a){if(a.title){for(var b="",c=0;c<a.title.length;c++)b+='<span data-t="option" '+(0==c?'class="on"':"")+">"+a.title[c]+"</span>";$("#feedback_option").html(b)}},feedbackObj.setDefConfig=function(){this.type="建议"},feedbackObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},feedbackObj.init=function(){feedbackObj.setDefConfig(),feedbackObj.onloadExecution()},feedbackObj.goBack=function(){feedbackObj.popRoute()},feedbackObj.destroy=function(){this.setDefConfig(),$("#feedback").html("").remove(),this.routeArr=[]},feedbackObj.dirShow=function(){feedbackObj.show("",function(){feedbackObj.getData()})};var feedbackListObj=new PageController({name:"feedbackList",tpl:"template/set/feedbackList.html"});feedbackListObj.createDom=function(){this.wrapObj=$("#feedbackList_wrap"),this.listObj=$("#feedbackList_list")},feedbackListObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return feedbackListObj.goBack(),!0;case"ask":return feedbackListObj.goAsk(),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"toggle":return feedbackListObj.toggleAnswer(c),!0}}var f=$.oto_checkEvent(a,"A");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"clearTelTip":return $("#feedbackList_telTip").hide(),!0}}}),window.onscroll=null,window.onscroll=function(){if(!feedbackListObj.checkPage)return!1;feedbackListObj.updatePage()},$("#feedbackList_listWrap").dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){feedbackListObj.pullLoad=a,feedbackListObj.page=0,feedbackListObj.getListData()}})},feedbackListObj.toggleAnswer=function(a){var b=a.next(".fb-reply"),c=a.find(".arrow");"none"==b.css("display")?(b.show(),c.addClass("trans")):(b.hide(),c.removeClass("trans"))},feedbackListObj.goAsk=function(){feedbackListObj.destroy(),feedbackObj.show("",function(){feedbackObj.pushRoute(function(){feedbackListObj.show()})})},feedbackListObj.updatePage=function(){var a=document.body.scrollTop,b=this.wrapObj.height();a+this.clientHeight>b-this.clientHeight/2&&(this.page+=1,this.getListData())},feedbackListObj.getListData=function(){feedbackListObj.checkPage=!1;var a={page:this.page,pageSize:this.minListNum,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Account.msgList",type:"post",data:a,dataType:"json",success:function(a){"0000"==a.code?feedbackListObj.createListHtml(a.info.info):$.alertMsg(a.code_str),feedbackListObj.pullLoad&&feedbackListObj.pullLoad.resetload()}})},feedbackListObj.createListHtml=function(a){var b="";if(a.length)for(var c=0,d=a.length;c<d;c++){var e=a[c];b+='<div class="fb-item" data-t="toggle"><p class="font12 gray mb10 clearfix" ><span class="fl">'+e.post_time+'</span><span class="fr"><a href="javascript:void(0);" class="gray">'+e.deal_status_cn+' <em class="arrow "></em></a></span></p><p >'+e.content+'</p></div><div class="fb-reply" style="display:none"><p>'+e.answer+"</p></div>"}else b='<div class="noact center"> <p></p> <p class="gray mb40">暂无提问记录！</p></div>';0==this.page?this.listObj.html(b):this.listObj.append(b)},feedbackListObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getListData()},feedbackListObj.init=function(){feedbackListObj.setDefConfig(),feedbackListObj.onloadExecution()},feedbackListObj.setDefConfig=function(){feedbackListObj.page=0,feedbackListObj.checkPage=!0,feedbackListObj.clientHeight=document.documentElement.clientHeight,feedbackListObj.minListNum=20,feedbackListObj.pullLoad="",window.onscroll=null,feedbackListObj.scrollTop=0};var helpObj=new PageController({name:"help",tpl:"template/set/help.html"});helpObj.createDomObj=function(){this.wrapperObj=$("#help_wrapperObj")},helpObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return helpObj.goBack(),!0;case"feedback":return helpObj.goFeedback(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t"),f=c.attr("data-v");switch(d){case"help":return helpObj.goHelp(f),!0;case"rules":return helpObj.goRules(f),!0}}})},helpObj.goHelp=function(a){helpDetailObj.goBack=function(){helpDetailObj.destroy(),helpObj.show()},helpDetailObj.show("reload",function(){helpDetailObj.setData(a)})},helpObj.goRules=function(a){if("lotterywdl"==a||"bask"==a||"wdl"==a)return $.alertMsg("正在建设中"),!1;lotteryRulesObj.goBack=function(){lotteryRulesObj.destroy(),helpObj.show()},lotteryRulesObj.show("reload",function(){lotteryRulesObj.setData(a,"prize")})},helpObj.goFeedback=function(){feedbackObj.goBack=function(){feedbackObj.destroy(),settingObj.show()},feedbackObj.show("reload",function(){})},helpObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},helpObj.init=function(){helpObj.onloadExecution()},helpObj.setDefConfig=function(){};var helpDetailObj=new PageController({name:"helpDetail",tpl:"template/set/helpDetail.html"});helpDetailObj.createDomObj=function(){this.wrapperObj=$("#helpDetail_wrapperObj"),this.topTitObj=$("#helpDetail_tit")},helpDetailObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){switch($(b).attr("data-t")){case"backbtn":return helpDetailObj.goBack(),!0}}})},helpDetailObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},helpDetailObj.init=function(){helpDetailObj.onloadExecution()},helpDetailObj.setDefConfig=function(){this.rulesType=""},helpDetailObj.setData=function(a){this.rulesType=a;var b={login:"注册登录",bet:"投注追号",recharge:"账户充值",draw:"兑奖提款",handsel:"红包积分",safe:"账户安全",hemai:"合买跟单",ticket:"站点取票",qupiao:"取票帮助",prizetool:"奖金优化",seniorPlan:"高级追号",lotDesc:"彩票术语"};this.topTitObj.html(b[a]);var c=this.wrapperObj.find("section");c.hide();for(var d=0;d<c.length;d++){c[d].getAttribute("data-v")==a&&$(c[d]).show()}};var lotteryRulesObj=new PageController({name:"lotteryRules",tpl:"template/set/lotteryRules.html"});lotteryRulesObj.createDomObj=function(){this.wrapperObj=$("#lotteryRules_wrapperObj"),this.topTitObj=$("#lotteryRules_topTit")},lotteryRulesObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return lotteryRulesObj.goBack(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"upd":return lotteryRulesObj.updateType(c),!0}}})},lotteryRulesObj.updateType=function(a){var b=a.attr("data-v");a.siblings("li").removeClass("on"),a.addClass("on");var c=this.wrapperObj.find('section[data-v="'+this.lotteryType+'"]'),d=c.find('[data-t="rulesType"]');d.hide(),d.filter('[data-v="'+b+'"]').show()},lotteryRulesObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},lotteryRulesObj.init=function(){lotteryRulesObj.onloadExecution()},lotteryRulesObj.setDefConfig=function(){this.lotteryType="",this.rulesType=""},lotteryRulesObj.setData=function(a,b){this.lotteryType=a,this.rulesType=b;var c={dlt:"大乐透",ssq:"双色球",pl3:"排列三",pl5:"排列五",qxc:"七星彩",tjsyy:"11选5",gd11x5:"粤11选5",gx11x5:"桂11选5",sd11x5:"鲁11选5",xj11x5:"新11选5",gxk3:"广西快3",jxk3:"江西快3",jlk3:"吉林快3",hn4j1:"海南4+1",FTFH:"竞足混投",SPF9:"任选九",SPF14:"胜负彩",BSKFH:"竞篮混投",d3:"福彩3D"};this.topTitObj.html(c[a]);for(var d=this.wrapperObj.find("section"),e=0;e<d.length;e++){d[e].style.display="none";if(d[e].getAttribute("data-v")==a){d[e].style.display="block";var f=$(d[e]).find('li[data-v="'+b+'"]');lotteryRulesObj.updateType($(f))}}};var noPwdPayObj=new PageController({name:"noPwdPay",tpl:"template/set/noPwdPay.html"});noPwdPayObj.createDomObj=function(){this.wrapperObj=$("#noPwdPay_wrapperObj"),this.pwdObj=$("#noPwdPay_pwdObj")},noPwdPayObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return noPwdPayObj.subData(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"back":return noPwdPayObj.goBack(),!0}}}),this.pwdObj.unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.pwdObj.unbind("blur").blur(function(){$(this).parent().removeClass("focus")})},noPwdPayObj.subData=function(){this.noPwdPay()},noPwdPayObj.noPwdPay=function(){var a=this.pwdObj.val();if(!a)return $.alertMsg("密码不能为空"),!1;var b={opt:"on",pwd:hex_md5(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.settings.setNoPwdPay",data:b,dataType:"json",type:"post",success:function(a){"0000"==a.code?($.alertMsg("设置成功",!0),setTimeout(function(){noPwdPayObj.goBack()},2e3)):$.alertMsg(a.msg)}})},noPwdPayObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},noPwdPayObj.init=function(){noPwdPayObj.onloadExecution()},noPwdPayObj.setDefConfig=function(){};var prizeNotifyObj=new PageController({name:"prizeNotify",tpl:"template/set/prizeNotify.html"});prizeNotifyObj.createDomObj=function(){this.wrapperObj=$("#prizeNotify_wrapperObj"),this.prizeObj=$("#prizeNotify_prizeObj"),this.openObj=$("#prizeNotify_openObj"),this.tipsObj=$("#prizeNotify_tipsObj")},prizeNotifyObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return prizeNotifyObj.goBack(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"setAll":return prizeNotifyObj.setAll(c),!0;case"lottery":return prizeNotifyObj.setLottery(c),!0}}})},prizeNotifyObj.setAll=function(a){var b=a.attr("data-v"),c=a.attr("data-k");if("on"===b){var d="off";a.find(".js_toggle").removeClass("move"),$("#prizeNotify_openObj").hide(),$("#prizeNotify_openObj li").attr("data-v","off"),$("#prizeNotify_openObj").find(".js_toggle").removeClass("move")}else{var d="on";a.find(".js_toggle").addClass("move"),$("#prizeNotify_openObj li").attr("data-v","off"),$("#prizeNotify_openObj").find(".js_toggle").removeClass("move"),$("#prizeNotify_openObj").show()}a.attr("data-v",d);var e="";"open"==c&&(e="openPrize"),"on"==d||this.unsubFun(e,"",d)},prizeNotifyObj.setLottery=function(a){var b=a.attr("data-v"),c=a.attr("data-k"),d=a.attr("data-l");if("on"===b){var e="off";a.find(".js_toggle").removeClass("move")}else{var e="on";a.find(".js_toggle").addClass("move")}a.attr("data-v",e);var f="";"open"==c&&(f="openPrize"),"on"==e?this.subFun(f,d,e):this.unsubFun(f,d,e)},prizeNotifyObj.subFun=function(a,b,c){var d={category:a,summary:b,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.settings.subscribe",data:d,dataType:"json",type:"post",success:function(d){if("0000"!==d.code)return $.alertMsg(d.code_str),!1;prizeNotifyObj.createTips(a,c,b)}})},prizeNotifyObj.unsubFun=function(a,b,c){var d={category:a,summary:b,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.settings.unSubscribe",data:d,dataType:"json",type:"post",success:function(d){if("0000"!==d.code)return $.alertMsg(d.code_str),!1;prizeNotifyObj.createTips(a,c,b)}})},prizeNotifyObj.createTips=function(a,b,c){var d="openPrize"==a?"开奖通知":"中奖通知";if("on"==b)var e=this.tipsHtml[c]?this.tipsHtml[c][1]:"";else var e=this.tipsHtml[c]?this.tipsHtml[c][0]:"";if(!e)return!1;e=e.replace("type",d),this.tipsObj.children("div").html(e),this.tipsObj.show(),this.setTimeObj&&clearTimeout(this.setTimeObj),this.setTimeObj=setTimeout(function(){prizeNotifyObj.tipsObj.hide(),prizeNotifyObj.setTimeObj=""},2e3)},prizeNotifyObj.getData=function(){Global.post("?m=user.settings.subscribeStatus",{access_token:loginObj.access_token},function(a){"0000"==a.code?prizeNotifyObj.initStatus(a.info):$.alertMsg(a.code_str)})},prizeNotifyObj.initStatus=function(a){if(a.openPrize){var b=a.openPrize;this.openObj.show(),$("#prizeNotify_openObj li").each(function(a,c){var d=$(c),e=d.attr("data-l");b.summary[e]&&(d.attr("data-v",b.summary[e].status),"off"==b.summary[e].status?d.find(".js_toggle").removeClass("move"):d.find(".js_toggle").addClass("move"))})}setTimeout(function(){$("#prizeNotify_load").hide(),$("#prizeNotify_total").show()},500)},prizeNotifyObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},prizeNotifyObj.init=function(){prizeNotifyObj.setDefConfig(),prizeNotifyObj.onloadExecution()},prizeNotifyObj.goBack=function(){},prizeNotifyObj.setDefConfig=function(){this.tipsHtml=new Object,this.tipsHtml.all=["关闭type","打开type"],this.tipsHtml.ssq=["双色球type关闭","双色球type打开"],this.tipsHtml.dlt=["大乐透type关闭","大乐透type打开"],this.tipsHtml.jczq=["竞彩足球type关闭","竞彩足球type打开"],this.tipsHtml.jz2x1=["竞足2选1type关闭","竞足2选1type打开"],this.tipsHtml.spf14=["胜负彩type关闭","胜负彩type打开"],this.tipsHtml.spf9=["任选九type关闭","任选九type打开"],this.tipsHtml.d3=["福彩3Dtype关闭","福彩3Dtype打开"],this.tipsHtml.pl3=["排列三type关闭","排列三type打开"],this.tipsHtml.pl5=["排列五type关闭","排列五type打开"],this.setTimeObj=""},prizeNotifyObj.dirShow=function(){prizeNotifyObj.show(!1,function(){prizeNotifyObj.getData()})};var serviceObj=new PageController({name:"service",tpl:"template/set/service.html"});serviceObj.createDomObj=function(){this.wrapperObj=$("#service_wrapperObj"),"Station"==userCenterObj.userInfo.user_type&&$("#service_stationOpt").show()},serviceObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return serviceObj.goBack(),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"wx":return serviceObj.showLayer("wx"),!0;case"qq":return serviceObj.showLayer("qq"),!0;case"tel":return serviceObj.showLayer("tel"),!0;case"clearTip":return $("#service_layer").hide(),!0;case"confirmTip":return serviceObj.confirmTip(c),!0;case"manage":return serviceObj.goManage(c),!0;case"extend":return serviceObj.goExtendList(c),!0;case"qrcode":return serviceObj.goSweep(),!0}}})},serviceObj.showLayer=function(a){if("wx"==a&&this.info.wx){$("#service_layer").show();var b='<p class="font14 center">是否添加<span class="weixinicon_1"></span> '+this.info.wx+"</p>";$("#service_layerCon").html(b),$("#service_linkBtn").attr("data-c","wx"),$("#service_confirmBtn").html("复制号码")}else if("qq"==a&&this.info.qq){$("#service_layer").show();var b='<p class="font14 center">是否添加<span class="qqicon_1"></span> '+this.info.qq+"</p>";$("#service_layerCon").html(b),$("#service_linkBtn").attr("data-c","qq"),$("#service_confirmBtn").html("复制号码")}else if("tel"==a&&this.info.phone){$("#service_layer").show();var b='<p class="font14 center">致电给 '+this.info.phone+"</p>";$("#service_layerCon").html(b),$("#service_linkBtn").attr("data-c","phone"),$("#service_confirmBtn").html("确认")}},serviceObj.goManage=function(){manageInfoObj.goBack=function(){manageInfoObj.destroy(),serviceObj.show("",function(){serviceObj.getData(serviceObj.sid)})},manageInfoObj.show(!0)},serviceObj.goSweep=function(){sweepObj.goBack=function(){serviceObj.show()},sweepObj.show(!0,function(){sweepObj.setData({image:serviceObj.info.code_url,stationId:serviceObj.info.station_id})})},serviceObj.goExtendList=function(){extendListObj.goBack=function(){extendListObj.destroy(),serviceObj.show("",function(){serviceObj.getData(serviceObj.sid)})},extendListObj.show()},serviceObj.getData=function(a){var b=this;b.sid=a,$.ajax({url:ConfigObj.localSite+"?m=user.station.index",data:{sid:a,access_token:loginObj.access_token},dataType:"json",type:"post",success:function(a){"0000"==a.code?(b.formatHtml(a.info),b.info=a.info):$.alertMsg(a.code_str)}})},serviceObj.formatHtml=function(a){$("#service_qrcode").attr("src",a.code_url),$("#service_address").html(a.address),$("#service_name").html(a.chatUserInfo.realName),$("#service_desc").html(a.describe?a.describe:this.defDesc)},serviceObj.confirmTip=function(a){var b=a.attr("data-c");if("wx"==b){if(!this.info.wx)return $.alertMsg("专属客服没有设置微信"),!1;"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.addCustomerService("wx",this.info.wx):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.addCustomerService("wx",this.info.wx)}else if("qq"==b){if(!this.info.wx)return $.alertMsg("专属客服没有设置QQ"),!1;"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.addCustomerService("qq",this.info.qq):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.addCustomerService("qq",this.info.qq)}else if("phone"==b){if(!this.info.wx)return $.alertMsg("专属客服没有设置电话"),!1;"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.addCustomerService("phone",this.info.phone):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.addCustomerService("phone",this.info.phone)}$("#service_layer").hide()},serviceObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},serviceObj.init=function(){this.setDefConfig(),serviceObj.onloadExecution()},serviceObj.setDefConfig=function(){this.sid="",this.info="",this.defDesc="以“取之于民 用之于民”为发行宗旨，坚守“公益彩票 乐善人生”的公益理念，提供各种最新的信息资料和合理建议，以诚相待，以礼相待。为彩民提供高效、便捷、舒畅的服务。"},serviceObj.dirShow=function(){serviceObj.show()};var serviceCodeObj=new PageController({name:"serviceCode",tpl:"template/set/serviceCode.html"});serviceCodeObj.createDomObj=function(){this.wrapperObj=$("#serviceCode_wrapperObj")},serviceCodeObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){switch($(b).attr("data-t")){case"back":return serviceCodeObj.goBack(),!0}}}),$("#serviceCode_getInfo").unbind("tap").tap(function(){serviceCodeObj.getData()}),$("#serviceCode_cancel").unbind("tap").tap(function(){$("#serviceCode_layer").hide()}),$("#serviceCode_submit").unbind("tap").tap(function(){serviceCodeObj.submitFun()})},serviceCodeObj.submitFun=function(){$("#serviceCode_layer").hide(),$.ajax({url:ConfigObj.localSite+"?m=user.account.setMyCustomer",data:{zdid:$("#serviceCode_code").val(),access_token:loginObj.access_token},dataType:"json",type:"post",success:function(a){"0000"==a.code?($.alertMsg("绑定成功",!0,1e3),setTimeout(function(){loginObj.userInfo.s_id=a.info.s_id,serviceObj.goBack=function(){Global.GC(),Global.delCache("?m=user.account.center"),userCenterObj.show(!0)},serviceObj.show(!0,function(){serviceObj.getData(loginObj.userInfo.s_id)})},1e3)):$.alertMsg(a.msg)}})},serviceCodeObj.getData=function(){var a=this;if(!$("#serviceCode_code").val())return $.alertMsg("请输入邀请码"),!1;$.ajax({url:ConfigObj.localSite+"?m=user.account.getCustomer",data:{zdid:$("#serviceCode_code").val(),access_token:loginObj.access_token},dataType:"json",type:"post",success:function(b){"0000"==b.code?a.formatHtml(b.info):$.alertMsg(b.msg)}})},serviceCodeObj.formatHtml=function(a){$("#serviceCode_name").html(a.realName),$("#serviceCode_layer").show()},serviceCodeObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},serviceCodeObj.init=function(){serviceCodeObj.onloadExecution()},serviceCodeObj.goBack=function(){},serviceCodeObj.dirShow=function(){serviceCodeObj.show()};var settingObj=new PageController({name:"setting",tpl:"template/set/setting.html"});settingObj.createDomObj=function(){this.wrapperObj=$("#setting_wrapperObj"),this.logoutObj=$("#setting_logoutObj"),this.centerWrap=$("section.centerWrap"),this.settingCover=$("#setting_cover"),this.switchLoginDom()},settingObj.switchLoginDom=function(){loginObj.isLogin?(this.wrapperObj.find('li[data-t="login"]').hide(),this.wrapperObj.find('li[data-t="logout"]').show(),this.wrapperObj.find('li[data-t="use"]').show(),this.wrapperObj.find('li[data-t="feedback"]').show(),
this.wrapperObj.find('li[data-t="noPwd"]').show()):($("#setting_openPrize").hide(),$("#setting_noPwdPay").hide(),this.wrapperObj.find('li[data-t="login"]').show(),this.wrapperObj.find('li[data-t="logout"]').hide(),this.wrapperObj.find('li[data-t="use"]').hide(),this.wrapperObj.find('li[data-t="noPwd"]').hide())},settingObj.createEvent=function(){$("#setting_close").unbind("tap").tap(function(){$("#setting_shareWrap").hide()}),this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"clearLog":return settingObj.hideLogout(),!0;case"logout":return settingObj.logout(),!0;case"showTel":return $("#setting_telTip").show(),!0;case"clearTelTip":return $("#setting_telTip").hide(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"login":return settingObj.goLogin(),!0;case"logout":return settingObj.showLogout(),!0;case"use":return settingObj.goUserSet(),!0;case"noPwd":return settingObj.goNoPwd(),!0;case"help":return settingObj.goHelp(),!0;case"feedback":return settingObj.goFeedback(),!0;case"about":return settingObj.goAboutUs(),!0;case"share":return settingObj.share(),!0;case"setOpenPrize":return settingObj.setOpenPrize(),!0;case"setNoPwdPay":return settingObj.setNoPwdPay(),!0;case"gx":return Global.checkUpdate(!0),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"backbtn":return settingObj.goBack(),!0}}var g=$.oto_checkEvent(a,"DIV");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"nohide":return!0;case"hideLog":return settingObj.hideLogout(),!0}}})},settingObj.getData=function(){function a(a){if("0000"==a.code){var b=$("#setting_noPwdPay");"on"==a.info.noPwdPayStatus?(b.attr("data-v","on"),b.children("p").children("em").eq(1).addClass("move")):(b.attr("data-v","off"),b.children("p").children("em").eq(1).removeClass("move"));var c=$("#setting_openPrize");"on"==a.info.openPrizeStatus?(c.attr("data-v","on"),c.children("p").children("em").eq(1).addClass("move")):(c.attr("data-v","off"),c.children("p").children("em").eq(1).removeClass("move"))}}Global.getDataPrefCache("?m=user.settings.getSettingStatus",{access_token:loginObj.access_token},function(b){a(b)},function(b){a(b)})},settingObj.setOpenPrize=function(){var a=$("#setting_openPrize"),b=a.attr("data-v"),c="on"==b?"off":"on";"on"==c?(prizeNotifyObj.goBack=function(){prizeNotifyObj.destroy(),settingObj.show(!0,settingObj.getData())},prizeNotifyObj.dirShow()):Global.post("?m=user.settings.unSubscribe",{category:"openPrize",access_token:loginObj.access_token},function(b){"0000"==b.code?($.alertMsg(b.code_str,!0),a.attr("data-v",c),a.children("p").children("em").eq(1).removeClass("move")):$.alertMsg(b.code_str)})},settingObj.setNoPwdPay=function(){var a=$("#setting_noPwdPay"),b=a.attr("data-v"),c="on"==b?"off":"on";if("on"==c)noPwdPayObj.goBack=function(){noPwdPayObj.destroy(),settingObj.show("reload",settingObj.getData())},noPwdPayObj.show();else{var d={access_token:loginObj.access_token,opt:c};$.post(ConfigObj.localSite+"?m=user.settings.setNoPwdPay",d,function(b){"0000"==b.code?($.alertMsg(b.code_str,!0),a.attr("data-v",c),a.children("p").children("em").eq(1).removeClass("move")):$.alertMsg(b.code_str)},"json")}},settingObj.goPrizeNotify=function(){prizeNotifyObj.goBack=function(){prizeNotifyObj.destroy(),settingObj.show()},prizeNotifyObj.show("",function(){prizeNotifyObj.getData()})},settingObj.share=function(){var a={domId:"setting"};Global.socialShare(a)},settingObj.goFeedback=function(){feedbackObj.show("",function(){feedbackObj.pushRoute(function(){settingObj.show("reload")})})},settingObj.goHelp=function(){helpObj.goBack=function(){helpObj.destroy(),settingObj.show()},helpObj.show("reload")},settingObj.goUserSet=function(){userSetObj.goBack=function(){userSetObj.destroy(),settingObj.show()},userSetObj.show()},settingObj.goAboutUs=function(){aboutUsObj.goBack=function(){aboutUsObj.destroy(),settingObj.show()},aboutUsObj.show()},settingObj.goLogin=function(){loginObj.show(),loginObj.goForward=function(){Global.GC(),homeObj.show("reload")},loginObj.goBack=function(){settingObj.show("reload")}},settingObj.showLogout=function(){this.logoutObj.show()},settingObj.hideLogout=function(){this.logoutObj.hide()},settingObj.logout=function(){loginObj.tokenFail(),settingObj.switchLoginDom(),settingObj.hideLogout(),Global.GC(),homeObj.show(),window.localStorage.clear(),$.ajax({url:ConfigObj.localSite+"?m=user.account.logout",data:{access_token:loginObj.access_token},type:"post",dataType:"json",success:function(a){}})},settingObj.checkUpdate=function(){$("#setting_update2").html("V "+ConfigObj.version);var a={version:ConfigObj.version,appKey:ConfigObj.appkey};Global.post("?m=system.AppInfo.getApp",a,function(a){a.info.package.version>ConfigObj.version?$("#setting_update1").show():$("#setting_update1").hide()},function(){})},settingObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData(),this.checkUpdate()},settingObj.init=function(){settingObj.onloadExecution()},settingObj.setDefConfig=function(){};var sweepObj=new PageController({name:"sweep",tpl:"template/set/sweep.html"});sweepObj.createDom=function(){this.wrapObj=$("#sweep_wrapperObj"),this.shareQrcodeObj=$("#sweep_shareqrcode")},sweepObj.createEvent=function(){this.wrapObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){b=$(b);var c=b.attr("data-t");switch(c){case"back":return sweepObj.goBack(),!0}}var d=$.oto_checkEvent(a,"DIV");if(d){d=$(d);var c=d.attr("data-t");switch(c){case"cancelSave":sweepObj.shareQrcodeObj.hide();break;case"savePic":sweepObj.shareQrcodeObj.hide(),setTimeout(function(){sweepObj.savePic()},500);break;case"sharePic":sweepObj.shareQrcodeObj.hide(),setTimeout(function(){sweepObj.sharePic()},500)}}});var a=document.getElementById("sweep_qrcode");a.addEventListener("touchstart",sweepObj.touchQrIamge,!1),a.addEventListener("touchmove",sweepObj.touchQrIamge,!1),a.addEventListener("touchend",sweepObj.touchQrIamge,!1)},sweepObj.touchQrIamge=function(a){switch(a=a||window.event,a.type){case"touchstart":sweepObj.touchQrIamgeTimeOut=setTimeout(function(){sweepObj.shareQrcodeObj.show()},800);break;case"touchend":case"touchmove":clearTimeout(sweepObj.touchQrIamgeTimeOut)}},sweepObj.savePic=function(){var a="aishi_"+Global.formatDate("yyyyMMdd_hhmmss")+".jpg";"android"===ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.saveScreenShot(a):"ios"===ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.saveScreenShot(a)},sweepObj.sharePic=function(){var a={domId:"stationCode",sharefn:function(a){"android"===ConfigObj.platForm&&"undefined"!=typeof android_obj?4==a?android_obj.shareContent(4,"客服二维码","扫描二维码绑定专属客服",sweepObj.image,sweepObj.image,"sweep"):setTimeout(function(){android_obj.shareScreenShot(a,"stationCode")},500):"ios"===ConfigObj.platForm&&"undefined"!=typeof ios_obj&&setTimeout(function(){ios_obj.shareScreenShot(a,"stationCode")},500)}};Global.socialShare2(a)},sweepObj.onloadExecution=function(){this.createDom(),this.createEvent()},sweepObj.init=function(){sweepObj.onloadExecution()},sweepObj.setDefConfig=function(){sweepObj.touchQrIamgeTimeOut=void 0},sweepObj.setData=function(a){sweepObj.stationId=a.stationId,sweepObj.image=a.image,$("#sweep_qrcode").attr("src",a.image)};var userSetObj=new PageController({name:"userSet",tpl:"template/set/userSet.html"});userSetObj.createDomObj=function(){this.wrapperObj=$("#userSet_wrapperObj"),this.tipsObj=$("#userSet_tipsObj"),this.prizeNotifyObj=$("#userSet_prizeNotify"),this.noPwdPayObj=$("#userSet_noPwdPay")},userSetObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"LI");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"set":return userSetObj.setFun(c),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"back":return userSetObj.goBack(),!0}}}),$("#userSet_pushSet").unbind("tap").tap(function(){userSetObj.goPushSet()})},userSetObj.goPushSet=function(){prizeNotifyObj.goBack=function(){prizeNotifyObj.destroy(),userSetObj.show()},prizeNotifyObj.show("",function(){prizeNotifyObj.getData()})},userSetObj.setFun=function(a){var b=a.attr("data-c");if("on"==a.attr("data-v")){var c="off";a.children("p").children("em").eq(1).removeClass("move")}else{var c="on";a.children("p").children("em").eq(1).addClass("move")}if("noPwdPay"==b&&"on"==c)return this.goNoPwdPay(),!0;a.attr("data-v",c);var d={item_name:b,opt_type:c,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Settings.customize",data:d,dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;userSetObj.createTips(b,c)}})},userSetObj.createTips=function(a,b){var c="off"==b?0:1,d=this.tipsHtml[a][c];if(!d)return!1;this.tipsObj.children("div").html(d),this.tipsObj.show(),this.setTimeObj&&clearTimeout(this.setTimeObj),this.setTimeObj=setTimeout(function(){userSetObj.tipsObj.hide(),userSetObj.setTimeObj=""},2e3)},userSetObj.goNoPwdPay=function(){noPwdPayObj.goBack=function(){noPwdPayObj.destroy(),userSetObj.show("reload")},noPwdPayObj.show()},userSetObj.getData=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.Settings.getInfoStatus",data:a,type:"POST",dataType:"json",success:function(a){"0000"==a.code?(a.info.prizeNotify&&("on"==a.info.prizeNotify.status?(userSetObj.prizeNotifyObj.attr("data-v","on"),userSetObj.prizeNotifyObj.children("p").children("em").eq(1).addClass("move")):(userSetObj.prizeNotifyObj.attr("data-v","off"),userSetObj.prizeNotifyObj.children("p").children("em").eq(1).removeClass("move"))),a.info.noPwdPay&&("on"==a.info.noPwdPay.status?(userSetObj.noPwdPayObj.attr("data-v","on"),userSetObj.noPwdPayObj.children("p").children("em").eq(1).addClass("move")):(userSetObj.noPwdPayObj.attr("data-v","off"),userSetObj.noPwdPayObj.children("p").children("em").eq(1).removeClass("move")))):$.alertMsg(a.code_str)}})},userSetObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent(),this.getData()},userSetObj.init=function(){userSetObj.onloadExecution()},userSetObj.setDefConfig=function(){userSetObj.tipsHtml=new Object,userSetObj.tipsHtml.qp=["取票通知关闭。","取票通知打开。"],userSetObj.tipsHtml.zh=["追号通知关闭","追号任务到期第一时间通知"],userSetObj.tipsHtml.aq=["帐户安全关闭","帐户安全打开"],userSetObj.tipsHtml.noPwdPay=["小额免密已关闭","小额免密打开"],userSetObj.tipsHtml.tx=["提现通知关闭","提现通知打开"],userSetObj.tipsHtml.yj=["夜间模式关闭","夜间模式打开"],userSetObj.tipsHtml.prizeNotify=["中奖通知已关闭","中奖通知已打开"],userSetObj.setTimeObj=""};var wifiGrantObj=new PageController({name:"wifiGrant",tpl:"template/set/wifiGrant.html"});wifiGrantObj.createDomObj=function(){this.wrapperObj=$("#wifiGrant_wrapperObj")},wifiGrantObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){switch($(b).attr("data-t")){case"back":return wifiGrantObj.goBack(),!0}}}),$("#wifiGrant_connect").unbind("tap").tap(function(){wifiGrantObj.connect()})},wifiGrantObj.showLoading=function(){$("#wifiGrant_connect").hide(),$("#wifiGrant_loading").show()},wifiGrantObj.hideLoading=function(){$("#wifiGrant_connect").show(),$("#wifiGrant_loading").hide()},wifiGrantObj.connect=function(){var a="";for(var b in this.info)"pageName"!=b&&(a+="&"+b+"="+this.info[b]);a.length>0&&(a=a.substr(1)),$.ajax({url:ConfigObj.wifiSite+"grant/appGetToken",data:a,dataType:"json",type:"post",success:function(a){"0000"==a.code?(wifiGrantObj.hideLoading(),$.alertMsg(a.code_str,!0),wifiGrantObj.destroy(),homeObj.show()):($.alertMsg(a.code_str),wifiGrantObj.hideLoading())}})},wifiGrantObj.setData=function(a){this.info=a},wifiGrantObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent()},wifiGrantObj.init=function(){wifiGrantObj.onloadExecution()},wifiGrantObj.goBack=function(){},wifiGrantObj.setDefConfig=function(){this.info=""},wifiGrantObj.dirShow=function(a){wifiGrantObj.show("",function(){wifiGrantObj.setData(a)})};var basketFilterObj=new PageController({name:"basketFilter",tpl:"template/sporttery/basketFilter.html"});basketFilterObj.setDefConfig=function(){basketFilterObj.filterData={},basketFilterObj.ajaxStartTime=0,basketFilterObj.setTimeObj="",basketFilterObj.ajaxWaitTime=500,this.lotteryType="",this.lotteryNo="",this.type="",this.filterMatchList=[]},basketFilterObj.setData=function(a){this.lotteryType=a.lotteryType,this.lotteryNo=a.lotteryNo,this.type=a.type,this.getLeagueData()},basketFilterObj.getLeagueData=function(){var a=this,b={lotteryType:a.lotteryType,lottteryNo:a.lotteryNo};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Jclq.leagueList",data:b,dataType:"json",type:"post",success:function(b){if("0000"==b.code){var c="";for(var d in b.leagueList)c+='<span data-t="filter" data-k="leagueId" data-v="'+d+'">'+b.leagueList[d].name+"</span>";a.leagueWrap.html(c)}}})},basketFilterObj.createDomObj=function(){this.leagueWrap=$("#basketFilter_leagueWrap"),this.filterObj=$("#basketFilter_filterObj"),this.filterSubObj=$("#basketFilter_filterSubObj")},basketFilterObj.createEvent=function(){this.filterObj.unbind("tap").tap(function(a){basketFilterObj.filterEvent(a)}),this.filterSubObj.unbind("tap").tap(function(){if(basketFilterObj.filterSubObj.hasClass("noresult"))return!1;basketFilterObj.goBetPage()}),$("#basketFilter_clear").unbind("tap").tap(function(){$("span[data-t=filter]").removeClass("selected");for(var a in basketFilterObj.filterData)basketFilterObj.filterData[a]="";basketFilterObj.getMatchNum()})},basketFilterObj.goBetPage=function(){basketMixObj.show("reload",function(){basketMixObj.filterMatch(basketFilterObj.filterMatchList,basketFilterObj.lotteryNo)})},basketFilterObj.filterEvent=function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return this.goBack(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"filter":return this.createFilterData(c),this.getMatchNum(),!0}}},basketFilterObj.createFilterData=function(a){var b=a.attr("data-K"),c=a.attr("data-v");if(a.hasClass("selected")){a.removeClass("selected");for(var d=[],e=this.filterData[b].split(","),f=0,g=e.length;f<g;f++)e[f]&&e[f]!=c&&d.push(e[f]);this.filterData[b]=d.join(",")}else{if("dxf"!=b&&"rq"!=b||(a.siblings().removeClass("selected"),this.filterData[b]=""),a.addClass("selected"),this.filterData[b])var h=this.filterData[b].split(",");else var h=[];h.push(c),this.filterData[b]=h.join(",")}},basketFilterObj.getMatchNum=function(){basketFilterObj.filterSubObj.html("加载数据中，请稍等。"),basketFilterObj.filterSubObj.removeClass("noresult");var a=(new Date).getTime();a-this.ajaxStartTime<this.ajaxWaitTime&&this.setTimeObj&&clearTimeout(this.setTimeObj),this.ajaxStartTime=a,this.setTimeObj=setTimeout(function(){basketFilterObj.getData()},this.ajaxWaitTime)},basketFilterObj.getData=function(){$.ajax({url:ConfigObj.localSite+"?m=lottery.jclq.filter",data:this.filterData,dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.str),!1;basketFilterObj.filterSubObj.html("有"+a.info.count+"场比赛符合条件"),0===Number(a.info.count)?basketFilterObj.filterSubObj.addClass("noresult"):basketFilterObj.filterSubObj.removeClass("noresult"),basketFilterObj.filterMatchList=a.info.matchList}})},basketFilterObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent(),this.getMatchNum()},basketFilterObj.init=function(){basketFilterObj.onloadExecution()};var basketMixObj=new SportterySoccer({name:"basketMix",tpl:"template/sporttery/basketMix.html"});basketMixObj.setDefConfig=function(){this.betData=new Object,this.betNum=0,this.ggSelectData=new Array,this.multipleVal=1,this.spTemData=new Object,this.showBetNum=!0,this.noDanGuanVal=0,this.temBetData=new Array,this.temBetNum=0,this.temNoDanGuanVal=0,this.temScrollTop=0,this.lotteryType="BSKFH",this.lotteryNo="",this.maxZS=5e4,this.maxMoney=5e5,this.showBetNum=!1,this.betMinMatch=2,this.maxModeLimite=[8,8,8,4],this.maxMul=1e4,this.betOneTipsText='<p class="center fontred">红框1场也能投</p><p class="center font12 gray">页面赔率仅供参考，请以出票为准</p>',this.ggMode={1:{"1_1":"单关"},2:{"2_1":"2串1"},3:{"3_1":"3串1","3_3":"3串3","3_4":"3串4"},4:{"4_1":"4串1","4_4":"4串4","4_5":"4串5","4_6":"4串6","4_11":"4串11"},5:{"5_1":"5串1","5_5":"5串5","5_6":"5串6","5_10":"5串10","5_16":"5串16","5_20":"5串20","5_26":"5串26"},6:{"6_1":"6串1","6_6":"6串6","6_7":"6串7","6_15":"6串15","6_20":"6串20","6_22":"6串22","6_35":"6串35","6_42":"6串42","6_50":"6串50","6_57":"6串57"},7:{"7_1":"7串1","7_7":"7串7","7_8":"7串8","7_21":"7串21","7_35":"7串35","7_120":"7串120"},8:{"8_1":"8串1","8_8":"8串8","8_9":"8串9","8_28":"8串28","8_56":"8串56","8_70":"8串70","8_247":"8串247"}},this.postDataKey=new Array(6,7,8,9),this.showBetLotteryType="BSKSF,BSKRFSF,BSKDXF,BSKSFC",this.wid="",this.pid="",this.consignType="alone"},basketMixObj.createDomObj=function(){this.lotteryObj=$("#basketMix_lotteryObj"),this.betOneTipsObj=$("#basketMix_betOneTipsObj"),this.lotteryInfoObj=$("#basketMix_lotteryInfoObj"),this.oneGGObj=$("#basketMix_oneGGObj"),this.otherGGObj=$("#basketMix_otherGGObj"),this.ddObj=$("#basketMix_ddObj"),this.ggdoorObj=$("#basketMix_ggdoorObj"),this.ddDetailObj=$("#basketMix_ddDetailObj"),this.ggObj=$("#basketMix_ggObj"),this.ddTitleObj=$("#basketMix_ddTitleObj"),this.matchListObj=$("#basketMix_matchListObj"),this.multipleObj=$("#basketMix_multipleObj"),this.multipleValObj=$("#basketMix_multipleValObj"),this.navObj=$("#basketMix_navObj"),this.updObj=$("#basketMix_updObj"),this.betspObj=$("#basketMix_betspObj"),this.showOtherGGObj=$("#basketMix_showOtherGGObj"),this.bonusDeilObj=$("#basketMix_bonusDeilObj"),this.bonusListObj=$("#basketMix_bonusListObj")};var basketMix_funObj={setBetNum:function(a){var b=this.matchListObj.find("div[data-t='showBet'][data-o='"+a+"']");if(!b.length)return!0;if(this.getTipsBetNum(a)){for(var c=['<span class="rq r5">胜分差</span><div class="opt_jz selected" data-t="showBet" data-o="'+a+'"><span>'],d=0,e=0,f=this.betData[a][1][3].length;d<f;d++){if(3==e){c.push("...");break}this.betData[a][1][3][d]&&(c.push(' <em class="font12 gray">'+this.betCnVal[3][d]+"</em>"),e++)}c.push("</span></div>"),b.html(c.join(""))}else b.html('<span class="rq r5">胜分差</span><div class="opt_jz" data-t="showBet" data-o="'+a+'"><span>点击选择胜分差</span></div></div>')},getTipsBetNum:function(a){var b=0;if(!this.betData[a])return b;if(!this.betData[a][3])return b;for(var c=3,d=this.betData[a][3].length;c<d;c++)this.betData[a][3][c]&&(b+=this.betData[a][3][c]);return b},betVal:new Array(new Array("2","1"),new Array("2","1"),new Array("1","2"),new Array("11","12","13","14","15","16","01","02","03","04","05","06")),betCnVal:new Array(new Array("客胜","主胜"),new Array("客胜","主胜"),new Array("大","小"),new Array("客胜1-5","客胜6-10","客胜11-15","客胜16-20","客胜21-25","客胜26+","主胜1-5","主胜6-10","主胜11-15","主胜16-20","主胜21-25","主胜26+")),betName:new Array("胜负","让分","大小分","胜分差"),createTitleDDDom:function(a){var b=this.betData[a];return'<div class="libox clearfix"><div class="tz_info mb15"><span class="del fl" data-o="'+a+'" data-t="delOne"><em class="icon"></em></span><p class="fl vs w80 center"><span class="w33">'+b[5]+'</span><span class="w33">VS</span><span class="w33">'+b[6]+'</span></p><span class="jzdan fr'+(b[9]?" on":"")+'" data-o="'+a+'" data-t="dd"><em>胆</em></span></div><div class="w94 tz_hg tz_lc">'},createWDLDDDom:function(a,b){var c=this.betData[a];return'<div class="match_detail jzhg center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><span class="rq r_red">胜负</span><div class="opt_jz'+(c[1][b][0]?" selected":"")+'" data-t="dds" data-k=0><span><em class="font12 gray">客胜</em> '+c[2][b][0]+'</span></div><div class="opt_jz'+(c[1][b][1]?" selected":"")+'" data-t="dds" data-k=1><span><em class="font12 gray">主胜</em> '+c[2][b][1]+"</span></div></div>"},createRWDLDDDom:function(a,b){var c=this.betData[a];return'<div class="match_detail jzhg center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><span class="rq r3">让分</span><div class="opt_jz'+(c[1][b][0]?" selected":"")+'" data-t="dds" data-k=0><span><em class="font12 gray">客胜</em> '+c[2][b][0]+'</span></div><div class="opt_jz'+(c[1][b][1]?" selected":"")+'" data-t="dds" data-k=1><span><em class="font12 gray">主胜</em> '+c[2][b][1]+"</span></div></div>"},createTotalGoalsDDDom:function(a,b){var c=this.betData[a];return'<div class="match_detail jzhg center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><span class="rq r4">大小分</span><div class="opt_jz'+(c[1][b][0]?" selected":"")+'" data-t="dds" data-k=0><span><em class="font12 gray">大</em> '+c[2][b][0]+'</span></div><div class="opt_jz'+(c[1][b][1]?" selected":"")+'" data-t="dds" data-k=1><span><em class="font12 gray">小</em> '+c[2][b][1]+"</span></div></div>"},createHalfFullDDDom:function(a,b){return this.createScoreDDDom(a,b)},createScoreDDDom:function(a,b){for(var c=this.betData[a],d=['<div class="match_detail jzhg jz_score center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><span class="rq r3'+(4==b?" r3":2==b?" r4":" r5")+(4!=b?" pt1":"")+'">'+this.betName[b]+"</span>"],e=0,f=c[1][b].length;e<f;e++)c[1][b][e]&&d.push('<div class="opt_jz'+(c[1][b][e]?" selected":"")+'" data-t="dds" data-k='+e+'><span><i class="font12">'+this.betCnVal[b][e]+"</i><i>"+c[2][b][e]+"</i></span></div>");return d.push("</div>"),d.join("")},createfootDDDom:function(a){return"</div></div>"},createTitleSpDom:function(a){var b=this.spTemData[a];return'<p class="tit font18 center">\x3c!--em class="font12">['+b.awayRank+"]</em--\x3e <span>"+b.awayName+'</span> <em class="font12 sm">客</em> <span>VS</span> <em class="font12 sm">主</em> <span>'+b.homeName+'</span> \x3c!--em class="font12">['+b.homeRank+']</em--\x3e</p><div class="w94"><div class="hg_wrap lc_wrap">'},createWDLSpDom:function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.BSKSF),d=!(!b.danGuan||!b.danGuan.BSKSF);return c?'<div class="match_detail jzhg center mb15 clearfix gray"><span class="rq r1">让<em>0</em></span><div class="opt_jz" style="width:100%;"><span><em class="font12 gray">未开售</em></span></div></div>':'<div class="match_detail jzhg center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'" data-o="'+a+'" data-i="0" data-dg="'+(d?"1":"0")+'"><span class="rq r2 r_red">胜负</span><div class="opt_jz'+(this.checkSelect(a,0,0)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="0"><span><em class="font12 gray">客胜</em> '+(c?"":b.mixOdds.BSKSF[1])+'</span></div><div class="opt_jz'+(this.checkSelect(a,0,1)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="1"><span><em class="font12 gray">主胜</em> '+(c?"":b.mixOdds.BSKSF[0])+"</span></div></div>"},createRWDLSpDom:function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.BSKRFSF),d=!(!b.danGuan||!b.danGuan.BSKRFSF);return c?'<div class="match_detail jzhg center mb15 clearfix gray"><span class="rq r2'+(Number(b.rq)>0?" r_red":" r_green")+'">让<em>'+b.rq+'</em></span><div class="opt_jz" style="width:100%;"><span><em class="font12 gray">未开售</em></span></div></div>':'<div class="match_detail jzhg center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'" data-o="'+a+'" data-i="1" data-dg="'+(d?"1":"0")+'"><span class="rq r3">让分</span><div class="opt_jz'+(this.checkSelect(a,1,0)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="0"><span><em class="font12 gray">客胜</em> '+(c?"":b.mixOdds.BSKRFSF[1])+'</span></div><div class="opt_jz'+(this.checkSelect(a,1,1)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="1"><span><em class="font12 gray">主'+(Number(b.mixOdds.BSKRFSF[2])>0?'<i class="fontred">'+b.mixOdds.BSKRFSF[2]+"</i>":'<i class="fontgreen">'+b.mixOdds.BSKRFSF[2]+"</i>")+"胜</em> "+(c?"":b.mixOdds.BSKRFSF[0])+"</span></div></div>"},createTotalGoalsSpDom:function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.BSKDXF),d=!(!b.danGuan||!b.danGuan.BSKDXF);return c?'<div class="match_detail jzhg center mb15 clearfix gray"><span class="rq r2'+(Number(b.rq)>0?" r_red":" r_green")+'">让<em>'+b.rq+'</em></span><div class="opt_jz" style="width:100%;"><span><em class="font12 gray">未开售</em></span></div></div>':'<div class="match_detail jzhg center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'" data-o="'+a+'" data-i="2" data-dg="'+(d?"1":"0")+'"><span class="rq r4">大小分</span><div class="opt_jz'+(this.checkSelect(a,2,0)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="0"><span><em class="font12 gray">大于'+b.mixOdds.BSKDXF[2]+"</em> "+(c?"":b.mixOdds.BSKDXF[0])+'</span></div><div class="opt_jz'+(this.checkSelect(a,2,1)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="1"><span><em class="font12 gray">小于'+b.mixOdds.BSKDXF[2]+"</em> "+(c?"":b.mixOdds.BSKDXF[1])+"</span></div></div>"},createHalfFullSpDom:function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.BSKSFC),d=!(!b.danGuan||!b.danGuan.BSKSFC),e=b.mixOdds.BSKSFC[1].split(","),f=b.mixOdds.BSKSFC[1]+","+b.mixOdds.BSKSFC[0],g=['<div class="match_detail lc-w33 jzhg center clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'" data-o="'+a+'" data-n="'+b.homeName+","+b.awayName+'" data-p="'+b.homeRank+","+b.awayRank+'"><span class="rq r5">客胜</span><div data-s="'+f+'" data-i="3" data-dg="'+(d?"1":"0")+'">'];if(c)return g.push('<p class="center font12 gray" style="line-height: 124px;">未开售</p></div></div>'),g.join("");for(var h=0,i=e.length;h<i;h++)g.push('<div class="opt_jz'+(this.checkSelect(a,3,h)?" selected":"")+'" data-t="'+(c?"":"selectBet")+'" data-k="'+h+'"><span><em class="font12 gray">'+this.betCnVal[3][h]+" </em> "+(c?"":e[h])+"</span></div>");return g.push("</div></div>"),g.join("")},createScoreSpDom:function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.BSKSFC),d=!(!b.danGuan||!b.danGuan.BSKSFC),e=b.mixOdds.BSKSFC[0].split(","),f=b.mixOdds.BSKSFC[1]+","+b.mixOdds.BSKSFC[0],g=['<div class="match_detail lc-w33 jzhg center clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'" data-o="'+a+'" data-n="'+b.homeName+","+b.awayName+'" data-p="'+b.homeRank+","+b.awayRank+'"><span class="rq r5">主胜</span><div data-s="'+f+'" data-i="3" data-dg="'+(d?"1":"0")+'">'];if(c)return g.push('<p class="center font12 gray" style="line-height: 124px;">未开售</p></div></div>'),g.join("");for(var h=0,i=e.length;h<i;h++)g.push('<div class="opt_jz'+(this.checkSelect(a,3,h+6)?" selected":"")+'" data-t="'+(c?"":"selectBet")+'" data-k="'+(h+6)+'"><span><em class="font12 gray">'+this.betCnVal[3][h+6]+" </em> "+(c?"":e[h])+" </span></div>");return g.push("</div></div>"),g.join("")},createFootSpdom:function(a){return'</div><div style="height:150px;"></div></div><div class="bottomcon"><p class="btn_simple btn_jzhg"><a href="javascript:void(0);" data-t="subBet" class="w50"><span>确定</span></a></p></div>'}};for(var i in basketMix_funObj)basketMixObj[i]=basketMix_funObj[i];basketMixObj.bonusConfig={betName:["sf","rfsf","dxf","sfc"],getBetVal:function(a){a=Number(a);for(var b=["1-5","6-10","11-15","16-20","21-25","26","1-5","6-10","11-15","16-20","21-25","26"],c=[],d=0;d<12;d++){var e=b[d].split("-"),f=e[0],g=e[1];if(d>5){var h=1;if(11==d)var i=a<0?-1*a<f?[1]:[0]:[1];else var i=a<0?-1*a<f?[1]:-1*a>g?[0]:[0,1]:[1]}else{var h=0;if(5==d)var i=a>0?a<f?[0]:[0,1]:[0];else var i=a>0?a<f?[0]:a>g?[1]:[0,1]:[0]}c[d]=[[h],i,[0,1],[d]]}return c}},basketMixObj.initBonusObj=function(){sportteryBonus.createDomObj=function(){this.moneyObj=$("#basketMix_moneyObj"),this.bonusObj=$("#basketMix_bonusObj"),this.zhushuObj=$("#basketMix_zhushuObj")},sportteryBonus.init(basketMixObj.bonusConfig)},basketMixObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),basketMixObj.initBonusObj()},basketMixObj.dirShow=function(){var a=this;a.show("",function(){a.getData()})};var prizeToolObj=new PageController({name:"prizeTool",tpl:"template/sporttery/prizeTool.html"});prizeToolObj.createDom=function(){this.lotteryObj=$("#prizeTool_lotteryObj"),this.betListObj=$("#prizeTool_betListObj .listObj"),this.keyObj=$("#prizeTool_keyObj"),this.setZsObj=$("#prizeTool .setZsObj"),this.mulObj=$("#prizeTool_mulObj"),this.moneyObj=$("#prizeTool_moneyObj"),this.bounsObj=$("#prizeTool_bounsObj"),this.setMoneyObj=$("#prizeTool_setMoneyObj"),this.yhSub=$("#prizeTool_yhSub"),this.danBounsObj=$("#prizeTool .danBounsObj"),this.yhSub.addClass("disabled")},prizeToolObj.createEvent=function(){this.lotteryObj.unbind("tap").tap(function(a){prizeToolObj.lotteryEvent(a)}),this.setZsObj.unbind("keyup").keyup(function(){if(prizeToolObj.jctoolMoney!=prizeToolObj.checkUpdMoney)return!1;if(""===this.value)return!1;var a=Number($(this).attr("data-i"));isNaN(this.value)&&(this.value=prizeToolObj.betListObj.eq(a).attr("data-z")),this.value>999&&(this.value=999),prizeToolObj.betListObj.eq(a).attr("data-z",this.value),prizeToolObj.updBounsVal(a),prizeToolObj.getBetMoney(),prizeToolObj.getBounsVal()}),this.setZsObj.unbind("blur").blur(function(){if(prizeToolObj.jctoolMoney!=prizeToolObj.checkUpdMoney)return $.alertMsg("计划投注金额已经变动，请重新优化后再修改。"),this.value=0,!1;""===this.value&&(this.value=1);var a=Number($(this).attr("data-i"));prizeToolObj.betListObj.eq(a).attr("data-z",this.value),prizeToolObj.updBounsVal(a),prizeToolObj.getBetMoney(),prizeToolObj.getBounsVal()}),this.yhSub.unbind("tap").tap(function(){prizeToolObj.updateData()})},prizeToolObj.lotteryEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"subData":return prizeToolObj.disableBtn(c),prizeToolObj.subData(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showSetMoney":return prizeToolObj.showSetMoney(c),!0;case"showSetDZ":return prizeToolObj.showSetDZ(c),!0;case"key":return prizeToolObj.setVal(c),!0;case"delkey":return prizeToolObj.delVal(c),!0;case"hidekey":return prizeToolObj.hideSetMoney(c),prizeToolObj.updateData(),!0;case"redu":return prizeToolObj.redu(c),!0;case"addVal":return prizeToolObj.addVal(c),!0;case"reduM":return prizeToolObj.reduM(c),!0;case"addM":return prizeToolObj.addM(c),!0;case"reduMoney":return prizeToolObj.reduMoney(c),!0;case"addMoney":return prizeToolObj.addMoney(c),!0;case"showMul":return prizeToolObj.showMul(c),!0}}var f=$.oto_checkEvent(a,"P");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"back":return prizeToolObj.goBack(),!0;case"help":return prizeToolObj.goHelp(),!0}}var g=$.oto_checkEvent(a,"LI");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updateType":return prizeToolObj.updateType(c),!0}}},prizeToolObj.disableBtn=function(a){a.removeAttr("data-t").addClass("gray"),setTimeout(function(){a.attr("data-t","subData").removeClass("gray")},2500)},prizeToolObj.updateType=function(a){var b=a.attr("data-v");return"avg"!=b&&(this.passType.split(",").length>1||this.matches.split(";").length>this.passType.split("_")[0])?($.alertMsg("风险最小/奖金最高优化不支持组合过关"),!1):this.jctoolMoney<this.money?($.alertMsg("优化金额必须大于原始单金额"),!1):(a.siblings("li").removeClass("on"),a.addClass("on"),this.optimizeType=b,void this.updateData())},prizeToolObj.updateData=function(){var a=this;this.jctoolMoney<this.money&&(this.jctoolMoney=this.money),a.jctoolMoney%2!=0&&(a.jctoolMoney=a.jctoolMoney-1),a.setMoneyObj.html(a.jctoolMoney);var b={lotteryType:a.lotteryType,lotteryNo:a.lotteryNo,passType:a.passType,wagerCount:a.wagerCount,wagerMultiple:a.wagerMultiple,matches:a.matches,matchOrder:a.matchOrder,absMatchOrder:a.absMatchOrder,money:a.money,jctoolMoney:a.jctoolMoney,checkUpdMoney:a.checkUpdMoney,optimizeType:a.optimizeType,manner:a.manner};prizeToolObj.getData(b)},prizeToolObj.showSetMoney=function(a){this.hideSetMoney(),this.showMoneyObj=a,this.keyObj.show(),a.addClass("fontblue"),this.addBgLayer()},prizeToolObj.showSetDZ=function(a){this.hideSetMoney(),this.showMoneyObj=a,this.keyObj.show(),a.addClass("fontblue"),this.addBgLayer()},prizeToolObj.showMul=function(a){this.hideSetMoney(),this.showMoneyObj=a,this.keyObj.show(),a.addClass("fontblue"),this.addBgLayer()},prizeToolObj.hideSetMoney=function(){if(!this.showMoneyObj)return!1;this.keyObj.hide(),this.showMoneyObj.removeClass("fontblue"),$("#prizeTool_bgLayer").remove(),this.showMoneyObj="",
this.setMoneyObj.attr("data-newS",1),this.mulObj.attr("data-newS",1)},prizeToolObj.setVal=function(a){var b=a.attr("data-v");switch(this.showMoneyObj.attr("data-t")){case"showSetMoney":return this.setMoneyVal(b),!0;case"showSetDZ":return this.setDZVal(b),!0;case"showMul":return this.setMulVal(b),!0}},prizeToolObj.delVal=function(a){var b=a.attr("data-v");switch(this.showMoneyObj.attr("data-t")){case"showSetMoney":return this.delMoneyVal(b),!0;case"showMul":return this.delMulVal(b),!0}},prizeToolObj.checkMoney=function(){if(this.jctoolMoney!=this.checkUpdMoney){this.yhSub.removeClass("disabled");for(var a=0,b=this.setZsObj.length;a<b;a++)this.setZsObj.eq(a).val(0),this.betListObj.eq(a).attr("data-z",0),this.updBounsVal(a)}else{this.yhSub.addClass("disabled");for(var a=0,b=this.setZsObj.length;a<b;a++){var c=this.betListObj.eq(a).attr("data-oldZ");this.setZsObj.eq(a).val(c),this.betListObj.eq(a).attr("data-z",c),this.updBounsVal(a)}}this.getBetMoney(),this.getBounsVal()},prizeToolObj.setMoneyVal=function(a){if("1"==this.showMoneyObj.attr("data-newS")){var b=Number(a);this.showMoneyObj.attr("data-newS","0")}else var b=Number(this.jctoolMoney+""+a);this.jctoolMoney=Number(b),this.jctoolMoney>5e5&&(this.jctoolMoney=5e5),this.showMoneyObj.html(this.jctoolMoney),this.checkMoney()},prizeToolObj.delMoneyVal=function(a){this.jctoolMoney=Number(this.jctoolMoney.toString().slice(0,-1)),this.showMoneyObj.html(this.jctoolMoney),this.checkMoney()},prizeToolObj.setDZVal=function(a){var b=Number(this.showMoneyObj.attr("data-i")),c=this.betListObj.eq(b),d=c.attr("data-z");d+=a.toString(),c.attr("data-z",d),this.showMoneyObj.html(d+"注")},prizeToolObj.setMulVal=function(a){if("1"==this.mulObj.attr("data-newS")){var b=Number(a);this.mulObj.attr("data-newS","0")}else var b=Number(this.wagerMultiple+""+a);this.wagerMultiple=Number(b),this.wagerMultiple>1e4&&(this.wagerMultiple=1e4),this.showMoneyObj.html(this.wagerMultiple+"倍"),this.getBetMoney(),this.getBounsVal()},prizeToolObj.delMulVal=function(a){this.wagerMultiple=Number(this.wagerMultiple.toString().slice(0,-1)),0==this.wagerMultiple&&(this.wagerMultiple=1),this.showMoneyObj.html(this.wagerMultiple+"倍"),this.getBetMoney(),this.getBounsVal()},prizeToolObj.redu=function(a){if(this.jctoolMoney!=this.checkUpdMoney)return $.alertMsg("计划投注金额已经变动，请重新优化后再修改。"),!1;var b=Number(a.attr("data-i")),c=this.betListObj.eq(b),d=this.setZsObj.eq(b),e=Number(c.attr("data-z")),f=e-1;f<=0&&(f=1),c.attr("data-z",f),d.val(f),this.updBounsVal(b),this.getBetMoney(),this.getBounsVal()},prizeToolObj.addVal=function(a){if(this.jctoolMoney!=this.checkUpdMoney)return $.alertMsg("计划投注金额已经变动，请重新优化后再修改。"),!1;var b=Number(a.attr("data-i")),c=this.betListObj.eq(b),d=this.setZsObj.eq(b),e=Number(c.attr("data-z")),f=e+1;f>999&&(f=999),c.attr("data-z",f),d.val(f),this.updBounsVal(b),this.getBetMoney(),this.getBounsVal()},prizeToolObj.reduM=function(){var a=this.wagerMultiple-1;a<=0&&(a=1),this.wagerMultiple=a,this.mulObj.html(this.wagerMultiple+"倍"),this.getBetMoney(),this.getBounsVal()},prizeToolObj.addM=function(){var a=this.wagerMultiple+1;a>999&&(a=999),this.wagerMultiple=a,this.mulObj.html(this.wagerMultiple+"倍"),this.getBetMoney(),this.getBounsVal()},prizeToolObj.reduMoney=function(){var a=this.jctoolMoney-this.upStepNum;a<=this.money&&(a=this.money),this.jctoolMoney=a,this.setMoneyObj.html(this.jctoolMoney),this.checkMoney()},prizeToolObj.addMoney=function(){var a=this.jctoolMoney+this.upStepNum;a>5e5&&(a=this.checkUpdMoney),this.jctoolMoney=a,this.setMoneyObj.html(this.jctoolMoney),this.checkMoney()},prizeToolObj.updBounsVal=function(a){var b=this.betListObj.eq(a).attr("data-noteval"),c=this.betListObj.eq(a).attr("data-z");this.betListObj.eq(a).attr("data-totalval",(Number(c)*Number(b)).toFixed(2)),this.danBounsObj.eq(a).html((Number(c)*Number(b)).toFixed(2))},prizeToolObj.getBetMoney=function(){for(var a=0,b=0,c=this.betListObj.length;b<c;b++){var d=this.betListObj.eq(b),e=d.attr("data-z");a+=Number(e)}return this.moneyObj.html(2*a*this.wagerMultiple),2*a*this.wagerMultiple},prizeToolObj.getBounsVal=function(){var temTeamval=new Array,tembouns=new Array,maxBonus=[],minbouns=new Array,maxbounsVal=0;for(var k in this.lineGroup){for(var thisGroup=this.lineGroup[k],zhbouns=new Array,i=0,ilen=this.betListObj.length;i<ilen;i++)temTeamval[i]||(temTeamval[i]=this.betListObj.eq(i).attr("data-teamval"),tembouns[i]=this.betListObj.eq(i).attr("data-totalval"),minbouns.push(tembouns[i])),this.isMaxbouns(thisGroup,temTeamval[i])&&zhbouns.push(tembouns[i]);var bounsVal=eval(zhbouns.join("+"));bounsVal>maxbounsVal&&(maxbouns=zhbouns,maxbounsVal=bounsVal)}var minbouns=eval("Math.min("+minbouns.join(",")+")");this.bounsObj.html("预计奖金"+(minbouns*this.wagerMultiple).toFixed(2)+"~"+(maxbounsVal*this.wagerMultiple).toFixed(2)+"元")},prizeToolObj.isMaxbouns=function(a,b){for(var c=b.split(";"),d=0,e=c.length;d<e;d++)if(a.indexOf(c[d])<0)return!1;return!0},prizeToolObj.subData=function(){if(this.jctoolMoney!=this.checkUpdMoney)return $.alertMsg("计划投注金额已经变动，请重新优化后再投注。"),!1;if(this.getBetMoney()>5e5)return $.alertMsg("金额不能超过500000"),!1;var a=this;loginObj.isLogin?a.subDataFun():(loginObj.goBack=function(){a.show()},loginObj.goForward=function(){a.show()},loginObj.show())},prizeToolObj.subDataFun=function(){for(var a=this,b=new Array,c=0,d=this.betListObj.length;c<d;c++){var e=this.betListObj.eq(c).attr("data-teamval"),f=this.betListObj.eq(c).attr("data-z");b.push(e+"|"+f)}var g={lotteryType:a.lotteryType,lotteryNo:a.lotteryNo,passType:a.passType,wagerCount:a.wagerCount,wagerMultiple:a.wagerMultiple,matches:a.matches,matchOrder:a.matchOrder,absMatchOrder:a.absMatchOrder,money:a.money,jctoolMoney:a.getBetMoney(),checkUpdMoney:a.checkUpdMoney,optimizeType:a.optimizeType,manner:a.manner,consignType:"alone"};g.toolMatches=b.join("#"),g.channel_number=ConfigObj.zdid;var h={para:Global.encrypt(g),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=lottery.lottery.sportteryprocess",data:h,dataType:"json",type:"post",success:function(b){if("0000"==b.code){b.info=$.parseJSON(Global.crypt(b.info));var c={lotteryType:a.lotteryType,product_id:b.info.lotteryId,pay_amount:b.info.money};a.buyFun(c)}else $.alertMsg(b.code_str)}})},prizeToolObj.buyFun=function(a){buyConfirmObj.goBack=function(){prizeToolObj.show(),buyConfirmObj.destroy()},buyConfirmObj.show("reload",function(){buyConfirmObj.setData(a)})},prizeToolObj.addBgLayer=function(){0==$("#prizeTool_bgLayer").length&&($(this.lotteryObj).append('<div style="width:100%;height:100%;background:transparent;position:absolute;left:0;top:0;z-index:98" id="prizeTool_bgLayer"></div>'),$("#prizeTool_bgLayer").css({height:document.documentElement.scrollHeight||document.body.scrollHeight}),$("#prizeTool_bgLayer").tap(function(){prizeToolObj.hideSetMoney()}))},prizeToolObj.formatHtml=function(){},prizeToolObj.onloadExecution=function(){var a=this;a.createDom(),a.createEvent(),a.getBetMoney(),a.getBounsVal()},prizeToolObj.init=function(){this.setDefConfig()},prizeToolObj.setDefConfig=function(){this.showMoneyObj="",this.lotteryType="FTFH",this.lotteryNo="",this.passType="",this.wagerCount="",this.wagerMultiple="",this.matches="",this.matchOrder="",this.absMatchOrder="",this.money="",this.jctoolMoney="",this.checkUpdMoney="",this.optimizeType="",this.lineGroup="",this.manner=""},prizeToolObj.formatHtmlA=function(a){var b='<span class="fl w30">已选'+a.matchOrder.split(",").length+'场比赛</span><span class="fr w70 right">'+a.passTypeCn+"</span>";$("#prizeTool_wrapA").html(b),$("#prizeTool_setMoneyObj").html(a.jctoolMoney);for(var c=$('#prizeTool li[data-t="updateType"]'),d=0;d<c.length;d++)$(c[d]).attr("data-v")==a.optimizeType?$(c[d]).addClass("on"):$(c[d]).removeClass("on")},prizeToolObj.formatHtmlB=function(a){for(var b="",c=0;c<a.optimizeList.length;c++){var d=a.optimizeList[c];b+='<div class="p_item listObj" data-teamval="'+d.betStr+'" data-noteval="'+d.money+'" data-totalval="'+d.theoreticalBonus+'" data-z="'+d.betNum+'" data-oldZ="'+d.betNum+'"><div class="clearfix center"><div class="fl w10"><em class="num">'+(c+1)+"</em><p>"+d.passType+'</p></div><div class="fl w90 mb5">';for(var e=0;e<d.list.length;e++){var f=d.list[e];b+='<div class="p_dz clearfix"><span class="gray fl font12 w18">'+f.oidCn+'</span><p class="fl w50 p_team clearfix"><span class="w45">'+f.homeName+'</span><em class="gray w10">VS</em><span class="w45">'+f.awayName+'</span></p><p class="fl w32"><span>'+f.betConCn+(f.rq?'(<em class="fontred">'+f.rq+"</em>)":"")+f.odds+"</span></p></div>"}b+='</div></div><div class="p_yc clearfix"><span class="fl gray mt5">预计奖金<em class="fontred danBounsObj">'+d.theoreticalBonus+'</em>元</span><div class="fr w50"><p class="inputbox"><span data-t="redu" data-i="'+c+'" class="ipt-span s1">－</span><input class="ipt-span s2 setZsObj" type="tel" value="'+d.betNum+'" data-i="'+c+'"><span class="ipt-span s3" data-t="addVal" data-i="'+c+'">＋</span></p><em> 注</em></div></div></div>'}$("#prizeTool_wrapB").html(b)},prizeToolObj.setData=function(obj){this.lotteryType=obj.lotteryType,this.lotteryNo=obj.lotteryNo,this.passType=obj.passType,this.wagerCount=obj.wagerCount,this.wagerMultiple=obj.wagerMultiple,this.matches=obj.matches,this.matchOrder=obj.matchOrder,this.absMatchOrder=obj.absMatchOrder,this.money=parseInt(obj.money,10),this.jctoolMoney=parseInt(obj.jctoolMoney,10),this.checkUpdMoney=parseInt(obj.jctoolMoney,10),this.upStepNum=2,this.optimizeType=obj.optimizeType,this.lineGroup=eval("("+obj.lineGroup+")")},prizeToolObj.getData=function(a){var b=this;b.manner=a.manner;var c={para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Jctool.prizereview",data:c,dataType:"json",type:"post",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),b.setData(a.info),prizeToolObj.formatHtmlA(a.info),prizeToolObj.formatHtmlB(a.info),b.onloadExecution()):($.alertMsg(a.code_str),setTimeout(function(){prizeToolObj.goBack()},1e3))}})},prizeToolObj.goHelp=function(){helpDetailObj.goBack=function(){helpDetailObj.destroy(),prizeToolObj.show()},helpDetailObj.show("reload",function(){helpDetailObj.setData("prizetool")})};var soccer2x1Obj=new SportterySoccer({name:"soccer2x1",tpl:"template/sporttery/soccer2x1.html"});soccer2x1Obj.setDefConfig=function(){this.betData=new Object,this.betNum=0,this.ggSelectData=new Array,this.multipleVal=1,this.spTemData=new Object,this.showBetNum=!0,this.noDanGuanVal=0,this.temBetData=new Array,this.temBetNum=0,this.temNoDanGuanVal=0,this.temScrollTop=0,this.betVal=new Array(new Array("3","1","0"),new Array("3","1","0"),new Array("0","1","2","3","4","5","6","7"),new Array("33","31","30","13","11","10","03","01","00"),new Array("10","20","21","30","31","32","40","41","42","50","51","52","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","05","15","25","09")),this.betCnVal=new Array(new Array("胜","平","负"),new Array("胜","平","负"),new Array("0球","1球","2球","3球","4球","5球","6球",">6球"),new Array("胜胜","胜平","胜负","平胜","平平","平负","负胜","负平","负负"),new Array("1-0","2-0","2-1","3-0","3-1","3-2","4-0","4-1","4-2","5-0","5-1","5-2","胜其他","0-0","1-1","2-2","3-3","平其他","0-1","0-2","1-2","0-3","1-3","2-3","0-4","1-4","2-4","0-5","1-5","2-5","负其他")),this.betName=new Array("胜平负","让球胜平负","总进球","半全场","比分"),this.postDataKey=new Array(1,2,5,3,4),this.betOneTipsText='<p class="center fontred">红框1场也能投</p><p class="center font12 gray">页面赔率仅供参考，请以出票为准</p>',this.ggMode={1:{"1_1":"单关"},2:{"2_1":"2串1"},3:{"3_1":"3串1","3_3":"3串3","3_4":"3串4"},4:{"4_1":"4串1","4_4":"4串4","4_5":"4串5","4_6":"4串6","4_11":"4串11"},5:{"5_1":"5串1","5_5":"5串5","5_6":"5串6","5_10":"5串10","5_16":"5串16","5_20":"5串20","5_26":"5串26"},6:{"6_1":"6串1","6_6":"6串6","6_7":"6串7","6_15":"6串15","6_20":"6串20","6_22":"6串22","6_35":"6串35","6_42":"6串42","6_50":"6串50","6_57":"6串57"},7:{"7_1":"7串1","7_7":"7串7","7_8":"7串8","7_21":"7串21","7_35":"7串35","7_120":"7串120"},8:{"8_1":"8串1","8_8":"8串8","8_9":"8串9","8_28":"8串28","8_56":"8串56","8_70":"8串70","8_247":"8串247"}},this.lotteryType="FTFH",this.lotteryNo="",this.maxZS=5e4,this.maxMoney=5e5,this.showBetNum=!1,this.betMinMatch=2,this.maxModeLimite=[8,8],this.maxMul=1e4,this.manner=2,this.betOneTipsText='<p class="center fontred">至少选择2场</p><p class="center font12 gray">页面赔率仅供参考，请以出票为准</p>',this.wid="",this.pid=""},soccer2x1Obj.createDomObj=function(){this.lotteryObj=$("#soccer2x1_lotteryObj"),this.betOneTipsObj=$("#soccer2x1_betOneTipsObj"),this.lotteryInfoObj=$("#soccer2x1_lotteryInfoObj"),this.oneGGObj=$("#soccer2x1_oneGGObj"),this.otherGGObj=$("#soccer2x1_otherGGObj"),this.ddObj=$("#soccer2x1_ddObj"),this.ggdoorObj=$("#soccer2x1_ggdoorObj"),this.ddDetailObj=$("#soccer2x1_ddDetailObj"),this.ggObj=$("#soccer2x1_ggObj"),this.ddTitleObj=$("#soccer2x1_ddTitleObj"),this.matchListObj=$("#soccer2x1_matchListObj"),this.multipleObj=$("#soccer2x1_multipleObj"),this.multipleValObj=$("#soccer2x1_multipleValObj"),this.navObj=$("#soccer2x1_navObj"),this.updObj=$("#soccer2x1_updObj"),this.betspObj=$("#soccer2x1_betspObj"),this.showOtherGGObj=$("#soccer2x1_showOtherGGObj"),this.bonusOpt=$("#soccer2x1_bonusOpt"),this.bonusDeilObj=$("#soccer2x1_bonusDeilObj"),this.bonusListObj=$("#soccer2x1_bonusListObj")},soccer2x1Obj.createTitleDDDom=function(a){var b=this.betData[a],c=Number(b[10]),d=1===c?[0,1]:[1,0],e=1===c?["主胜","主不胜"]:["主不败","主败"],f=b[2]&&b[2][0]?b[2][0]:b[2][1];return'<div class="libox clearfix"><span class="del fl" data-o="'+a+'" data-t="delOne"><em class="icon"></em></span><div class="matchcon center w80 fl"><div data-o="'+a+'" data-i="'+d[0]+'"><div class="item w50 fl'+(b[1][d[0]]&&b[1][d[0]][0]?" selected":"")+'" data-t="dds" data-k=0><p><span><em class="gray font12"></em>'+b[5]+'</span><span><em class="gray font12">'+e[0]+"</em> "+f[0]+'</span></p></div></div><div data-o="'+a+'" data-i="'+d[1]+'"><div class="item w50 fl'+(b[1][d[1]]&&b[1][d[1]][2]?" selected":"")+'" data-t="dds" data-k=2><p><span>'+b[6]+'<em class="gray font12"></em></span><span><em class="gray font12">'+e[1]+"</em> "+f[2]+'</span></p></div></div></div><span class="jzdan fr'+(b[9]?" on":"")+'" data-o="'+a+'" data-t="dd"><em>胆</em></span></div>'},soccer2x1Obj.createWDLDDDom=function(a,b){return""},soccer2x1Obj.createRWDLDDDom=function(a,b){return""},soccer2x1Obj.createfootDDDom=function(a){return""},soccer2x1Obj.initBonusObj=function(){sportteryBonus.createDomObj=function(){this.moneyObj=$("#soccer2x1_moneyObj"),this.bonusObj=$("#soccer2x1_bonusObj"),this.zhushuObj=$("#soccer2x1_zhushuObj")},sportteryBonus.init()},soccer2x1Obj.onloadExecution=function(){this.createDomObj(),this.createEvent(),soccer2x1Obj.initBonusObj()};var soccerMixObj=new SportterySoccer({name:"soccerMix",tpl:"template/sporttery/soccerMix.html"});soccerMixObj.setDefConfig=function(){this.betData=new Object,this.betNum=0,this.ggSelectData=new Array,this.multipleVal=1,this.spTemData=new Object,this.showBetNum=!0,this.noDanGuanVal=0,this.temBetData=new Array,this.temBetNum=0,this.temNoDanGuanVal=0,this.temScrollTop=0,this.betVal=new Array(new Array("3","1","0"),new Array("3","1","0"),new Array("0","1","2","3","4","5","6","7"),new Array("33","31","30","13","11","10","03","01","00"),new Array("10","20","21","30","31","32","40","41","42","50","51","52","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","05","15","25","09")),this.betCnVal=new Array(new Array("胜","平","负"),new Array("胜","平","负"),new Array("0球","1球","2球","3球","4球","5球","6球",">6球"),new Array("胜胜","胜平","胜负","平胜","平平","平负","负胜","负平","负负"),new Array("1:0","2:0","2:1","3:0","3:1","3:2","4:0","4:1","4:2","5:0","5:1","5:2","胜其他","0:0","1:1","2:2","3:3","平其他","0:1","0:2","1:2","0:3","1:3","2:3","0:4","1:4","2:4","0:5","1:5","2:5","负其他")),this.betName=new Array("胜平负","让球胜平负","总进球","半全场","比分"),this.postDataKey=new Array(1,2,5,3,4),this.betOneTipsText='<p class="center fontred">红框1场也能投</p><p class="center font12 gray">页面赔率仅供参考，请以出票为准</p>',this.ggMode={1:{"1_1":"单关"},2:{"2_1":"2串1"},3:{"3_1":"3串1","3_3":"3串3","3_4":"3串4"},4:{"4_1":"4串1","4_4":"4串4","4_5":"4串5","4_6":"4串6","4_11":"4串11"},5:{"5_1":"5串1","5_5":"5串5","5_6":"5串6","5_10":"5串10","5_16":"5串16","5_20":"5串20","5_26":"5串26"},6:{"6_1":"6串1","6_6":"6串6","6_7":"6串7","6_15":"6串15","6_20":"6串20","6_22":"6串22","6_35":"6串35","6_42":"6串42","6_50":"6串50","6_57":"6串57"},7:{"7_1":"7串1","7_7":"7串7","7_8":"7串8","7_21":"7串21","7_35":"7串35","7_120":"7串120"},8:{"8_1":"8串1","8_8":"8串8","8_9":"8串9","8_28":"8串28","8_56":"8串56","8_70":"8串70","8_247":"8串247"}},this.lotteryType="FTFH",this.lotteryNo="",this.maxZS=5e4,this.maxMoney=5e5,this.maxModeLimite=[8,8,6,4,4],this.betMinMatch=2,this.maxMul=1e4,this.wid="",this.pid="",this.showBetLotteryType="FTBRQSPF,FTSPF,FTJQS,FTBQC,FTBF"},soccerMixObj.createTitleDDDom=function(a){var b=this.betData[a];return'<div class="libox clearfix"><div class="tz_info mb15"><span class="del fl" data-o="'+a+'" data-t="delOne"><em class="icon"></em></span><p class="fl vs w80 center"><span class="w33">'+b[5]+'</span><span class="w33">VS</span><span class="w33">'+b[6]+'</span></p><span class="jzdan fr'+(b[9]?" on":"")+'" data-o="'+a+'" data-t="dd"><em>胆</em></span></div><div class="w94 tz_hg">'},soccerMixObj.createWDLDDDom=function(a,b){var c=this.betData[a];return'<div class="match_detail jzhg center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><span class="rq r1">让<em>0</em></span><div class="opt_jz'+(c[1][b][0]?" selected":"")+'" data-t="dds" data-k=0><span><em class="font12 gray">主胜</em> '+c[2][b][0]+'</span></div><div class="opt_jz'+(c[1][b][1]?" selected":"")+'" data-t="dds" data-k=1><span><em class="font12 gray">平</em> '+c[2][b][1]+'</span></div><div class="opt_jz'+(c[1][b][2]?" selected":"")+'" data-t="dds" data-k=2><span><em class="font12 gray">客胜</em> '+c[2][b][2]+"</span></div></div>"},soccerMixObj.createRWDLDDDom=function(a,b){var c=this.betData[a];return'<div class="match_detail jzhg center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><span class="rq r2'+(c[10]>0?" r_red":" r_green")+'">让<em>'+c[10]+'</em></span><div class="opt_jz'+(c[1][b][0]?" selected":"")+'" data-t="dds" data-k=0><span><em class="font12 gray">主胜</em> '+c[2][b][0]+'</span></div><div class="opt_jz'+(c[1][b][1]?" selected":"")+'" data-t="dds" data-k=1><span><em class="font12 gray">平</em> '+c[2][b][1]+'</span></div><div class="opt_jz'+(c[1][b][2]?" selected":"")+'" data-t="dds" data-k=2><span><em class="font12 gray">客胜</em> '+c[2][b][2]+"</span></div></div>"},soccerMixObj.createTotalGoalsDDDom=function(a,b){return this.createScoreDDDom(a,b)},soccerMixObj.createHalfFullDDDom=function(a,b){return this.createScoreDDDom(a,b)},soccerMixObj.createScoreDDDom=function(a,b){for(var c=this.betData[a],d={2:"r4",4:"r3",3:"r5"},e=d&&d[b]?d[b]:"r3",f=['<div class="match_detail jzhg jz_score center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><span class="rq '+e+" "+(4!=b?" pt1":"")+'">'+this.betName[b]+"</span>"],g=0,h=c[1][b].length;g<h;g++)c[1][b][g]&&f.push('<div class="opt_jz'+(c[1][b][g]?" selected":"")+'" data-t="dds" data-k='+g+'><span><i class="font12">'+this.betCnVal[b][g]+"</i><i>"+c[2][b][g]+"</i></span></div>");return f.push("</div>"),f.join("")},soccerMixObj.createfootDDDom=function(a){return"</div></div>"},soccerMixObj.createTitleSpDom=function(a){var b=this.spTemData[a];return'<p class="tit font18 center">\x3c!--em class="font12">['+b.homeRank+"]</em--\x3e <span>"+b.homeName+'</span> <em class="font12 sm">主</em> <span>VS</span> <em class="font12 sm">客</em> <span>'+b.awayName+'</span> \x3c!--em class="font12">['+b.awayRank+']</em--\x3e</p><div class="w94"><div class="hg_wrap">'},soccerMixObj.createWDLSpDom=function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.FTBRQSPF),d=!(!b.danGuan||!b.danGuan.FTBRQSPF);return c?'<div class="match_detail jzhg center mb15 clearfix gray"><span class="rq r1">让<em>0</em></span><div class="opt_jz" style="width:100%;"><span><em class="font12 gray">未开售</em></span></div></div>':'<div class="match_detail jzhg center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'" data-o="'+a+'" data-i="0" data-dg="'+(d?"1":"0")+'"><span class="rq r1">让<em>0</em></span><div class="opt_jz'+(this.checkSelect(a,0,0)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="0"><span><em class="font12 gray">主胜</em> '+(c?"":b.mixOdds.FTBRQSPF[0])+'</span></div><div class="opt_jz'+(this.checkSelect(a,0,1)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="1"><span><em class="font12 gray">平</em> '+(c?"":b.mixOdds.FTBRQSPF[1])+'</span></div><div class="opt_jz'+(this.checkSelect(a,0,2)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="2"><span><em class="font12 gray">客胜</em> '+(c?"":b.mixOdds.FTBRQSPF[2])+"</span></div></div>"},soccerMixObj.createRWDLSpDom=function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.FTSPF),d=!(!b.danGuan||!b.danGuan.FTSPF);return c?'<div class="match_detail jzhg center mb15 clearfix gray"><span class="rq r2'+(Number(b.rq)>0?" r_red":" r_green")+'">让<em>'+b.rq+'</em></span><div class="opt_jz" style="width:100%;"><span><em class="font12 gray">未开售</em></span></div></div>':'<div class="match_detail jzhg center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'" data-o="'+a+'" data-i="1" data-dg="'+(d?"1":"0")+'"><span class="rq r2'+(Number(b.rq)>0?" r_red":" r_green")+'">让<em>'+b.rq+'</em></span><div class="opt_jz'+(this.checkSelect(a,1,0)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="0"><span><em class="font12 gray">主胜</em> '+(c?"":b.mixOdds.FTSPF[0])+'</span></div><div class="opt_jz'+(this.checkSelect(a,1,1)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="1"><span><em class="font12 gray">平</em> '+(c?"":b.mixOdds.FTSPF[1])+'</span></div><div class="opt_jz'+(this.checkSelect(a,1,2)?" selected":"")+'" data-t="'+(c?"":"spbet")+'" data-k="2"><span><em class="font12 gray">客胜</em> '+(c?"":b.mixOdds.FTSPF[2])+"</span></div></div>"},soccerMixObj.createTotalGoalsSpDom=function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.FTJQS),d=!(!b.danGuan||!b.danGuan.FTJQS),e=['<div class="match_detail jzhg jz_score s_more center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'"  data-o="'+a+'" data-n="'+b.homeName+","+b.awayName+'" data-p="'+b.homeRank+","+b.awayRank+'"><span class="rq r4 q4"><i>总进球</i></span><div data-s="'+b.mixOdds.FTJQS.join(",")+'" data-i="2" data-dg="'+(d?"1":"0")+'">'];if(c)return e.push('<p class="center font12 gray" style="line-height: 90px;">未开售</p></div></div>'),e.join("");for(var f=0,g=b.mixOdds.FTJQS.length;f<g;f++)e.push('<div class="opt_jz'+(this.checkSelect(a,2,f)?" selected":"")+'" data-t="'+(c?"":"selectBet")+'" data-k="'+f+'"><span><i class="font12 gray">'+this.betCnVal[2][f]+"</i><i>"+(c?"":b.mixOdds.FTJQS[f])+"</i></span></div>");return e.push("</div></div>"),e.join("")},soccerMixObj.createHalfFullSpDom=function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.FTBQC),d=!(!b.danGuan||!b.danGuan.FTBQC),e=['<div class="match_detail jzhg s_more center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'"  data-o="'+a+'" data-n="'+b.homeName+","+b.awayName+'" data-p="'+b.homeRank+","+b.awayRank+'"><span class="rq r5 q5"><i>半全场</i></span><div data-s="'+b.mixOdds.FTBQC.join(",")+'" data-i="3" data-dg="'+(d?"1":"0")+'">'];if(c)return e.push('<p class="center font12 gray" style="line-height: 124px;">未开售</p></div></div>'),e.join("");for(var f=0,g=b.mixOdds.FTBQC.length;f<g;f++)e.push('<div class="opt_jz w30'+(this.checkSelect(a,3,f)?" selected":"")+'" data-t="'+(c?"":"selectBet")+'" data-k="'+f+'"><span><i class="font12 gray">'+this.betCnVal[3][f]+"</i><i>"+(c?"":b.mixOdds.FTBQC[f])+"</i></span></div>");return e.push("</div></div>"),e.join("")},soccerMixObj.createScoreSpDom=function(a){var b=this.spTemData[a],c=!(!b.stopBuy||!b.stopBuy.FTBF),d=!(!b.danGuan||!b.danGuan.FTBF),e=['<div class="match_detail jzhg jz_score s_more center mb15 clearfix'+(c?" gray":"")+(!c&&d?" m_single":"")+'"  data-o="'+a+'" data-n="'+b.homeName+","+b.awayName+'" data-p="'+b.homeRank+","+b.awayRank+'"><span class="rq r3 q3"><i>比分</i></span><div data-s="'+b.mixOdds.FTBF.join(",")+'" data-i="4" data-dg="'+(d?"1":"0")+'">'];if(c)return e.push('<p class="center font12 gray" style="line-height: 315px;">未开售</p></div></div>'),e.join("");for(var f=0,g=b.mixOdds.FTBF.length;f<g;f++){var h=12==f||30==f?" w60":" w20";e.push('<div class="opt_jz'+h+(this.checkSelect(a,4,f)?" selected":"")+'" data-t="'+(c?"":"selectBet")+'" data-k="'+f+'"><span><i class="font12 gray">'+this.betCnVal[4][f]+"</i><i>"+(c?"":b.mixOdds.FTBF[f])+"</i></span></div>")}return e.push("</div></div>"),e.join("")},soccerMixObj.createFootSpdom=function(a){return'</div><div style="height:150px;"></div></div><div class="bottomcon"><p class="btn_simple btn_jzhg"><a href="javascript:void(0);" data-t="subBet" style="width:100%;"><span>确定</span></a></p></div>'},soccerMixObj.createDomObj=function(){this.lotteryObj=$("#soccerMix_lotteryObj"),this.betOneTipsObj=$("#soccerMix_betOneTipsObj"),this.lotteryInfoObj=$("#soccerMix_lotteryInfoObj"),this.oneGGObj=$("#soccerMix_oneGGObj"),this.otherGGObj=$("#soccerMix_otherGGObj"),this.ddObj=$("#soccerMix_ddObj"),this.ggdoorObj=$("#soccerMix_ggdoorObj"),this.ddDetailObj=$("#soccerMix_ddDetailObj"),this.ggObj=$("#soccerMix_ggObj"),this.ddTitleObj=$("#soccerMix_ddTitleObj"),this.matchListObj=$("#soccerMix_matchListObj"),this.multipleObj=$("#soccerMix_multipleObj"),this.multipleValObj=$("#soccerMix_multipleValObj"),this.navObj=$("#soccerMix_navObj"),this.updObj=$("#soccerMix_updObj"),this.betspObj=$("#soccerMix_betspObj"),this.showOtherGGObj=$("#soccerMix_showOtherGGObj"),this.bonusOpt=$("#soccerMix_bonusOpt"),this.bonusDeilObj=$("#soccerMix_bonusDeilObj"),this.bonusListObj=$("#soccerMix_bonusListObj")},soccerMixObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),soccerMixObj.initBonusObj()},soccerMixObj.initBonusObj=function(){sportteryBonus.createDomObj=function(){this.moneyObj=$("#soccerMix_moneyObj"),this.bonusObj=$("#soccerMix_bonusObj"),this.zhushuObj=$("#soccerMix_zhushuObj")},setTimeout(function(){sportteryBonus.init()},50)},soccerMixObj.dirShow=function(){var a=this;a.show("",function(){a.getData()})};var soccerR9Obj=new SportterySoccer({name:"soccerR9",tpl:"template/sporttery/soccerR9.html"});soccerR9Obj.setDefConfig=function(){this.betData=new Object,this.betNum=0,this.ggSelectData=new Array,this.multipleVal=1,this.spTemData=new Object,this.showBetNum=!0,this.noDanGuanVal=0,this.temBetData=new Array,this.temBetNum=0,this.temNoDanGuanVal=0,this.temScrollTop=0,this.betVal=new Array(new Array("3","1","0"),new Array("3","1","0"),new Array("0","1","2","3","4","5","6","7"),new Array("33","31","30","13","11","10","03","01","00"),new Array("10","20","21","30","31","32","40","41","42","50","51","52","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","05","15","25","09")),this.betCnVal=new Array(new Array("胜","平","负"),new Array("胜","平","负"),new Array("0球","1球","2球","3球","4球","5球","6球",">6球"),new Array("胜胜","胜平","胜负","平胜","平平","平负","负胜","负平","负负"),new Array("1-0","2-0","2-1","3-0","3-1","3-2","4-0","4-1","4-2","5-0","5-1","5-2","胜其他","0-0","1-1","2-2","3-3","平其他","0-1","0-2","1-2","0-3","1-3","2-3","0-4","1-4","2-4","0-5","1-5","2-5","负其他")),this.betName=new Array("胜平负","让球胜平负","总进球","半全场","比分"),this.postDataKey=new Array(1,2,5,3,4),this.lotteryType="SPF9",this.lotteryNo="",this.maxZS=5e4,this.maxMoney=5e5,this.showBetNum=!1,this.betMinMatch=9,this.maxModeLimite=[9],this.maxMul=1e4,this.ggMode={9:{"9_1":"9串1"}},this.betOneTipsText='<p class="center fontred">请至少选9场比赛</p>',this.wid="",this.pid=""},soccerR9Obj.createDomObj=function(){this.lotteryObj=$("#soccerR9_lotteryObj"),this.betOneTipsObj=$("#soccerR9_betOneTipsObj"),this.lotteryInfoObj=$("#soccerR9_lotteryInfoObj"),this.oneGGObj=$("#soccerR9_oneGGObj"),this.otherGGObj=$("#soccerR9_otherGGObj"),this.ddObj=$("#soccerR9_ddObj"),this.ggdoorObj=$("#soccerR9_ggdoorObj"),this.ddDetailObj=$("#soccerR9_ddDetailObj"),this.ggObj=$("#soccerR9_ggObj"),this.ddTitleObj=$("#soccerR9_ddTitleObj"),this.matchListObj=$("#soccerR9_matchListObj"),this.matchWrapObj=$("#soccerR9_matchWrap"),this.lotArrowObj=$("#soccerR9_lotArrow"),this.multipleObj=$("#soccerR9_multipleObj"),this.multipleValObj=$("#soccerR9_multipleValObj"),this.navObj=$("#soccerR9_navObj"),this.updObj=$("#soccerR9_updObj"),this.betspObj=$("#soccerR9_betspObj"),this.showOtherGGObj=$("#soccerR9_showOtherGGObj")},soccerR9Obj.createWDLDDDom=function(a,b){var c=this.betData[a];return'<div class="match_detail jzhg center mb10 clearfix" data-o="'+a+'" data-i="'+b+'" data-dg="'+c[11][b]+'"><div class="opt_jz'+(c[1][b][0]?" selected":"")+'" data-t="dds" data-k=0><span class="leftBorder"><em class="font12 gray">主胜</em> '+c[2][b][0]+'</span></div><div class="opt_jz'+(c[1][b][1]?" selected":"")+'" data-t="dds" data-k=1><span><em class="font12 gray">平</em> '+c[2][b][1]+'</span></div><div class="opt_jz'+(c[1][b][2]?" selected":"")+'" data-t="dds" data-k=2><span><em class="font12 gray">客胜</em> '+c[2][b][2]+"</span></div></div>"},soccerR9Obj.createTitleDDDom=function(a){var b=this.betData[a];return'<div class="libox clearfix"><div class="tz_info mb15"><span class="del fl" data-o="'+a+'" data-t="delOne"><em class="icon"></em></span><p class="fl vs w80 center"><span class="w33">'+b[5]+'</span><span class="w33">VS</span><span class="w33">'+b[6]+'</span></p><span class="jzdan fr'+(b[9]?" on":"")+'" data-o="'+a+'" data-t="dd"><em>胆</em></span></div><div class="w94 tz_hg">'},soccerR9Obj.createfootDDDom=function(a){return"</div></div>"},soccerR9Obj.createGGDoor=function(){var a=soccerR9Obj.getDanNum(),b=a>0?'<span class="num_dot">'+a+"</span>":soccerR9Obj.betNum>9?'<span class="num_dot spe_1">胆</span>':"",c=a>0?"【"+a+"胆】":"【设胆】";this.ggdoorObj.html('<span class="fontblue">'+soccerR9Obj.betNum+"场</span>"+b),this.ddTitleObj.html("已选"+this.betNum+"场"+c+'<em class="js_clear_1 fontblue" data-t="clearMatch" ></em>')},soccerR9Obj.setDD=function(a){var b=a.attr("data-o");if(this.betNum<=9)return!1;if(a.hasClass("disable"))return!0;if(a.hasClass("on"))a.removeClass("on"),this.betData[b][9]=!1;else{if(this.getDanNum()>=8)return $.alertMsg("最多只能定8个胆!"),!1;a.addClass("on"),this.betData[b][9]=!0}},soccerR9Obj.checkedDD=function(){if(0==this.betNum)return!0;for(var a=this.getMinGGVal(),b=this.getDanNum(),c=this.ddObj.children("div"),d=0,e=c.length;d<e;d++){var f=c.eq(d).find('span[data-t="dd"]'),g=f.attr("data-o");this.betData[g][9]||(b>=a-1||this.betNum<=9?f.addClass("disable"):f.removeClass("disable"))}b>0&&this.bonusOpt&&this.bonusOpt.hide()},soccerR9Obj.resetDD=function(){if(0==this.betNum)return!0;var a=this.getDanNum();if(a>8||this.betNum<=9)for(var b in this.betData)this.betData[b]&&this.betData[b][9]&&(this.betData[b][9]=!1);this.createDDDom(),this.createDDDoor(),this.checkedDD(),a>0&&this.bonusOpt&&this.bonusOpt.hide()},soccerR9Obj.createGGData=function(){return this.ggSelectData.length?this.ggSelectData:this.ggMode[this.getMaxGGVal()]&&this.ggMode[this.getMaxGGVal()][this.getMaxGGVal()+"_1"]?[this.getMaxGGVal()+"_1"]:[]},soccerR9Obj.createBetMatchHtml=function(){this.betNum>0?this.betOneTipsObj.html('<p class="center">已选择'+this.betNum+"场比赛</p>"):this.betOneTipsObj.html(this.betOneTipsText)},soccerR9Obj.createWargeData=function(){for(var a=[],b=$("#soccerR9 .matchObj"),c=0,d=b.length;c<d;c++){var e=b.eq(c).attr("data-o");if(this.betData[e]&&(this.betData[e][1]&&this.betData[e][1][0])){for(var f=[],g=0,h=this.betData[e][1][0].length;g<h;g++)this.betData[e][1][0][g]&&f.push(this.betData[e][1][0][g]);a.push(e+":"+f.join(","))}}return a.join(";")},soccerR9Obj.initBonusObj=function(){sportteryBonus.createDomObj=function(){this.moneyObj=$("#soccerR9_moneyObj"),this.bonusObj=$("#soccerR9_bonusObj"),this.zhushuObj=$("#soccerR9_zhushuObj")},sportteryBonus.init()},soccerR9Obj.onloadExecution=function(){this.createDomObj(),this.createEvent(),soccerR9Obj.initBonusObj()},soccerR9Obj.dirShow=function(){var a=this;a.show("",function(){a.getData()})}
;var soccerTotoObj=new SportterySoccer({name:"soccerToto",tpl:"template/sporttery/soccerToto.html"});soccerTotoObj.setDefConfig=function(){this.betData=new Object,this.betNum=0,this.ggSelectData=new Array,this.multipleVal=1,this.spTemData=new Object,this.showBetNum=!0,this.noDanGuanVal=0,this.temBetData=new Array,this.temBetNum=0,this.temNoDanGuanVal=0,this.temScrollTop=0,this.betVal=new Array(new Array("3","1","0"),new Array("3","1","0"),new Array("0","1","2","3","4","5","6","7"),new Array("33","31","30","13","11","10","03","01","00"),new Array("10","20","21","30","31","32","40","41","42","50","51","52","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","05","15","25","09")),this.betCnVal=new Array(new Array("胜","平","负"),new Array("胜","平","负"),new Array("0球","1球","2球","3球","4球","5球","6球",">6球"),new Array("胜胜","胜平","胜负","平胜","平平","平负","负胜","负平","负负"),new Array("1-0","2-0","2-1","3-0","3-1","3-2","4-0","4-1","4-2","5-0","5-1","5-2","胜其他","0-0","1-1","2-2","3-3","平其他","0-1","0-2","1-2","0-3","1-3","2-3","0-4","1-4","2-4","0-5","1-5","2-5","负其他")),this.betName=new Array("胜平负","让球胜平负","总进球","半全场","比分"),this.postDataKey=new Array(1,2,5,3,4),this.lotteryType="SPF14",this.lotteryNo="",this.maxZS=5e4,this.maxMoney=5e5,this.showBetNum=!1,this.betMinMatch=14,this.maxModeLimite=[14],this.maxMul=1e4,this.ggMode={14:{"14_1":"14串1"}},this.betOneTipsText='<p class="center fontred">请至少选14场比赛</p>',this.wid="",this.pid=""},soccerTotoObj.createDomObj=function(){this.lotteryObj=$("#soccerToto_lotteryObj"),this.betOneTipsObj=$("#soccerToto_betOneTipsObj"),this.lotteryInfoObj=$("#soccerToto_lotteryInfoObj"),this.oneGGObj=$("#soccerToto_oneGGObj"),this.otherGGObj=$("#soccerToto_otherGGObj"),this.ddObj=$("#soccerToto_ddObj"),this.ggdoorObj=$("#soccerToto_ggdoorObj"),this.ddDetailObj=$("#soccerToto_ddDetailObj"),this.ggObj=$("#soccerToto_ggObj"),this.ddTitleObj=$("#soccerToto_ddTitleObj"),this.matchListObj=$("#soccerToto_matchListObj"),this.matchWrapObj=$("#soccerToto_matchWrap"),this.lotArrowObj=$("#soccerToto_lotArrow"),this.multipleObj=$("#soccerToto_multipleObj"),this.multipleValObj=$("#soccerToto_multipleValObj"),this.navObj=$("#soccerToto_navObj"),this.updObj=$("#soccerToto_updObj"),this.betspObj=$("#soccerToto_betspObj"),this.showOtherGGObj=$("#soccerToto_showOtherGGObj")},soccerTotoObj.createGGData=function(){return this.ggSelectData.length?this.ggSelectData:this.ggMode[this.getMaxGGVal()]&&this.ggMode[this.getMaxGGVal()][this.getMaxGGVal()+"_1"]?[this.getMaxGGVal()+"_1"]:[]},soccerTotoObj.createBetMatchHtml=function(){this.betNum>0?this.betOneTipsObj.html('<p class="center">已选择'+this.betNum+"场比赛</p>"):this.betOneTipsObj.html(this.betOneTipsText)},soccerTotoObj.createWargeData=function(){for(var a=[],b=$("#soccerToto .matchObj"),c=0,d=b.length;c<d;c++){var e=b.eq(c).attr("data-o");if(this.betData[e]&&(this.betData[e][1]&&this.betData[e][1][0])){for(var f=[],g=0,h=this.betData[e][1][0].length;g<h;g++)this.betData[e][1][0][g]&&f.push(this.betData[e][1][0][g]);a.push(e+":"+f.join(","))}}return a.join(";")},soccerTotoObj.initBonusObj=function(){sportteryBonus.createDomObj=function(){this.moneyObj=$("#soccerToto_moneyObj"),this.bonusObj=$("#soccerToto_bonusObj"),this.zhushuObj=$("#soccerToto_zhushuObj")},sportteryBonus.init()},soccerTotoObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),soccerTotoObj.initBonusObj()},soccerTotoObj.dirShow=function(){var a=this;a.show("",function(){a.getData()})};var sportteryBonus=new Object;sportteryBonus.moneyVal=0,sportteryBonus.bonusVal=0,sportteryBonus.zhushuVal=0,sportteryBonus.betName=["spf","rqspf","zjq","bqc","bf"],sportteryBonus.setDefConfig=function(){this.maxZS=1e5,this.oneMoney=2,this.bJBetWagerCount=this.getBJBetWagerCount()},sportteryBonus.createDomObj=function(){this.moneyObj=$("#soccerMix_moneyObj"),this.bonusObj=$("#soccerMix_bonusObj"),this.zhushuObj=$("#soccerMix_zhushuObj")},sportteryBonus.viewHtml=function(a){if(!1===this.moneyObj)return this.moneyObj.html("超过20万元"),this.bonusObj.html("最高奖金0元"),this.zhushuObj.html("注数过大"),!1;this.moneyObj.html(this.moneyVal*a*this.oneMoney),this.bonusObj.html((this.bonusVal*a*this.oneMoney).toFixed(2)),this.zhushuObj.html(this.zhushuVal+"注")},sportteryBonus.getMoney=function(a,b,c){if(!a||0==a.length)return sportteryBonus.moneyVal=0,sportteryBonus.bonusVal=0,sportteryBonus.zhushuVal=0,sportteryBonus.viewHtml(c),!1;var d=[],e=[],f=[],g=[];for(var h in b)if(b[h]&&b[h][1]){for(var i=[],j=0,k=b[h][1].length;j<k;j++)b[h][3][j]&&i.push(sportteryBonus.betName[j]+"-"+b[h][3][j]);for(var l=sportteryBonus.getBetVal(b[h][10]),m=0,n=[],o=[],p=0,q=l.length;p<q;p++){var r=0;n[p]=[];for(var s=0,t=l[p].length;s<t;s++)if(b[h][3][s]){var u=b[h][2][s];n[p][s]="min-0";for(var v=l[p][s],w=0,x=0,y=v.length;x<y;x++){var z=v[x];"rqspf"===sportteryBonus.betName[s]&&(z=z>0?0:z<0?2:1),b[h][1][s][z]&&w<u[z]&&(w=Number(u[z]),n[p][s]=sportteryBonus.betName[s]+"-"+w)}r+=w}m<=r&&(m=r,o=n[p])}for(var A=[],B=0,C=o.length;B<C;B++)o[B]&&A.push(o[B]);o=A,b[h][9]?(e.push(i),g.push(o)):(d.push(i),f.push(o))}if(0==d.length&&0==e.length)return sportteryBonus.moneyVal=0,sportteryBonus.bonusVal=0,sportteryBonus.zhushuVal=0,sportteryBonus.viewHtml(c),!1;var D=a.join(","),E={ggWay:D,sa:d,sb:e,minabs:e.length,maxabs:e.length},F={ggWay:D,sa:f,sb:g,minabs:e.length,maxabs:e.length};return sportteryBonus.moneyVal=sportteryBonus.getMyCalc(E),sportteryBonus.bonusVal=sportteryBonus.getMyCalc(F),sportteryBonus.zhushuVal=sportteryBonus.getMyCalc(E),sportteryBonus.viewHtml(c),sportteryBonus.moneyVal*c*sportteryBonus.oneMoney+"_"+(sportteryBonus.bonusVal*c*sportteryBonus.oneMoney).toFixed(2)},sportteryBonus.getBJBetWagerCount=function(){for(var a=new Array(17),b=0;b<a.length;b++)a[b]=new Array(17);return a[1][1]="1",a[2][1]="1,2",a[2][2]="1/2",a[3][1]="1,2,3",a[3][2]="1/2,1/3,2/3",a[3][3]="1/2/3",a[4][1]="1,2,3,4",a[4][2]="1/2,1/3,2/3,1/4,2/4,3/4",a[4][3]="1/2/3,1/2/4,1/3/4,2/3/4",a[4][4]="1/2/3/4",a[5][1]="1,2,3,4,5",a[5][2]="1/2,1/3,2/3,1/4,2/4,3/4,1/5,2/5,3/5,4/5",a[5][3]="1/2/3,1/2/4,1/3/4,2/3/4,1/2/5,1/3/5,2/3/5,1/4/5,2/4/5,3/4/5",a[5][4]="1/2/3/4,1/2/3/5,1/2/4/5,1/3/4/5,2/3/4/5",a[5][5]="1/2/3/4/5",a[6][1]="1,2,3,4,5,6",a[6][2]="1/2,1/3,2/3,1/4,2/4,3/4,1/5,2/5,3/5,4/5,1/6,2/6,3/6,4/6,5/6",a[6][3]="1/2/3,1/2/4,1/3/4,2/3/4,1/2/5,1/3/5,2/3/5,1/4/5,2/4/5,3/4/5,1/2/6,1/3/6,2/3/6,1/4/6,2/4/6,3/4/6,1/5/6,2/5/6,3/5/6,4/5/6",a[6][4]="1/2/3/4,1/2/3/5,1/2/4/5,1/3/4/5,2/3/4/5,1/2/3/6,1/2/4/6,1/3/4/6,2/3/4/6,1/2/5/6,1/3/5/6,2/3/5/6,1/4/5/6,2/4/5/6,3/4/5/6",a[6][5]="1/2/3/4/5,1/2/3/4/6,1/2/3/5/6,1/2/4/5/6,1/3/4/5/6,2/3/4/5/6",a[6][6]="1/2/3/4/5/6",a[7][1]="1,2,3,4,5,6,7",a[7][2]="1/2,1/3,2/3,1/4,2/4,3/4,1/5,2/5,3/5,4/5,1/6,2/6,3/6,4/6,5/6,1/7,2/7,3/7,4/7,5/7,6/7",a[7][3]="1/2/3,1/2/4,1/3/4,2/3/4,1/2/5,1/3/5,2/3/5,1/4/5,2/4/5,3/4/5,1/2/6,1/3/6,2/3/6,1/4/6,2/4/6,3/4/6,1/5/6,2/5/6,3/5/6,4/5/6,1/2/7,1/3/7,2/3/7,1/4/7,2/4/7,3/4/7,1/5/7,2/5/7,3/5/7,4/5/7,1/6/7,2/6/7,3/6/7,4/6/7,5/6/7",a[7][4]="1/2/3/4,1/2/3/5,1/2/4/5,1/3/4/5,2/3/4/5,1/2/3/6,1/2/4/6,1/3/4/6,2/3/4/6,1/2/5/6,1/3/5/6,2/3/5/6,1/4/5/6,2/4/5/6,3/4/5/6,1/2/3/7,1/2/4/7,1/3/4/7,2/3/4/7,1/2/5/7,1/3/5/7,2/3/5/7,1/4/5/7,2/4/5/7,3/4/5/7,1/2/6/7,1/3/6/7,2/3/6/7,1/4/6/7,2/4/6/7,3/4/6/7,1/5/6/7,2/5/6/7,3/5/6/7,4/5/6/7",a[7][5]="1/2/3/4/5,1/2/3/4/6,1/2/3/5/6,1/2/4/5/6,1/3/4/5/6,2/3/4/5/6,1/2/3/4/7,1/2/3/5/7,1/2/3/6/7,1/2/4/5/7,1/2/4/6/7,1/2/5/6/7,1/3/4/5/7,1/3/4/6/7,1/3/5/6/7,1/4/5/6/7,2/3/4/5/7,2/3/4/6/7,2/3/5/6/7,2/4/5/6/7,3/4/5/6/7",a[7][6]="1/2/3/4/5/6,1/2/3/4/5/7,1/2/3/4/6/7,1/2/3/5/6/7,1/2/4/5/6/7,1/3/4/5/6/7,2/3/4/5/6/7",a[7][7]="1/2/3/4/5/6/7",a[8][1]="1,2,3,4,5,6,7,8",a[8][2]="1/2,1/3,2/3,1/4,2/4,3/4,1/5,2/5,3/5,4/5,1/6,2/6,3/6,4/6,5/6,1/7,2/7,3/7,4/7,5/7,6/7,1/8,2/8,3/8,4/8,5/8,6/8,7/8",a[8][3]="1/2/3,1/2/4,1/3/4,2/3/4,1/2/5,1/3/5,2/3/5,1/4/5,2/4/5,3/4/5,1/2/6,1/3/6,2/3/6,1/4/6,2/4/6,3/4/6,1/5/6,2/5/6,3/5/6,4/5/6,1/2/7,1/3/7,2/3/7,1/4/7,2/4/7,3/4/7,1/5/7,2/5/7,3/5/7,4/5/7,1/6/7,2/6/7,3/6/7,4/6/7,5/6/7,1/2/8,1/3/8,2/3/8,1/4/8,2/4/8,3/4/8,1/5/8,2/5/8,3/5/8,4/5/8,1/6/8,2/6/8,3/6/8,4/6/8,5/6/8,1/7/8,2/7/8,3/7/8,4/7/8,5/7/8,6/7/8",a[8][4]="1/2/3/4,1/2/3/5,1/2/4/5,1/3/4/5,2/3/4/5,1/2/3/6,1/2/4/6,1/3/4/6,2/3/4/6,1/2/5/6,1/3/5/6,2/3/5/6,1/4/5/6,2/4/5/6,3/4/5/6,1/2/3/7,1/2/4/7,1/3/4/7,2/3/4/7,1/2/5/7,1/3/5/7,2/3/5/7,1/4/5/7,2/4/5/7,3/4/5/7,1/2/6/7,1/3/6/7,2/3/6/7,1/4/6/7,2/4/6/7,3/4/6/7,1/5/6/7,2/5/6/7,3/5/6/7,4/5/6/7,1/2/3/8,1/2/4/8,1/3/4/8,2/3/4/8,1/2/5/8,1/3/5/8,2/3/5/8,1/4/5/8,2/4/5/8,3/4/5/8,1/2/6/8,1/3/6/8,2/3/6/8,1/4/6/8,2/4/6/8,3/4/6/8,1/5/6/8,2/5/6/8,3/5/6/8,4/5/6/8,1/2/7/8,1/3/7/8,2/3/7/8,1/4/7/8,2/4/7/8,3/4/7/8,1/5/7/8,2/5/7/8,3/5/7/8,4/5/7/8,1/6/7/8,2/6/7/8,3/6/7/8,4/6/7/8,5/6/7/8",a[8][5]="1/2/3/4/5,1/2/3/4/6,1/2/3/5/6,1/2/4/5/6,1/3/4/5/6,2/3/4/5/6,1/2/3/4/7,1/2/3/5/7,1/2/3/6/7,1/2/4/5/7,1/2/4/6/7,1/2/5/6/7,1/3/4/5/7,1/3/4/6/7,1/3/5/6/7,1/4/5/6/7,2/3/4/5/7,2/3/4/6/7,2/3/5/6/7,2/4/5/6/7,3/4/5/6/7,1/2/3/4/8,1/2/3/5/8,1/2/3/6/8,1/2/3/7/8,1/2/4/5/8,1/2/4/6/8,1/2/4/7/8,1/2/5/6/8,1/2/5/7/8,1/2/6/7/8,1/3/4/5/8,1/3/4/6/8,1/3/4/7/8,1/3/5/6/8,1/3/5/7/8,1/3/6/7/8,1/4/5/6/8,1/4/5/7/8,1/4/6/7/8,1/5/6/7/8,2/3/4/5/8,2/3/4/6/8,2/3/4/7/8,2/3/5/6/8,2/3/5/7/8,2/3/6/7/8,2/4/5/6/8,2/4/5/7/8,2/4/6/7/8,2/5/6/7/8,3/4/5/6/8,3/4/5/7/8,3/4/6/7/8,3/5/6/7/8,4/5/6/7/8",a[8][6]="1/2/3/4/5/6,1/2/3/4/5/7,1/2/3/4/6/7,1/2/3/5/6/7,1/2/4/5/6/7,1/3/4/5/6/7,2/3/4/5/6/7,1/2/3/4/5/8,1/2/3/4/6/8,1/2/3/4/7/8,1/2/3/5/6/8,1/2/3/5/7/8,1/2/3/6/7/8,1/2/4/5/6/8,1/2/4/5/7/8,1/2/4/6/7/8,1/2/5/6/7/8,1/3/4/5/6/8,1/3/4/5/7/8,1/3/4/6/7/8,1/3/5/6/7/8,1/4/5/6/7/8,2/3/4/5/6/8,2/3/4/5/7/8,2/3/4/6/7/8,2/3/5/6/7/8,2/4/5/6/7/8,3/4/5/6/7/8",a[8][7]="1/2/3/4/5/6/7,1/2/3/4/5/6/8,1/2/3/4/5/7/8,1/2/3/4/6/7/8,1/2/3/5/6/7/8,1/2/4/5/6/7/8,1/3/4/5/6/7/8,2/3/4/5/6/7/8",a[8][8]="1/2/3/4/5/6/7/8",a[9][9]="1/2/3/4/5/6/7/8/9",a[10][10]="1/2/3/4/5/6/7/8/9/10",a[11][11]="1/2/3/4/5/6/7/8/9/10/11",a[12][12]="1/2/3/4/5/6/7/8/9/10/11/12",a[13][13]="1/2/3/4/5/6/7/8/9/10/11/12/13",a[14][14]="1/2/3/4/5/6/7/8/9/10/11/12/13/14",a[15][15]="1/2/3/4/5/6/7/8/9/10/11/12/13/14/15",a},sportteryBonus.getVotetype=function(a){switch(a){case"1_1":return"1";case"2_1":return"2";case"2_3":return"1 2";case"3_1":return"3";case"3_3":return"2";case"3_4":return"2 3";case"3_7":return"1 2 3";case"4_1":return"4";case"4_2":return"2";case"4_4":return"3";case"4_5":return"3 4";case"4_6":return"2";case"4_11":return"2 3 4";case"4_15":return"1 2 3 4";case"5_1":return"5";case"5_2":return"2";case"5_5":return"4";case"5_6":return"4 5";case"5_10":return"2";case"5_16":return"3 4 5";case"5_20":return"2 3";case"5_26":return"2 3 4 5";case"5_31":return"1 2 3 4 5";case"6_1":return"6";case"6_2":return"2";case"6_6":return"5";case"6_7":return"5 6";case"6_15":return"2";case"6_20":return"3";case"6_22":return"4 5 6";case"6_35":return"2 3";case"6_42":return"3 4 5 6";case"6_50":return"2 3 4";case"6_57":return"2 3 4 5 6";case"6_63":return"1 2 3 4 5 6";case"7_1":return"7";case"7_7":return"6";case"7_8":return"6 7";case"7_21":return"5";case"7_35":return"4";case"7_120":return"2 3 4 5 6 7";case"8_1":return"8";case"8_8":return"7";case"8_9":return"7 8";case"8_28":return"6";case"8_56":return"5";case"8_70":return"4";case"8_247":return"2 3 4 5 6 7 8";case"9_1":return"9";case"10_1":return"10";case"11_1":return"11";case"12_1":return"12";case"13_1":return"13";case"14_1":return"14";case"15_1":return"15";default:return"0"}},sportteryBonus.ComputeCombineNum=function(){var a=1,b=1;if(y>x)return 0;for(var c=0;c<y;c++)a*=x-c,b*=c+1;return a/b},sportteryBonus.arrcl=function(a,b,c){function d(a,b,f){if(0===f||c&&e.length==c)return e[e.length]=a;for(var g=0,h=b.length-f;g<=h;g++)if(!c||e.length<c){var i=a.slice();i.push(b[g]),d(i,b.slice(g+1),f-1)}}var e=[];return d([],a,b),e},sportteryBonus.arral=function(a,b){function c(a,h){if(d||h>=a.length)g&&!1===b(f)?d=!0:(e.push(f.slice()),f.length=h-1);else{for(var i=a[h],j=0,k=i.length;j<k;j++)f.push(i[j]),c(a,h+1);h&&(f.length=h-1)}}var d,e=[],f=[],g="function"==typeof b;return c(a,0),e},sportteryBonus.zhuHeGetZuShu=function(a,b,c){for(var d=0,e=this.getVotetype(a),f=e.split(" "),g=0,h=b.length;g<h;g++)for(var i=b[g],j=0,k=f.length;j<k;j++)for(var l=f[j],m=this.bJBetWagerCount[c][l],n=m.split(","),o=0,p=n.length;o<p;o++){for(var q=n[o],r=q.split("/"),s=1,t=0,u=r.length;t<u;t++){var v=i[Number(r[t])-1].split("-");s*=Number(v[1])}d+=s}return d},sportteryBonus.myCalc=function(a,b,c,d,e){var f=a.split("_"),g=Number(f[0]),h=b.length+c.length,i=0;if(0==c.length){if(h>15&&this.ComputeCombineNum(b.length,g)>this.maxZS)return!1;for(var j=this.arrcl(b,g),k=0,l=j.length;k<l;k++){var m=this.arral(j[k]);i+=this.zhuHeGetZuShu(a,m,g)}}else for(var n=d;n<=e;n++){if(h>15&&this.ComputeCombineNum(c.length,n)>this.maxZS)return!1;var o=this.arrcl(c,n),p=g-n;if(b.length>0){if(!(p>=0))continue;if(h>15&&this.ComputeCombineNum(b.length,p)>this.maxZS)return!1;if(saZuHe=this.arrcl(b,p),o.length*saZuHe.length>this.maxZS)return!1;var q=[];for(var r in o)for(var s in saZuHe)q.push(o[r].concat(saZuHe[s]));o=q}for(var t=0,u=o.length;t<u;t++){var m=this.arral(o[t]);i+=this.zhuHeGetZuShu(a,m,g)}}return i},sportteryBonus.getMyCalc=function(a){a=a||{};for(var b=a.ggWay,c=a.sa,d=a.sb,e=a.minabs,f=a.maxabs,g=b.split(","),h=0,i=0,j=g.length;i<j;i++)if(g[i]){var k=this.myCalc(g[i],c,d,e,f);if(!1===k)return!1;h+=k}return h},sportteryBonus.getBetVal=function(a){if(a=-1*Number(a),1==Math.abs(a))var b=a>0?[1,0]:[1],c=a<0?[0,-1]:[-1];else var b=a>0?[1,0,-1]:[1],c=a<0?[1,0,-1]:[-1];return[[[0],[1-a],[1],[0,3],[0]],[[0],[2-a],[2],[0,3],[1]],[[0],[1-a],[3],[0,3,6],[2]],[[0],[3-a],[3],[0,3],[3]],[[0],[2-a],[4],[0,3,6],[4]],[[0],[1-a],[5],[0,3,6],[5]],[[0],[4-a],[4],[0,3],[6]],[[0],[3-a],[5],[0,3,6],[7]],[[0],[2-a],[6],[0,3,6],[8]],[[0],[5-a],[5],[0,3],[9]],[[0],[4-a],[6],[0,3,6],[10]],[[0],[3-a],[7],[0,3,6],[11]],[[0],b,[7],[0,3,6],[12]],[[1],[0-a],[0],[4],[13]],[[1],[0-a],[2],[1,4,7],[14]],[[1],[0-a],[4],[1,4,7],[15]],[[1],[0-a],[6],[1,4,7],[16]],[[1],[-1*a],[7],[1,4,7],[17]],[[2],[-1-a],[1],[5,8],[18]],[[2],[-2-a],[2],[5,8],[19]],[[2],[-1-a],[3],[2,5,8],[20]],[[2],[-3-a],[3],[5,8],[21]],[[2],[-2-a],[4],[2,5,8],[22]],[[2],[-1-a],[5],[2,5,8],[23]],[[2],[-4-a],[4],[5,8],[24]],[[2],[-3-a],[5],[2,5,8],[25]],[[2],[-2-a],[6],[2,5,8],[26]],[[2],[-5-a],[5],[5,8],[27]],[[2],[-4-a],[6],[2,5,8],[28]],[[2],[-3-a],[7],[2,5,8],[29]],[[2],c,[7],[2,5,8],[30]]]},sportteryBonus.empty=function(a){switch(typeof a){case"undefined":return!0;case"string":if(0==a.trim().length)return!0;break;case"boolean":if(!a)return!0;break;case"number":if(0===a)return!0;break;case"object":if(null===a)return!0;if(void 0!==a.length&&0==a.length)return!0;for(var b in a)return!1;return!0}return!1},sportteryBonus.setConfig=function(a){for(var b in a)this[b]=a[b]},sportteryBonus.onloadExecution=function(){this.createDomObj()},sportteryBonus.init=function(a){this.setDefConfig(),a&&this.setConfig(a),sportteryBonus.onloadExecution()},this.getBonusData=function(){return{zhushuVal:sportteryBonus.zhushuVal,bonusVal:(sportteryBonus.bonusVal*sportteryBonus.oneMoney).toFixed(2),moneyVal:sportteryBonus.moneyVal*sportteryBonus.oneMoney}};var sportteryFilterObj=new PageController({name:"sportteryFilter",tpl:"template/sporttery/sportteryFilter.html"});sportteryFilterObj.setDefConfig=function(){sportteryFilterObj.filterData={},sportteryFilterObj.ajaxStartTime=0,sportteryFilterObj.setTimeObj="",sportteryFilterObj.ajaxWaitTime=500,this.lotteryType="",this.lotteryNo="",this.type="",this.filterMatchList=[]},sportteryFilterObj.setData=function(a){this.lotteryType=a.lotteryType,this.lotteryNo=a.lotteryNo,this.type=a.type,this.getLeagueData()},sportteryFilterObj.getLeagueData=function(){var a=this,b={lotteryType:a.lotteryType,lottteryNo:a.lotteryNo},c={para:Global.encrypt(b)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Jczq.leagueList",data:c,dataType:"json",type:"post",success:function(b){if("0000"==b.code){b.leagueList=$.parseJSON(Global.crypt(b.leagueList));var c="";for(var d in b.leagueList)c+='<span data-t="filter" data-k="leagueId" data-v="'+d+'">'+b.leagueList[d].name+"</span>";a.leagueWrap.html(c)}}})},sportteryFilterObj.createDomObj=function(){this.leagueWrap=$("#sportteryFilter_leagueWrap"),this.filterObj=$("#sportteryFilter_filterObj"),this.filterSubObj=$("#sportteryFilter_filterSubObj")},sportteryFilterObj.createEvent=function(){this.filterObj.unbind("tap").tap(function(a){sportteryFilterObj.filterEvent(a)}),this.filterSubObj.unbind("tap").tap(function(){if(sportteryFilterObj.filterSubObj.hasClass("noresult"))return!1;sportteryFilterObj.goBetPage()})},sportteryFilterObj.goBetPage=function(){"2x1"==this.type?soccer2x1Obj.show("reload",function(){soccer2x1Obj.filterMatch(sportteryFilterObj.filterMatchList,sportteryFilterObj.lotteryNo)}):soccerMixObj.show("reload",function(){soccerMixObj.filterMatch(sportteryFilterObj.filterMatchList,sportteryFilterObj.lotteryNo)})},sportteryFilterObj.filterEvent=function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return this.goBack(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"filter":return this.createFilterData(c),this.getMatchNum(),!0}}},sportteryFilterObj.getUrl=function(){},sportteryFilterObj.createFilterData=function(a){var b=a.attr("data-K"),c=a.attr("data-v");if(a.hasClass("selected")){a.removeClass("selected");for(var d=[],e=this.filterData[b].split(","),f=0,g=e.length;f<g;f++)e[f]&&e[f]!=c&&d.push(e[f]);this.filterData[b]=d.join(",")}else{if("range"!=b&&"matchType"!=b&&"rq"!=b||(a.siblings().removeClass("selected"),this.filterData[b]=""),"matchType"==b&&"wdls"==c&&this.filterSet5Lang(),a.addClass("selected"),this.filterData[b])var h=this.filterData[b].split(",");else var h=[];h.push(c),this.filterData[b]=h.join(",")}"2x1"==this.type?this.filterData.subLotteryType="jz2x1":this.filterData.subLotteryType=""},sportteryFilterObj.filterSet5Lang=function(){var a=$("span[data-k='leagueId']");this.filterData.leagueId="";for(var b=0,c=a.length;b<c;b++){a.eq(b).removeClass("selected");a.eq(b).attr("data-r")&&this.createFilterData(a.eq(b))}},sportteryFilterObj.getMatchNum=function(){sportteryFilterObj.filterSubObj.html("加载数据中，请稍等。"),sportteryFilterObj.filterSubObj.removeClass("noresult");var a=(new Date).getTime();a-this.ajaxStartTime<this.ajaxWaitTime&&this.setTimeObj&&clearTimeout(this.setTimeObj),this.ajaxStartTime=a,this.setTimeObj=setTimeout(function(){sportteryFilterObj.getData()},this.ajaxWaitTime)},sportteryFilterObj.getData=function(){"2x1"==this.type?this.filterData.subLotteryType="jz2x1":this.filterData.subLotteryType="";var a={para:Global.encrypt(this.filterData)};$.ajax({url:ConfigObj.localSite+"?m=Lottery.Jczq.filter",data:a,dataType:"json",type:"post",success:function(a){if("0000"!==a.code)return $.alertMsg(a.str),!1;a.info=$.parseJSON(Global.crypt(a.info)),sportteryFilterObj.filterSubObj.html("有"+a.info.count+"场比赛符合条件"),0===Number(a.info.count)?sportteryFilterObj.filterSubObj.addClass("noresult"):sportteryFilterObj.filterSubObj.removeClass("noresult"),sportteryFilterObj.filterMatchList=a.info.matchList}})},sportteryFilterObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent(),this.getMatchNum()},sportteryFilterObj.init=function(){sportteryFilterObj.onloadExecution()};var localSiteObj=new PageController({name:"localSite",tpl:"template/station/localSite.html",initScrollTop:!1});localSiteObj.createEvent=function(a){$("#localSite_wrap").unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"DIV");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"info":localSiteObj.hrefInfo(c)}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"bind":return localSiteObj.checkBind(c),!0;case"nobind":return $("#localSite_bindTip").hide(),!0;case"tobind":return $("#localSite_bindTip").hide(),localSiteObj.bindSite(c),!0}}}),$("#localSite_searchObj").unbind("tap").tap(function(){localSiteObj.goSearchSite()}),$("#localSite_stationObj").unbind("tap").tap(function(){}),$("#localSite_reloadObj").unbind("tap").tap(function(){localSiteObj.goMap()}),$("#localSite_backObj").unbind("tap").tap(function(){localSiteObj.goBack()}),window.onscroll=function(){var a=document.body.scrollTop,b=$("#localSite_siteList").height();a+localSiteObj.clientHeight>b-localSiteObj.clientHeight/2&&"none"!=$("#localSite").css("display")&&localSiteObj.getSites()}},localSiteObj.dropload=function(){$("#localSite_droploadWrap").dropload({scrollArea:window,distance:localSiteObj.pullDistance,loadUpFn:function(a){localSiteObj.setDefConfig(),localSiteObj.createEvent(),setTimeout(function(){localSiteObj.getLocation()},50),localSiteObj.pullLoad=a}})},localSiteObj.bindSite=function(a){var b=a.attr("data-v");regByMobileObj.goBack=function(){regByMobileObj.destroy(),localSiteObj.show()},regByMobileObj.show(),setTimeout(function(){regByMobileObj.setSid(b)},500)},localSiteObj.checkBind=function(a){if(loginObj.isLogin){var b=a.attr("data-v");b==loginObj.userInfo.station_id?$.alertMsg("您已经绑定该站点"):$.alertMsg("请勿重复绑定站点")}else{var b=a.attr("data-v");$("#localSite_toBind").attr("data-v",b),$("#localSite_bindTip").show()}},localSiteObj.hrefInfo=function(a){var b=a.attr("data-i");this.goStationDetail(b)},localSiteObj.goSearchSite=function(){searchSiteObj.goBack=function(){searchSiteObj.destroy(),localSiteObj.show()},searchSiteObj.show()},localSiteObj.goMap=function(){if(0!=$("#localSite_siteList .sitelist").length){stationListMapObj.goBack=function(){stationListMapObj.destroy(),localSiteObj.show()};var a=[];$("#localSite_siteList .sitelist").each(function(b,c){var d=[];$(c).attr("data-lng")&&(d.push($(c).attr("data-lng")),d.push($(c).attr("data-lat")),a.push(d))}),stationListMapObj.show("reload",function(){stationListMapObj.setData(a,localSiteObj.posObj)})}},localSiteObj.goStationDetail=function(a){var b=this;stationDetailObj.goBack=function(){stationDetailObj.destroy(),b.show()},stationDetailObj.show("reload",function(){stationDetailObj.getData(a)})},localSiteObj.getSites=function(){return!this.checkAjaxPage&&(!!this.posObj.lat&&(this.checkAjaxPage=!0,this.posObj.page=this.page,this.posObj.pageSize=this.pageSize,this.posObj.city=this.city,this.posObj.address=this.address,this.fromPage,void $.ajax({url:ConfigObj.localSite+"?m=user.station.getnearstations",type:"post",data:localSiteObj.posObj,dataType:"json",success:function(a){"0000"==a.code?($("#localSite_reloadObj").show(),localSiteObj.formatList(a.info),localSiteObj.page+=1,a.info.list.length<localSiteObj.pageSize?localSiteObj.checkAjaxPage=!0:localSiteObj.checkAjaxPage=!1):(localSiteObj.checkAjaxPage=!0,$("#localSite_loading").remove(),localSiteObj.posObj.lat||"ios"==ConfigObj.platForm&&localSiteObj.getIosVer()>7&&($.alertMsg("请允许广东体彩云使用位置信息"),setTimeout(function(){},1500))),localSiteObj.pullLoad&&localSiteObj.pullLoad.resetload()},error:function(a){localSiteObj.checkAjaxPage=!1}})))},localSiteObj.getIosVer=function(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a=parseInt(a[1],10),Number(a)},localSiteObj.formatList=function(a){if(a.list){var b="";if(a.nowAdd&&0==this.page&&(b+='<div class="sitelist mb15" id="localSite_nowAdd"><div class="slf"><span class="nearby-site icon"></span><span class="line"></span></div><div class="srt"><p class="gray pt10">当前：'+a.nowAdd+" </p></div></div> "),a.list.length){for(var c=0;c<a.list.length;c++){var d=a.list[c];b+='<div class="sitelist" data-lng="'+d.loc[0]+'" data-lat="'+d.loc[1]+'"><div class="slf"><span class="dot"></span><span class="line"></span></div><div class="srt"><p class="fontblue mb10">'+(d.dis>1e3?(d.dis/1e3).toFixed(1):d.dis)+'<span class="font10">'+(d.dis>1e3?"km":"m")+'</span></p><div class="sbox"><span class="uparrow"></span><div class="sbox-new txt-elps" data-t="info" data-i="'+d.sid+'" ><p class="font14 mb10"><em class="icon site-name"></em>No.'+d.stationNo+'彩票站</p><p class="font12 gray"><em class="icon site-add"></em>'+d.address+'</p></div><span class="arrowbox"><a href="javascript:void(0)" data-t="bind" data-v="'+d.stationNo+'"><em class="bindicon icon"></em></a></span></div></div></div>'}0==this.page?$("#localSite_siteList").html(b):$("#localSite_siteList").append(b)}else if(0==this.page){$("#localSite_siteList").html('<div class="noact center"><p class="mb15"><span class="disbg dis1"></span></p><p class="font14 gray">暂时没有站点哦~</p></div>')}}},localSiteObj.getLocation=function(){ConfigObj.platForm,(new BMap.Geolocation).getCurrentPosition(function(a){this.getStatus()==BMAP_STATUS_SUCCESS?(localSiteObj.posObj={lat:a.point.lat,lng:a.point.lng},localSiteObj.getSites()):localSiteObj.posObj={lat:"",lng:""}},{enableHighAccuracy:!0})},localSiteObj.setData=function(a){this.city=a.city,this.address=a.address,this.fromPage=a.fromPage,$("#localSite_siteList").html("")},localSiteObj.setDefConfig=function(){this.city="",this.address="",this.page=0,this.pageSize=10,this.checkAjaxPage=!1,this.fromPage="",this.posObj={},this.clientHeight=document.documentElement.clientHeight,this.geolocation="",window.onscroll=null},localSiteObj.onloadExecution=function(){this.setDefConfig(),this.createEvent(),this.getLocation()},localSiteObj.init=function(){localSiteObj.onloadExecution()},localSiteObj.show=function(a,b){window.scrollTo(0,0);var c=Global.getActivePage();0==$("#localSite").length||a?$.ajax({url:"template/station/localSite.html",data:"t="+(new Date).getTime(),dataType:"text",success:function(a){var d=/<body[^>]*>([\s\S]+?)<\/body>/i,e=d.exec(a);e&&(e=e[1]);var f='<div class="page" style="display:none" id="localSite">'+e+"</div>";$(document.body).append(f),Global.pageSwitch($("#localSite"),$(c)),localSiteObj.setDefConfig(),b&&b(),localSiteObj.createEvent(),localSiteObj.dropload(),localSiteObj.getLocation(),Global.fixIos10Flag=1}}):Global.pageSwitch($("#localSite"),$(c)),this.pv()},localSiteObj.dirShow=function(){$(function(){localSiteObj.show()})},localSiteObj.goBack=function(){this.popRoute()},localSiteObj.destroy=function(){this.setDefConfig(),$("#localSite").html("").remove(),this.routeArr=[]};var manageInfoObj=new PageController({name:"stationCode",tpl:"template/station/manageInfo.html"});manageInfoObj.createDom=function(){this.wrapObj=$("#manageInfo_wrapperObj")},manageInfoObj.createEvent=function(){this.wrapObj.on("tap",function(a){var b=$.oto_checkEvent(a,"P");if(b)switch(b=$(b),b.attr("data-t")){case"back":manageInfoObj.goBack()}var c=$.oto_checkEvent(a,"A");if(c)switch(c=$(c),c.attr("data-t")){case"submit":manageInfoObj.submit()}}),$(".manageInfo").each(function(){$(this).on("focus",function(a){a.target.readOnly||(a.target.parentNode.style.borderColor="#30a1f7")}).on("blur",function(a){console.dir(a.target),a.target.parentNode.style.borderColor="transparent"})})},manageInfoObj.getData=function(){var a=ConfigObj.localSite+"?m=user.station.getCustomerInfo";$.post(a,{access_token:loginObj.access_token},function(a){"0000"==a.code?(manageInfoObj.info=a.info,manageInfoObj.setInfoVal(a.info)):$.alertMsg(a.msg)},"json")},manageInfoObj.setInfoVal=function(a){this.wrapObj.find(".manageInfo").each(function(b,c){c=$(c),c.val(a[c.attr("name")])})},manageInfoObj.submit=function(){var a={};this.wrapObj.find(".manageInfo").each(function(b,c){c=$(c),a[c.attr("name")]=c.val()});var b=a.qq,c=a.wx;if(b==manageInfoObj.info.qq&&c==manageInfoObj.info.wx)return!0;$.post(ConfigObj.localSite+"?m=user.station.editInfo",{qq:b,wx:c,access_token:loginObj.access_token},function(a){"0000"==a.code?($.alertMsg(a.msg,!0),setTimeout(function(){serviceObj.show(!0,function(){serviceObj.getData(loginObj.userInfo.s_id)})},2e3)):$.alertMsg(a.msg)},"json")},manageInfoObj.onloadExecution=function(){this.createDom(),this.createEvent(),this.getData()},manageInfoObj.init=function(){this.onloadExecution()},manageInfoObj.setData=function(a){};var qupiaoPwdObj=new PageController({name:"qupiaoPwd",tpl:"template/station/qupiaoPwd.html"});qupiaoPwdObj.setData=function(a){var b=this;this.idArr=a.slice();var c={tid:a.join(","),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.ticketOrder.index",type:"POST",data:c,dataType:"json",success:function(a){if("0000"==a.code){b.stepCon.get(0).className="pwdjdt step"+a.info.step_status;var c="N"==a.info.is_get?'<span style="color:gray">'+a.info.ticketpwd+"</span>":a.info.ticketpwd;b.pwdCon.html(c),b.formatHtmlA(a.info),b.formatHtmlB(a.info)}else $.alertMsg(a.code_str)}})},qupiaoPwdObj.formatHtmlA=function(a){var b='<p class="clearfix"><span class="fl font16">\x3c!-- obj.get_statuscn  --\x3e</span><span class="fr">已打'+a.got_num+'/<em class="gray">'+a.total_num+'张</em></span></p><p class="jdtwrap"><span class="jdt" style="width:'+a.printing_rate+'%;"></span></p>';this.wrapA.html(b)},qupiaoPwdObj.formatHtmlB=function(a){var b='<div class="orderbox"  data-id="'+a.lottery_id+'"><h3 class="mb10 clearfix" data-t="detail" data-v="'+a.lottery_id+'"><span class="fl">'+a.lottery_cn+'</span><span class="fr font12"><em>'+a.prize_status+'</em><em class="rtarrow icon"></em></span></h3><p class="font12 mb10 clearfix"><span class="fl fontred">￥'+a.amount+'</span><span class="fr gray">'+a.lottery_no+'</span></p><p class="font12 gray clearfix"><span class="fl">'+a.addTime+"</span>";"on"==a.get_status||"not"==a.get_status?b+=' <span class="fr"><a href="javascript:void(0);" class="fontblue" data-t="cancel" data-v="'+a.lottery_id+'">撤销取票</a></span>':"yes"==a.get_status?b+='<span class="fr">已完成</span>':b+='<span class="fr">已过期</span>',b+="</p></div>",this.wrapB.html(b)},qupiaoPwdObj.createDomObj=function(){this.wrapObj=$("#qupiaoPwd_wrap"),this.pwdBtn=$("#qupiaoPwd_pwdBtn"),this.newPwdBtn=$("#qupiaoPwd_newPwdBtn"),this.pwdCon=$("#qupiaoPwd_pwdCon"),this.backBtn=$("#qupiaoPwd_backbtn"),this.helpBtn=$("#qupiaoPwd_helpbtn"),this.stepCon=$("#qupiaoPwd_step"),this.wrapA=$("#qupiaoPwd_wrapA"),this.wrapB=$("#qupiaoPwd_wrapB")},qupiaoPwdObj.createEvent=function(){this.backBtn.unbind("tap").tap(function(){qupiaoPwdObj.goBack()}),this.helpBtn.unbind("tap").tap(function(){qupiaoPwdObj.goQupiaoHelp()}),this.wrapObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"H3");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"detail":return qupiaoPwdObj.goProjectDetail(c.attr("data-v")),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"cancel":return qupiaoPwdObj.cancelTicket(c.attr("data-v")),!0}}})},qupiaoPwdObj.goProjectDetail=function(a){projectDetailObj.show("reload",function(){projectDetailObj.getData(a),projectDetailObj.pushRoute(function(){qupiaoPwdObj.show()})})},qupiaoPwdObj.goQupiaoHelp=function(){helpDetailObj.goBack=function(){helpDetailObj.destroy(),qupiaoPwdObj.show()},helpDetailObj.show("reload",function(){helpDetailObj.setData("qupiao")})},qupiaoPwdObj.cancelTicket=function(a){var b={lottery_id:a,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.cancelTicketSelfGet",type:"post",data:b,dataType:"json",success:function(a){"0000"==a.code?($.alertMsg("撤销成功",!0),setTimeout(function(){qupiaoPwdObj.goBack()},1e3)):$.alertMsg(a.code_str)}})},qupiaoPwdObj.getPwdFun=function(){},qupiaoPwdObj.getRandomPwd=function(){for(var a=[],b=0;b<5;b++){var c=Math.floor(9*Math.random());a.push(c)}return a.join("")},qupiaoPwdObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent()},qupiaoPwdObj.init=function(){qupiaoPwdObj.onloadExecution()},qupiaoPwdObj.setDefConfig=function(){qupiaoPwdObj.idArr=[],qupiaoPwdObj.flag=!1,qupiaoPwdObj.pwd=""};var qupiaoSetObj=new PageController({name:"qupiaoSet",tpl:"template/station/qupiaoSet.html"});qupiaoSetObj.createDomObj=function(){this.progressCon=$("#qupiaoSet_progressCon"),this.progressEnd=$("#qupiaoSet_progressEnd"),this.qupiaoSetBtn=$("#qupiaoSet_qupiaoBtn"),this.refreshBtn=$("#qupiaoSet_refreshBtn"),this.confirmBtn=$("#qupiaoSet_confirmBtn"),this.cancelBtn=$("#qupiaoSet_cancelBtn"),this.confirmLayer=$("#qupiaoSet_confirmLayer"),this.successLayer=$("#qupiaoSet_successLayer"),this.failLayer=$("#qupiaoSet_failLayer"),this.topTit=$("#qupiaoSet_topTit")},qupiaoSetObj.createEvent=function(){this.refreshBtn.unbind("tap").tap(function(){
qupiaoSetObj.delayRefresh()}),this.qupiaoSetBtn.unbind("tap").tap(function(){qupiaoSetObj.checkQupiao()}),this.cancelBtn.unbind("tap").tap(function(){qupiaoSetObj.hideConfirmLayer()}),this.confirmBtn.unbind("tap").tap(function(){qupiaoSetObj.checkReal()}),$("#qupiaoSet p[data-t=backbtn]").unbind("tap").tap(function(){qupiaoSetObj.goBack()}),$("#qupiaoSet a[data-t=jsGoHome]").unbind("tap").tap(function(){qupiaoSetObj.goHome()}),$("#qupiaoSet a[data-t=jsGoRecord]").unbind("tap").tap(function(){qupiaoSetObj.goRecord()}),$("#qupiaoSet a[data-t=jsGoProjectDetail]").unbind("tap").tap(function(){"plan"==qupiaoSetObj.product_type?qupiaoSetObj.goPlanDetail():qupiaoSetObj.goProjectDetail()})},qupiaoSetObj.delayRefresh=function(){this.count=0,this.refreshBtn.hide(),this.needStop=!1,this.updateStatus("process"),this.updateProgress({time:0}),setTimeout(function(){qupiaoSetObj.getTicketStatus()},5e3)},qupiaoSetObj.goRecord=function(){Global.GC(),betRecordObj.goBack=function(){"ios"==ConfigObj.from?(ConfigObj.from="",location.href=ConfigObj.iosAppSite+"?pageName=home"):(betRecordObj.destroy(),homeObj.show())},betRecordObj.show("reload")},qupiaoSetObj.goHome=function(){"ios"==ConfigObj.from?(ConfigObj.from="",location.href=ConfigObj.iosAppSite+"?pageName=home"):(Global.GC(),homeObj.show())},qupiaoSetObj.goPlanDetail=function(){var a=qupiaoSetObj.product_id,b=qupiaoSetObj.lotteryTypeCn;Global.GC(),planDetailObj.goBack=function(){Global.backLottery(b)},planDetailObj.show("reload",function(){planDetailObj.getData(a)})},qupiaoSetObj.goProjectDetail=function(){var a=qupiaoSetObj.product_id,b=qupiaoSetObj.lotteryTypeCn;Global.GC(),projectDetailObj.show("reload",function(){projectDetailObj.getData(a),projectDetailObj.pushRoute(function(){Global.backLottery(b)})})},qupiaoSetObj.startTimer=function(){qupiaoSetObj.getTicketStatus("first"),qupiaoSetObj.count=0,qupiaoSetObj.ticket_timer=setInterval(function(){qupiaoSetObj.getTicketStatus()},6e3),qupiaoSetObj.updateProgress({time:0})},qupiaoSetObj.getTicketStatus=function(a){var b=this;b.count=b.count+1;var c={pay_id:b.pay_id};$.ajax({url:ConfigObj.localSite+"?m=cashier.watch.buyStatus",type:"post",data:c,dataType:"json",success:function(c){"0000"==c.code?"not"==c.info.print_status?("first"==a&&(b.startPoint=0,b.endPoint=100,b.totalTime=0),b.updateStatus("process")):"yes"==c.info.print_status?(b.updateStatus("success"),b.stopProgress()):"fail"==c.info.print_status?(b.updateStatus("fail"),b.stopProgress()):"suc_part"==c.info.print_status?(b.updateStatus("suc_part"),b.stopProgress()):"delay"==c.info.print_status&&(b.updateStatus("delay"),b.stopProgress()):($.alertMsg(c.code_str),qupiaoSetObj.updateStatus("fail"))}})},qupiaoSetObj.updateProgress=function(a){if(!this.needStop){qupiaoSetObj.progress||(qupiaoSetObj.progress=new CircularProgress({radius:60,lineWidth:10,strokeStyle:"#30a1f7"}),qupiaoSetObj.progressCon.get(0).appendChild(qupiaoSetObj.progress.el));var b=qupiaoSetObj.totalTime-parseInt(a.time);qupiaoSetObj.endPoint=0==qupiaoSetObj.totalTime?100:Math.floor(b/qupiaoSetObj.totalTime*100),qupiaoSetObj.progress.run(qupiaoSetObj.startPoint,qupiaoSetObj.endPoint,function(){qupiaoSetObj.startPoint=qupiaoSetObj.endPoint,100==qupiaoSetObj.endPoint&&(qupiaoSetObj.progressCon.find("canvas").remove(),qupiaoSetObj.progress=null,qupiaoSetObj.startPoint=0,qupiaoSetObj.updateProgress({time:0}))})}},qupiaoSetObj.stopProgress=function(){qupiaoSetObj.progressCon.find("canvas").remove(),qupiaoSetObj.progress=null,qupiaoSetObj.startPoint=0,this.needStop=!0},qupiaoSetObj.updateStatus=function(a){if("success"==a)this.progressCon.hide(),this.failLayer.hide(),this.progressEnd.show(),this.progressEnd.find(".state2").html('<span class="succeed statebg">出票完成</span>'),qupiaoSetObj.ticket_timer&&(clearInterval(qupiaoSetObj.ticket_timer),qupiaoSetObj.ticket_timer="");else if("suc_part"==a)this.progressCon.hide(),this.failLayer.hide(),this.progressEnd.show(),this.progressEnd.find(".state2").html('<span class="suc_part statebg">部分成功</span>'),qupiaoSetObj.ticket_timer&&(clearInterval(qupiaoSetObj.ticket_timer),qupiaoSetObj.ticket_timer="");else if("fail"==a)this.progressCon.hide(),this.progressEnd.hide(),this.successLayer.hide(),this.qupiaoSetBtn.hide(),this.failLayer.show(),qupiaoSetObj.ticket_timer&&(clearInterval(qupiaoSetObj.ticket_timer),qupiaoSetObj.ticket_timer="");else if("process"==a){this.failLayer.hide(),this.progressEnd.hide(),this.progressCon.show();var b='<p class="state1 pt35"><span>正在出票</span></p></div>';this.progressCon.find(".inner").html(b)}else if("delay"==a){this.failLayer.hide(),this.progressEnd.hide(),this.progressCon.show();var b='<p class="state1 pt35"><span>出票延迟</span></p></div>';this.progressCon.find(".inner").html(b),this.qupiaoSetBtn.hide(),this.refreshBtn.show(),qupiaoSetObj.ticket_timer&&(clearInterval(qupiaoSetObj.ticket_timer),qupiaoSetObj.ticket_timer="")}},qupiaoSetObj.checkQupiao=function(){qupiaoSetObj.showConfirmLayer()},qupiaoSetObj.checkReal=function(){var a=this;loginObj.userInfo&&"Y"==loginObj.userInfo.is_real?a.qupiaoFun():($.alertMsg("请先完成实名"),regRealNameObj.goBack=function(){regRealNameObj.destroy(),a.show()},regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"buy"};regRealNameObj.setData(a)}))},qupiaoSetObj.qupiaoFun=function(){var a={product_id:this.product_id,access_token:loginObj.access_token};if("plan"==this.product_type)var b=ConfigObj.localSite+"?m=user.account.setPlanTicketSelfGet";else var b=ConfigObj.localSite+"?m=user.account.setTicketSelfGet";$.ajax({url:b,type:"post",data:a,dataType:"json",success:function(a){"0000"==a.code?(qupiaoSetObj.hideConfirmLayer(),qupiaoSetObj.qupiaoSetBtn.hide(),qupiaoSetObj.formatSuccessLayer(a.info)):(qupiaoSetObj.hideConfirmLayer(),$.alertMsg(a.code_str))}})},qupiaoSetObj.formatSuccessLayer=function(a){if(a){var b='<p class="center mb10 font16">请于60日内完成取票</p><div class="site_info"><div class="site_box"><div class="boxlf"><p class="clearfix"><span class="fl font16 mb10">'+a.station_username+"   "+(a.station_mobile?a.station_mobile:"")+'</span><span class="fr gray font12">No.'+a.station_id+'</span></p><p class="gray font12">'+a.station_address+'</p></div><div class="boxrt"><span class="infon_arrow"></span><span class="white_bg"></span></div></div></div>';this.successLayer.html(b).show()}},qupiaoSetObj.formatFailLayer=function(a){this.failLayer.show(),this.failLayer.html(a)},qupiaoSetObj.showConfirmLayer=function(){this.confirmLayer.show()},qupiaoSetObj.hideConfirmLayer=function(){this.confirmLayer.hide()},qupiaoSetObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},qupiaoSetObj.init=function(){qupiaoSetObj.setDefConfig(),qupiaoSetObj.onloadExecution()},qupiaoSetObj.setData=function(a){this.pay_id=a.pay_id,this.product_id=a.product_id,this.product_type=a.product_type,this.lotteryType=a.lotteryType,this.lotteryTypeCn=a.lotteryTypeCn?a.lotteryTypeCn:"",$("#qupiaoSet_topTit").html(qupiaoSetObj.lotteryTypeCn),"plan"==this.product_type?(this.updateStatus("success"),this.progressEnd.find(".state2").html('<span class="succeed statebg">付款完成</span>')):this.startTimer()},qupiaoSetObj.setDefConfig=function(){this.pay_id="",this.product_id="",this.product_type="",this.startPoint=0,this.totalTime=0,this.endPoint=100,this.progress="",this.lotteryType="",this.count=0,this.needStop=!1,qupiaoSetObj.ticket_timer&&(clearInterval(qupiaoSetObj.ticket_timer),qupiaoSetObj.ticket_timer="")};var searchSiteObj=new PageController({name:"searchSite",tpl:"template/station/searchSite.html"});searchSiteObj.getSites=function(){var a={city:$("#searchSite_searchCityList_dummy").val(),address:$("#searchSite_searchAddress").val(),fromPage:"searchSite"};localSiteObj.show("reload",function(){localSiteObj.setData(a),localSiteObj.pushRoute(function(){searchSiteObj.show()})})},searchSiteObj.getData=function(){$.ajax({url:ConfigObj.localSite+"?m=user.station.searchStation",type:"post",data:"",dataType:"json",success:function(a){"0000"==a.code?searchSiteObj.formatHtml(a.info):$.alertMsg(a.code_str)}})},searchSiteObj.formatHtml=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];b+=' <option value="'+d+'">'+d+"</option>"}$("#searchSite_searchCityList").html(b),$("#searchSite_searchCityList").mobiscroll().select({theme:"mobiscroll",lang:"zh",display:"bottom",fixedWidth:[100,170]})},searchSiteObj.onloadExecution=function(){$("#searchSite_searchBtn").unbind("tap").tap(function(){searchSiteObj.getSites()}),$("#searchSite_cityTit").unbind("tap").tap(function(){$("#searchSite_searchCityList").mobiscroll("show")}),$("#searchSite_searchAddress").unbind("focus").focus(function(){$(this).parent().addClass("focus")}),$("#searchSite_searchAddress").unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),$("#searchSite_backObj").unbind("tap").tap(function(){searchSiteObj.goBack()}),$("#searchSite_stationObj").unbind("tap").tap(function(){localSiteObj.pushRoute(function(){searchSiteObj.show()}),localSiteObj.show("reload")})},searchSiteObj.init=function(){searchSiteObj.onloadExecution(),searchSiteObj.getData()};var signProtocalObj=new PageController({name:"stationCode",tpl:"template/station/signProtocol.html"});signProtocalObj.createDom=function(){this.wrapObj=$("#signProtocol_wrapperObj")},signProtocalObj.createEvent=function(){this.wrapObj.on("tap",function(a){var b=$.oto_checkEvent(a,"P");if(b){b=$(b);var c=b.attr("data-t");switch(c){case"back":signProtocalObj.goBack()}}var d=$.oto_checkEvent(a,"A");if(d)switch(d=$(d),c=d.attr("data-t")){case"sign":signProtocalObj.sign(a.target)}})},signProtocalObj.sign=function(a){Global.tips({text:"确认开通代理吗？",confirm:function(){a=$(a),a.addClass("gray"),$.post(ConfigObj.localSite+"?m=user.station.signProtocol",{sign:"Y",access_token:loginObj.access_token},function(b){a.removeClass("gray"),"0000"==b.code?($.alertMsg("开通成功",!0),setTimeout(function(){serviceObj.goBack=function(){serviceObj.destroy(),Global.delCache("?m=user.account.center"),userCenterObj.show(!0)},serviceObj.show(!0,function(){serviceObj.getData(loginObj.userInfo.s_id)})},2e3)):($.alertMsg(b.msg),"-2205"==b.code&&setTimeout(function(){userCenterObj.show(!0)},2e3))},"json")}})},signProtocalObj.onloadExecution=function(){this.createDom(),this.createEvent()},signProtocalObj.init=function(){this.onloadExecution()},signProtocalObj.setData=function(a){};var stationCodeObj=new PageController({name:"stationCode",tpl:"template/station/stationCode.html"});stationCodeObj.createDom=function(){this.backObj=$("#stationCode_backbtn")},stationCodeObj.createEvent=function(){this.backObj.tap(function(){stationCodeObj.goBack()}),$("#stationCode_share").tap(function(){Global.socialShare({domId:"stationCode"})})},stationCodeObj.onloadExecution=function(){this.createDom(),this.createEvent()},stationCodeObj.init=function(){stationCodeObj.onloadExecution()},stationCodeObj.setData=function(a){$("#stationCode_img").attr("src",a.image)};var stationDetailObj=new PageController({name:"stationDetail",tpl:"template/station/stationDetail.html"});stationDetailObj.createDom=function(){this.headObj=$("#stationDetail_header"),this.backObj=$("#stationDetail_backbtn")},stationDetailObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){stationDetailObj.goBack()}),$("#stationDetail_wrap").unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"A");if(b){switch($(b).attr("data-t")){case"clearTelTip":return $("#stationDetail_telTip").hide(),!0}}}),$("#stationDetail_bind").unbind("tap").tap(function(){if(loginObj.isLogin){var a=$(this).attr("data-sid");a==loginObj.userInfo.station_id?$.alertMsg("您已经绑定该站点"):$.alertMsg("请勿重复绑定站点")}else{var a=$(this).attr("data-sid");regByMobileObj.goBack=function(){Global.GC(),homeObj.show()},regByMobileObj.show(),setTimeout(function(){regByMobileObj.setSid(a)},500)}}),$("#stationDetail_phone,#stationDetail_phone2").unbind("tap").tap(function(){$("#stationDetail_telTip").show()}),$("#stationDetail_im").unbind("tap").tap(function(){stationDetailObj.goIm()}),$("#stationDetail_location").unbind("tap").tap(function(){stationInfoObj.goBack=function(){stationInfoObj.destroy(),stationDetailObj.show()},stationInfoObj.show("reload",function(){stationInfoObj.getData(stationDetailObj.sid)})}),$("#stationDetail_share").unbind("tap").tap(function(){var a={domId:"stationDetail",title:stationDetailObj.shareTitle,content:stationDetailObj.shareContent};Global.socialShare(a)}),$("#stationDetail_codeImg").unbind("tap").tap(function(){stationCodeObj.goBack=function(){stationCodeObj.destroy(),stationDetailObj.show()},stationCodeObj.show("reload",function(){stationCodeObj.setData({image:stationDetailObj.codeUrl,id:stationDetailObj.sid})})}),$("#stationDetail_order").unbind("tap").tap(function(){memberBetRecordObj.goBack=function(){memberBetRecordObj.destroy(),stationDetailObj.show()},memberBetRecordObj.show()}),$("#stationDetail_manage").unbind("tap").tap(function(){if("wait"==stationDetailObj.noEdit)return $.alertMsg("您上次提交的资料尚在审核中"),!1;modifyStationInfoObj.goBack=function(){modifyStationInfoObj.destroy();var a=stationDetailObj.sid;stationDetailObj.show("reload",function(){stationDetailObj.getData(a)})},modifyStationInfoObj.show("reload",function(){modifyStationInfoObj.getData(stationDetailObj.info.station_id)})})},stationDetailObj.formatHtml=function(a){$("#stationDetail_toTel").attr("href","tel:"+a.phone),$("#stationDetail_telNum").html(a.phone),$("#stationDetail_id").html(a.station_id),$("#stationDetail_status").html(a.work_status_cn),$("#stationDetail_time").html(a.open_time+"-"+a.rest_time),$("#stationDetail_address").html(a.address),$("#stationDetail_bind").attr("data-sid",a.station_id),a.describe&&$("#stationDetail_desc").html(a.describe),a.code_url&&$("#stationDetail_codeImg").html('<img src="'+a.code_url+'" />'),this.codeUrl=a.code_url,loginObj.isLogin&&"Station"==loginObj.userInfo.user_type&&loginObj.userInfo.station_id==a.station_id?($("#stationDetail_part1").hide(),$("#stationDetail_part3").show(),$("#stationDetail_todayBet").html(a.tostationCount),$("#stationDetail_manage").show()):($("#stationDetail_part1").show(),$("#stationDetail_part3").hide(),$("#stationDetail_manage").hide()),a.image&&a.image.length>0&&(this.shareImg=a.image[0]),this.shareContent="NO."+a.station_id+"彩票站为您的购彩提供服务",this.shareTitle="广东体彩云，为您找到身边的投注站",this.shareUrl=a.share_url,this.noEdit=a.audit_status},stationDetailObj.createBanner=function(a){for(var b="",c=0;c<a.length;c++)b+='<li><a href="javascript:void(0)"><img src="'+a[c]+'"></a></li>';$("#stationDetail_bannerObj").find("ul").html(b),$("#stationDetail_total").html(a.length),$("#stationDetail_nowNumObj").html("1"),$("#stationDetail_bannerObj").height(170).swipeSlide({continuousScroll:!0,speed:6e3,lazyLoad:!0,endCallBack:function(a){$("#stationDetail_nowNumObj").html(a+1)},callback:function(a){$("#stationDetail_nowNumObj").html(a+1)}}),$("#stationDetail_bannerObj").find("img").css({height:170})},stationDetailObj.goIm=function(){loginObj.isLogin?"android"==ConfigObj.platForm?"undefined"!=typeof android_obj&&this.info&&this.info.chatUserInfo:"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&this.info&&this.info.chatUserInfo&&ios_obj.intentConversationDetail(this.info.chatUserInfo.userId,this.info.chatUserInfo.name):(loginObj.goBack=function(){stationDetailObj.show()},loginObj.goForward=function(){stationDetailObj.show("",function(){stationDetailObj.getData(stationDetailObj.sid)})},loginObj.show())},stationDetailObj.onloadExecution=function(){this.createDom(),this.createEvent()},stationDetailObj.init=function(){this.setDefConfig(),stationDetailObj.onloadExecution()},stationDetailObj.createBonus=function(a){var b="";if(!a.length)return void $("#stationDetail_bonus").hide();for(var c=0;c<a.length;c++){var d=a[c],e="";d.statusText;e=2==d.status?"got":1==d.status&&d.getBonusStatus&&"not"!=d.getBonusStatus?"got":"plat"==d.bonusScene?"cps-s2":"cps-s1",b+='<li class="c-item cps '+e+'" data-v="'+d.bagRuleId+'"><a href="javascript:void(0)"><p class="cps-txt center font12">'+d.ruleTitle+'<br><span class="font16">'+d.singleBagmoney+'</span>元</p></a><span class="cps-rt font12">'+d.statusText+"</span></li>"}var f=120*a.length;$("#stationDetail_bonus").find("ul").html(b).css({width:f}),$("#stationDetail_bonus").find("li").tap(function(){var a=$(this).attr("data-v");redBagObj.show("",function(){redBagObj.getData(a),redBagObj.pushRoute(function(){stationDetailObj.getData(stationDetailObj.sid)})})})},stationDetailObj.getData=function(a){var b=this;b.sid=a,$.ajax({url:ConfigObj.localSite+"?m=user.station.index",data:{sid:a,access_token:loginObj.access_token},dataType:"json",type:"post",success:function(a){"0000"==a.code?(b.formatHtml(a.info),a.info.image&&a.info.image.length>0&&b.createBanner(a.info.image),b.createBonus(a.info.bonus_list),b.info=a.info):$.alertMsg(a.code_str)}})},stationDetailObj.setDefConfig=function(){this.sid="",this.info="",this.shareImg="",this.shareTitle="",this.shareConent="",this.shareUrl="",this.noEdit=""},stationDetailObj.dirShow=function(a){var b=this;b.show("reload",function(){b.getData(a.sid)})};var stationInfoObj=new PageController({name:"stationInfo",tpl:"template/station/stationInfo.html"});stationInfoObj.createDom=function(){this.mapObj=$("#stationInfo_mapObj"),this.headObj=$("#stationInfo_header"),this.nameObj=$("#stationInfo_nameObj"),this.idObj=$("#stationInfo_idObj"),this.addressObj=$("#stationInfo_addressObj"),this.backObj=$("#stationInfo_backbtn"),this.nameObj.html("电话 "+(this.phone?this.phone:"")),this.idObj.html("No."+(this.id?this.id:"")),this.addressObj.html("地址 "+(this.address?this.address:""))},stationInfoObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){stationInfoObj.goBack()})},stationInfoObj.createMapDivHeight=function(){if(this.mapX){var a=$("body").height(),b=this.headObj.height();this.mapObj.height(a-b)}},stationInfoObj.createMap=function(){if(this.mapX){var a=new BMap.Map("stationInfo_mapObj"),b=new BMap.Point(this.mapX,this.mapY),c=new BMap.Marker(b);a.addOverlay(c),a.centerAndZoom(b,this.mapZ)}},stationInfoObj.onloadExecution=function(){this.createDom(),this.createMapDivHeight(),this.createMap(),this.createEvent()},stationInfoObj.init=function(){stationInfoObj.onloadExecution()},stationInfoObj.setData=function(a){this.mapX=a.mapX,this.mapY=a.mapY,this.mapZ=a.mapZ?a.mapZ:16,this.id=a.id,this.phone=a.phone,this.address=a.address},stationInfoObj.getData=function(a){var b=this;$.ajax({url:ConfigObj.localSite+"?m=user.station.getStationInfo",data:{id:a,access_token:loginObj.access_token},dataType:"json",type:"post",success:function(a){"0000"==a.code?(b.mapX=a.info.longitude,b.mapY=a.info.latitude,b.mapZ=16,b.phone=a.info.phone,b.id=a.info.station_id,b.address=a.info.address,setTimeout(function(){b.init()},1e3)):$.alertMsg(a.code_str)}})},stationInfoObj.setDefConfig=function(){this.mapX="",this.mapY="",this.mapZ=16,this.id="",this.phone="",this.address=""};var stationListMapObj=new PageController({name:"stationListMap",tpl:"template/station/stationListMap.html"});stationListMapObj.createDom=function(){this.mapObj=$("#stationListMap_mapObj"),this.headObj=$("#stationListMap_header"),this.backObj=$("#stationListMap_backbtn")},stationListMapObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){stationListMapObj.goBack()})},stationListMapObj.createMapDivHeight=function(){var a=$("body").height(),b=this.headObj.height();this.mapObj.height(a-b+20)},stationListMapObj.createMap=function(){if(this.mapX){var a=new BMap.Map("stationListMap_mapObj"),b=new BMap.Point(this.mapX,this.mapY),c=new BMap.Marker(b);a.addOverlay(c),a.centerAndZoom(b,this.mapZ)}},stationListMapObj.onloadExecution=function(){this.createDom(),this.createMapDivHeight(),this.createEvent()},stationListMapObj.init=function(){stationListMapObj.onloadExecution()},stationListMapObj.setData=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=new BMap.Point(Number(a[d][0]),Number(a[d][1]));e&&d<10&&c.push(e)}var f="";f=b?new BMap.Point(b.lng,b.lat):c[0];var g=new BMap.Map("stationListMap_mapObj");g.centerAndZoom(f,13),translateCallback=function(a){if(0===a.status){for(var b=0;b<a.points.length;b++)0!=b&&g.addOverlay(new BMap.Marker(a.points[b]));var c=new BMap.Marker(f,{icon:new BMap.Icon("images/marker_red_sprite.png",new BMap.Size(39,25))});g.addOverlay(c),g.setCenter(f)}},setTimeout(function(){(new BMap.Convertor).translate(c,1,5,translateCallback)},1e3)},stationListMapObj.setDefConfig=function(){};var accountObj=new PageController({name:"account",tpl:"template/user/account.html"});accountObj.createDomObj=function(){this.backObj=$("#account_backbtn")},accountObj.createEvent=function(){$("#account_wrapperObj").unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"LI");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"money":return accountObj.goCashRecord(),!0;case"redbag":return accountObj.goBonusRecord(),!0;case"score":return accountObj.goScoreRecord(),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"recharge":return accountObj.goRecharge(),!0;case"withdraw":return accountObj.goWithDraw(),!0;case"clearAuthTips":return $("#account_authTipsObj").hide(),!0;case"toAuthTips":return accountObj.checkReal(),!0}}}),$("#account_back").unbind("tap").tap(function(){accountObj.goBack()}),$("#account_freezeWrap").unbind("tap").tap(function(){accountObj.goFreezeRecord()})},accountObj.goFreezeRecord=function(){freezeRecordObj.goBack=function(){freezeRecordObj.destroy(),accountObj.show()},freezeRecordObj.show()},accountObj.goCashRecord=function(){cashRecordObj.goBack=function(){cashRecordObj.destroy(),accountObj.show()},cashRecordObj.show()},accountObj.goBonusRecord=function(){bonusRecordObj.goBack=function(){bonusRecordObj.destroy(),accountObj.show()},bonusRecordObj.show()},accountObj.goScoreRecord=function(){scoreRecordObj.goBack=function(){scoreRecordObj.destroy(),accountObj.show()},scoreRecordObj.show()},accountObj.goRecharge=function(){wechatpayWebObj.goBack=function(){wechatpayWebObj.destroy(),accountObj.show(!0)},wechatpayWebObj.dirShow({from:"account"})},accountObj.goWithDraw=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;if(loginObj.userInfo){var a=loginObj.userInfo.real_status;"Y"===a?(withDrawObj.goBack=function(){withDrawObj.destroy(),accountObj.show("reload")},withDrawObj.show(!0)):"Ing"===a?$.alertMsg("您的实名认证正在审核中"):"N"!==a&&"Fail"!==a||$("#userCenter_authTipsObj").show()}},accountObj.checkReal=function(){var a=this;$("#account_authTipsObj").hide(),regRealNameObj.goBack=function(){regRealNameObj.destroy(),a.show()},regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"buy"};regRealNameObj.setData(a)})},accountObj.setData=function(a){this.info=a,this.formatHtml(a)},accountObj.formatHtml=function(a){$("#account_total").html(a.cash.total),$("#account_freezecash").html(a.cash.freezing),$("#account_freezebonus").html(a.bonus.freezing),$("#account_money").html(a.cash.remain),$("#account_redbag").html(a.bonus.remain),$("#account_score").html(a.score.remain)},accountObj.getData=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.myAccount",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),accountObj.formatHtml(a.info)):$.alertMsg(a.code_str)}})},accountObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},accountObj.init=function(){accountObj.setDefConfig(),accountObj.onloadExecution()},accountObj.setDefConfig=function(){this.info=""},accountObj.dirShow=function(a){this.show(!0,function(){a=a||{};for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b],"back"===b&&(this.goBack=function(){Global.open(a.back)}))}.bind(this))};var alipayWapObj=new PageController({name:"alipayWap",tpl:"template/user/alipayWap.html"});alipayWapObj.createDomObj=function(){},alipayWapObj.createEvent=function(){},alipayWapObj.setData=function(a){var b="";b+="<div>11111</div>",$("#alipayWap_wrapObj").append(b)},alipayWapObj.setDefConfig=function(){this.form=""},alipayWapObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},alipayWapObj.init=function(){this.setDefConfig(),alipayWapObj.onloadExecution()};var bindBankObj=new PageController({name:"bindBank",tpl:"template/user/bindBank.html"});bindBankObj.createDomObj=function(){this.bankLIistObj=$("#bindBank_bankLIistObj"),this.bankAddressObj=$("#bindBank_bankAddressObj"),this.bankCardNumObj=$("#bindBank_bankCardNumObj"),this.bankCardPwdObj=$("#bindBank_bankCardPwdObj"),this.submitObj=$("#bindBank_submitObj"),this.backObj=$("#bindBank_backObj"),this.shwoBankListObj=$("#bindBank_shwoBankListObj"),this.cardWrap=$("#bindBank_cardWrap"),this.cityPickerCtrl=$("#cityPickerCtrl")},bindBankObj.createEvent=function(){this.bankAddressObj.add(this.bankCardNumObj).add(this.bankCardPwdObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.bankAddressObj.add(this.bankCardNumObj).add(this.bankCardPwdObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.submitObj.unbind("tap").tap(function(){bindBankObj.submitData()}),this.backObj.unbind("tap").tap(function(){bindBankObj.goBack()}),this.shwoBankListObj.unbind("tap").tap(function(){setTimeout(function(){bindBankObj.bankLIistObj.focus(),bindBankObj.bankLIistObj.attr("autofocus","autofocus")},320)}),this.bankCardNumObj.unbind("keyup").keyup(function(){var a=this.value.replace(/\s/g,"");isNaN(a)&&(a=a.replace(/[^0-9]*/g,"")),a.length>19&&($.alertMsg("银行卡号最多19位"),a=a.substr(0,19));for(var b=new Array,c=[],d=0,e=a.length;d<e;d++)c.push(a[d]),4==c.length&&(b.push(c.join("")),c=[]);c.length&&b.push(c.join("")),this.value=b.join(" ")})},bindBankObj.submitData=function(){var a=this,b=bindBankObj.bank,c=this.bankAddressObj.val(),d=bindBankObj.province,e=bindBankObj.city,f=this.bankCardNumObj.val().replace(/\s/g,""),g=this.bankCardPwdObj.val();if(f.length<16||f.length>19)return $.alertMsg("银行卡格式为16位到19位"),!1;if(""===c)return $.alertMsg("开户行名称不能为空"),!1;if(!d||!e)return $.alertMsg("请选择省份城市"),!1;if(""===f)return $.alertMsg("银行卡号不能为空"),!1;if(""===g)return $.alertMsg("登录密码不能为空"),!1;var h={para:Global.encrypt({bankCode:b,subBranch:c,province:d,city:e,cardNo:f,passWord:hex_md5(g)}),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.wallet.addBankCard",data:h,dataType:"json",type:"post",success:function(b){"0000"==b.code?($.alertMsg("绑定银行卡成功",!0),setTimeout(function(){"withDraw"==bindBankObj.fromPage?(withDrawObj.goBack=function(){Global.GC(),userCenterObj.show("reload")},withDrawObj.show("reload",function(){withDrawObj.getData()})):a.goBack()},2100)):$.alertMsg(b.code_str)}})},bindBankObj.getBankData=function(){var a=this,b={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.bindBankCard",data:b,dataType:"json",type:"post",success:function(b){if("0000"==b.code){b.info=$.parseJSON(Global.crypt(b.info));var c="<option>--请选择--</option>";for(var d in b.info)c+='<option value="'+d+'">'+b.info[d]+"</option>";a.cardWrap.html(c)}else $.alertMsg(b.code_str)}})},bindBankObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getBankData()},bindBankObj.init=function(){bindBankObj.onloadExecution()},bindBankObj.setDefConfig=function(){bindBankObj.fromPage=""},bindBankObj.setData=function(a){bindBankObj.fromPage=a.fromPage};var arr=new Array;arr[0]="",arr[1]="东城,西城,崇文,宣武,朝阳,丰台,石景山,海淀,门头沟,房山,通州,顺义,昌平,大兴,平谷,怀柔,密云,延庆",arr[2]="黄浦,卢湾,徐汇,长宁,静安,普陀,闸北,虹口,杨浦,闵行,宝山,嘉定,浦东,金山,松江,青浦,南汇,奉贤,崇明",arr[3]="和平,东丽,河东,西青,河西,津南,南开,北辰,河北,武清,红挢,塘沽,汉沽,大港,宁河,静海,宝坻,蓟县",arr[4]="万州,涪陵,渝中,大渡口,江北,沙坪坝,九龙坡,南岸,北碚,万盛,双挢,渝北,巴南,黔江,长寿,綦江,潼南,铜梁,大足,荣昌,壁山,梁平,城口,丰都,垫江,武隆,忠县,开县,云阳,奉节,巫山,巫溪,石柱,秀山,酉阳,彭水,江津,合川,永川,南川",arr[5]="石家庄,邯郸,邢台,保定,张家口,承德,廊坊,唐山,秦皇岛,沧州,衡水",arr[6]="太原,大同,阳泉,长治,晋城,朔州,吕梁,忻州,晋中,临汾,运城",arr[7]="呼和浩特,包头,乌海,赤峰,呼伦贝尔盟,阿拉善盟,哲里木盟,兴安盟,乌兰察布盟,锡林郭勒盟,巴彦淖尔盟,伊克昭盟",arr[8]="沈阳,大连,鞍山,抚顺,本溪,丹东,锦州,营口,阜新,辽阳,盘锦,铁岭,朝阳,葫芦岛",arr[9]="长春,吉林,四平,辽源,通化,白山,松原,白城,延边",arr[10]="哈尔滨,齐齐哈尔,牡丹江,佳木斯,大庆,绥化,鹤岗,鸡西,黑河,双鸭山,伊春,七台河,大兴安岭",arr[11]="南京,镇江,苏州,南通,扬州,盐城,徐州,连云港,常州,无锡,宿迁,泰州,淮安",arr[12]="杭州,宁波,温州,嘉兴,湖州,绍兴,金华,衢州,舟山,台州,丽水",arr[13]="合肥,芜湖,蚌埠,马鞍山,淮北,铜陵,安庆,黄山,滁州,宿州,池州,淮南,巢湖,阜阳,六安,宣城,亳州",arr[14]="福州,厦门,莆田,三明,泉州,漳州,南平,龙岩,宁德",arr[15]="南昌市,景德镇,九江,鹰潭,萍乡,新馀,赣州,吉安,宜春,抚州,上饶",arr[16]="济南,青岛,淄博,枣庄,东营,烟台,潍坊,济宁,泰安,威海,日照,莱芜,临沂,德州,聊城,滨州,菏泽",arr[17]="郑州,开封,洛阳,平顶山,安阳,鹤壁,新乡,焦作,濮阳,许昌,漯河,三门峡,南阳,商丘,信阳,周口,驻马店,济源",arr[18]="武汉,宜昌,荆州,襄樊,黄石,荆门,黄冈,十堰,恩施,潜江,天门,仙桃,随州,咸宁,孝感,鄂州",arr[19]="长沙,常德,株洲,湘潭,衡阳,岳阳,邵阳,益阳,娄底,怀化,郴州,永州,湘西,张家界",arr[20]="广州,深圳,珠海,汕头,东莞,中山,佛山,韶关,江门,湛江,茂名,肇庆,惠州,梅州,汕尾,河源,阳江,清远,潮州,揭阳,云浮",arr[21]="南宁,柳州,桂林,梧州,北海,防城港,钦州,贵港,玉林,南宁地区,柳州地区,贺州,百色,河池",arr[22]="海口,三亚",arr[23]="成都,绵阳,德阳,自贡,攀枝花,广元,内江,乐山,南充,宜宾,广安,达川,雅安,眉山,甘孜,凉山,泸州",arr[24]="贵阳,六盘水,遵义,安顺,铜仁,黔西南,毕节,黔东南,黔南",arr[25]="昆明,大理,曲靖,玉溪,昭通,楚雄,红河,文山,思茅,西双版纳,保山,德宏,丽江,怒江,迪庆,临沧",arr[26]="拉萨,日喀则,山南,林芝,昌都,阿里,那曲",arr[27]="西安,宝鸡,咸阳,铜川,渭南,延安,榆林,汉中,安康,商洛",arr[28]="兰州,嘉峪关,金昌,白银,天水,酒泉,张掖,武威,定西,陇南,平凉,庆阳,临夏,甘南",arr[29]="银川,石嘴山,吴忠,固原",arr[30]="西宁,海东,海南,海北,黄南,玉树,果洛,海西",arr[31]="乌鲁木齐,石河子,克拉玛依,伊犁,巴音郭勒,昌吉,克孜勒苏柯尔克孜,博 尔塔拉,吐鲁番,哈密,喀什,和田,阿克苏",arr[32]="香港",arr[33]="澳门",arr[34]="台北,高雄,台中,台南,屏东,南投,云林,新竹,彰化,苗栗,嘉义,花莲,桃园,宜兰,基隆,台东,金门,马祖,澎湖";var bindPhoneObj=new PageController({name:"bindPhone",tpl:"template/user/bindPhone.html"});bindPhoneObj.createDomObj=function(){this.newTelObj=$("#bindPhone_newTelObj"),this.checkCodeObj=$("#bindPhone_checkCodeObj"),this.getCodeObj=$("#bindPhone_getCodeObj"),this.submitObj=$("#bindPhone_submitObj"),this.backObj=$("#bindPhone_backObj")},bindPhoneObj.createEvent=function(){this.newTelObj.add(this.checkCodeObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.newTelObj.add(this.checkCodeObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.getCodeObj.unbind("tap").tap(function(){bindPhoneObj.checkPhone()}),this.submitObj.unbind("tap").tap(function(){bindPhoneObj.submitData()}),this.backObj.unbind("tap").tap(function(){bindPhoneObj.goBack()})},bindPhoneObj.submitData=function(){var a=this.newTelObj.val(),b=this.checkCodeObj.val();if(""===a)return $.alertMsg("手机号码不能为空"),!1;if(!/[0-9]{11}/g.test(Number(a)))return $.alertMsg("请输入正确的手机号码"),!1;if(""===b)return $.alertMsg("验证码不能为空"),!1;var c="?m=user.account.bindPhone",d="手机号码绑定成功";bindPhoneObj.preBindStatus&&(c="?m=user.account.modifyPhone",d="手机号码修改成功");var e={para:Global.encrypt({mobile:a,sms_code:b}),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+c,data:e,dataType:"json",type:"post",success:function(a){0===Number(a.code)?($.alertMsg(d,!0),setTimeout(function(){setPwdObj.show()},2e3)):$.alertMsg(a.msg)}})},bindPhoneObj.checkPhone=function(){if(this.getCodeObj.hasClass("noover"))return!1;var a=this.newTelObj.val();return""===a?($.alertMsg("新手机号码不能为空"),!1):/[0-9]{11}/g.test(Number(a))?void bindPhoneObj.getCode():($.alertMsg("请输入正确的手机号码"),!1)},bindPhoneObj.getCode=function(){if(this.getCodeObj.hasClass("noover"))return!1;var a=this.newTelObj.val();if(""===a)return $.alertMsg("新手机号码不能为空"),!1;if(!/[0-9]{11}/g.test(Number(a)))return $.alertMsg("请输入正确的手机号码"),!1;this.setTime=bindPhoneObj.defSetTime,this.getCodeObj.addClass("noover"),this.getCodeObj.html("请稍等");var b={access_token:loginObj.access_token,phone:a,summary:bindPhoneObj.preBindStatus?"modifyPhone":"bindPhone"};$.ajax({url:ConfigObj.localSite+"?m=user.account.sendMobileCode",data:b,dataType:"json",type:"post",success:function(a){if("0000"==a.code&&$.alertMsg("短信验证码发送成功",!0),0!==Number(a.code))return $.alertMsg(a.code_str),bindPhoneObj.getCodeObj.html("获取短信验证码"),bindPhoneObj.getCodeObj.removeClass("noover"),!1;bindPhoneObj.setTimeCheck()}})},bindPhoneObj.setTimeCheck=function(){this.getCodeObj.html(this.setTime+"秒后重新获取"),bindPhoneObj.timer=setTimeout(function(){if(--bindPhoneObj.setTime<=0)return bindPhoneObj.getCodeObj.html("获取短信验证码"),bindPhoneObj.getCodeObj.removeClass("noover"),!1;bindPhoneObj.setTimeCheck()},1e3)},bindPhoneObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},
bindPhoneObj.init=function(){bindPhoneObj.setDefConfig(),bindPhoneObj.onloadExecution()},bindPhoneObj.setDefConfig=function(a){a=a||{},bindPhoneObj.preBindStatus=a.preBindStatus||!1,bindPhoneObj.defSetTime=a.defSetTime||120,bindPhoneObj.setTime=a.setTime||120,bindPhoneObj.timer&&(clearTimeout(bindPhoneObj.timer),bindPhoneObj.timer="")};var cashierObj=new PageController({name:"cashier",tpl:"template/user/cashier.html"});cashierObj.createDomObj=function(){this.progressCon=$("#cashier_progressCon"),this.progressEnd=$("#cashier_progressEnd"),this.backBtn=$("#cashier_backbtn"),this.topTit=$("#cashier_topTit"),this.botLink=$("#cashier_botLink"),this.homeLink=$("#cashier_home"),this.recordLink=$("#cashier_record"),this.productLink=$("#cashier_product"),this.authRealLink=$("#cashier_authreal"),cashierObj.goDetail,this.refreshBtn=$("#cashier_refreshBtn"),this.tryBtn=$("#cashier_tryBtn")},cashierObj.createEvent=function(){this.backBtn.unbind("tap").tap(function(){cashierObj.goBack()}),this.homeLink.unbind("tap").tap(function(){Global.GC(),homeObj.show()}),this.productLink.unbind("tap").tap(function(){cashierObj.goProductDetail()}),this.authRealLink.unbind("tap").tap(function(){cashierObj.goAuthReal()}),this.refreshBtn.unbind("tap").tap(function(){cashierObj.delayRefresh()}),this.tryBtn.unbind("tap").tap(function(){cashierObj.tryAgain()})},cashierObj.tryAgain=function(){var a=cashierObj.lotteryType.toLowerCase();switch(cashierObj.destroy(),buyConfirmObj.destroy(),a){case"dlt":dltConfirmObj.show();break;case"pl3":pl3ConfirmObj.show();break;case"pl5":pl5ConfirmObj.show();break;case"qxc":qxcConfirmObj.show();break;case ConfigObj.fastLotType:fastBetConfirmObj.show();break;case"ftfh":soccerMixObj.show();break;case"spf14":soccerTotoObj.show();break;case"spf9":soccerR9Obj.show();break;default:homeObj.show("reload")}},cashierObj.delayRefresh=function(){this.count=0,this.refreshBtn.hide(),this.startTimer()},cashierObj.startTimer=function(){setTimeout(function(){cashierObj.count=0,cashierObj.getPayStatus("first")},200),cashierObj.ticket_timer=setInterval(function(){cashierObj.getPayStatus()},6e3)},cashierObj.getPayStatus=function(a){var b=this,c={pay_id:this.pay_id,channel:""},d={para:Global.encrypt(c)};b.count=b.count+1,$.ajax({url:ConfigObj.localSite+"?m=cashier.check.status",type:"post",data:d,dataType:"json",success:function(c){if("0000"==c.code)if(c.info=$.parseJSON(Global.crypt(c.info)),cashierObj.consign_type=c.info.product_info.consign_type,c.info.product_info&&(b.lotteryTypeCn=c.info.product_info.lottery_type_cn),"not"==c.info.status){"first"==a&&(b.startPoint=0,b.endPoint=100,b.totalTime=0);var d={time:0};b.updateProgress(d),b.updateStatus("process",d)}else"succ"==c.info.status?(b.updateStatus("success",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer=""),loginObj.userInfo&&"N"==loginObj.userInfo.real_status&&$("#cashier_Success_realname").show(),Global.pv("buySuccess",{lotteryType:c.info.product_info.lottery_type})):"fail"==c.info.status?(b.updateStatus("fail",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer="")):"delay"==c.info.status&&(b.updateStatus("delay",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer=""));else $.alertMsg(c.code_str)}})},cashierObj.updateProgress=function(a){cashierObj.progress||(cashierObj.progress=new CircularProgress({radius:60,lineWidth:10,strokeStyle:"#30a1f7"}),cashierObj.progressCon.find(".outer").get(0).appendChild(cashierObj.progress.el));var b=cashierObj.totalTime-parseInt(a.time);cashierObj.endPoint=0==cashierObj.totalTime?100:Math.abs(b/cashierObj.totalTime*100),cashierObj.progress.run(cashierObj.startPoint,cashierObj.endPoint,function(){cashierObj.startPoint=cashierObj.endPoint,100==cashierObj.endPoint&&(cashierObj.progressCon.find("canvas").remove(),cashierObj.progress=null,cashierObj.startPoint=0)})},cashierObj.updateStatus=function(a,b){if("success"==a)this.progressCon.hide(),this.progressEnd.show(),this.botLink.show();else if("process"==a){this.progressEnd.hide(),this.progressCon.show();var c='<p class="state1 pt25"><span>正在付款</span></p>';this.progressCon.find(".inner").html(c)}else if("fail"==a){var c='<p class="state1 pt25"><span>'+b.status_cn+"</span></p>";this.progressCon.find(".inner").html(c),this.botLink.show(),this.refreshBtn.hide(),this.tryBtn.show()}else if("delay"==a){this.progressEnd.hide(),this.progressCon.show();var c='<p class="state1 pt25"><span>'+b.status_cn+"</span></p>";this.progressCon.find(".inner").html(c),this.refreshBtn.show(),this.tryBtn.hide()}},cashierObj.goQupiaoSet=function(){var a=this;qupiaoSetObj.goBack=function(){Global.backLottery(cashierObj.lotteryTypeCn)},qupiaoSetObj.show("reload",function(){qupiaoSetObj.setData({pay_id:a.pay_id,product_id:a.product_id,product_type:a.product_type,lotteryType:a.lotteryType,lotteryTypeCn:a.lotteryTypeCn})})},cashierObj.goProductDetail=function(){var a=(cashierObj.product_id,cashierObj.product_type);return"together"==cashierObj.consign_type?($("#cashier_product").val("合买详情"),void this.goHemai()):void("plan"==a?this.goPlanDetail():this.goProjectDetail())},cashierObj.goHemai=function(){var a=this.product_id;hemaiDetailObj.goBack=function(){hemaiDetailObj.destroy(),userCenterObj.show()},hemaiDetailObj.show(!0,function(){hemaiDetailObj.setData(a)})},cashierObj.goProjectDetail=function(){var a=cashierObj.product_id;Global.GC(),projectDetailObj.show("reload",function(){projectDetailObj.getData(a),projectDetailObj.pushRoute(function(){homeObj.show()})})},cashierObj.goPlanDetail=function(){var a=cashierObj.product_id;Global.GC(),planDetailObj.goBack=function(){planDetailObj.destroy(),homeObj.show()},planDetailObj.show("reload",function(){planDetailObj.getData(a),planDetailObj.pushRoute(function(){homeObj.show()})})},cashierObj.goAuthReal=function(){regRealNameObj.goBack=function(){Global.GC(),homeObj.show()};var a={from:"cashier",accountName:loginObj.userInfo.user_name};regRealNameObj.show(!0,function(){regRealNameObj.setData(a)})},cashierObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},cashierObj.init=function(){cashierObj.setDefConfig(),cashierObj.onloadExecution()},cashierObj.setDefConfig=function(){this.pay_id="",this.product_id="",this.product_type="",this.lotteryType="",this.lotteryTypeCn="",this.count=0,this.startPoint=0,this.endPoint=100,this.progress="",this.consign_type="",cashierObj.ticket_timer&&(clearInterval(cashierObj.ticket_timer),cashierObj.ticket_timer="")},cashierObj.setData=function(a){this.pay_id=a.pay_id,this.product_id=a.product_id,this.product_type="plan"==a.product_type?"plan":"project",this.lotteryType=a.lotteryType,this.lotteryCn=a.lotteryCn?a.lotteryCn:"",cashierObj.startTimer(),$("#cashier_topTit").html(this.lotteryCn)},cashierObj.goDetail=function(){"plan"==this.product_type?this.goPlanDetail():this.goProjectDetail()},cashierObj.dirShow=function(a){var b=this,c=function(){var c=a&&a.type?a.type:"";if("recharge"==c){var d=a.pay_id,e={pay_id:d};b.setData(e)}else if("pay"==c){var f=a.lotteryType,d=a.pay_id,g=a.product_id,e={pay_id:d,lotteryType:f,product_id:g};b.setData(e)}};b.show("reload",function(){c()})};var ebankListObj=new PageController({name:"ebankList",tpl:"template/user/ebankList.html"});ebankListObj.createDomObj=function(){this.wrapObj=$("#ebankList_wrapObj"),this.ebankList=$("#ebankList_bankListObj"),this.delConfirm=$("#ebankList_delTipsObj")},ebankListObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return ebankListObj.goBack(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"edit":ebankListObj.editBank(c);break;case"del":ebankListObj.showConfirm(c)}}var f=$.oto_checkEvent(a,"DL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"addbank":return ebankListObj.addbank(),!0;case"selbank":return ebankListObj.selBank(c),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"clearDel":ebankListObj.hideConfirm();break;case"subDel":ebankListObj.delBank(c)}}})},ebankListObj.selBank=function(a){ebankListObj.bankId=a.attr("data-v");var b={card_id:ebankListObj.bankId,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=cashier.withdraw.choicebankcard",data:b,type:"post",dataType:"json",success:function(b){"0000"==b.code?($.alertMsg("设置成功",!0),ebankListObj.ebankList.find(".selctedicon").removeClass("selctedicon"),a.find("span.icon").addClass("selctedicon"),setTimeout(function(){ebankListObj.goBack()},1e3)):$.alertMsg(b.code_str)}})},ebankListObj.editBank=function(a){var b=a.attr("data-v");modifyBankObj.goBack=function(){modifyBankObj.destroy(),ebankListObj.show("reload",function(){ebankListObj.getData()})};var c={};if(this.cardInfo)for(var d=0;d<this.cardInfo.length;d++)b==this.cardInfo[d].card_id&&(c=this.cardInfo[d]);var e=function(){modifyBankObj.setData({id:b,cardInfo:c})};modifyBankObj.show("reload",e)},ebankListObj.showConfirm=function(a){this.delConfirm.show(),this.delId=a.attr("data-v"),this.delObj=a},ebankListObj.hideConfirm=function(){this.delConfirm.hide(),this.delId="",this.delObj=""},ebankListObj.delBank=function(){var a=this,b={id:this.delId,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.wallet.delBankCard",data:b,dataType:"json",type:"post",success:function(b){0===Number(b.code)?(a.delObj.parents("dl").remove(),a.delObj="",a.delId="",a.delConfirm.hide()):$.alertMsg(b.code_str)}})},ebankListObj.addbank=function(){bindBankObj.goBack=function(){bindBankObj.destroy(),ebankListObj.show("reload",function(){ebankListObj.getData()})},bindBankObj.show()},ebankListObj.getData=function(){var a=this,b={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.getMyBankList",data:b,dataType:"json",type:"post",success:function(b){"0000"==b.code?(b.info=$.parseJSON(Global.crypt(b.info)),"withdraw"==a.fromPage?a.formatHtmlW(b.info):a.formatHtml(b.info),a.cardInfo=b.info):$.alertMsg(b.code_str)}})},ebankListObj.formatHtmlW=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];b+='<dl class="clearfix sel_bank" data-t="selbank" data-v="'+d.card_id+'"><dt><span class="bank '+(d.bank_type?d.bank_type.toLowerCase():"")+'"></span></dt><dd><p class="font16">'+d.bank_typecn+'</p><p class="font12 gray">'+d.card_desc+" "+d.card_typecn+'</p><span class="'+(this.bankId&&this.bankId==d.card_id?"selctedicon ":this.bankId||"Y"!=d.is_default?"":"selctedicon ")+'icon"></span></dd></dl>'}this.ebankList.html(b)},ebankListObj.formatHtml=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];b+='<dl class="clearfix"><dt><span class="bank '+(d.bank_type?d.bank_type.toLowerCase():"")+'"></span></dt><dd><p class="font16">'+d.bank_typecn+'</p><p class="font12 gray">'+d.card_desc+" "+d.card_typecn+'</p><p class="spanwrap"><span data-t="del" data-v="'+d.card_id+'" class="spanbox"><em class="delicon icon"></em></span></p></dd></dl>'}this.ebankList.html(b)},ebankListObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},ebankListObj.init=function(){ebankListObj.onloadExecution()},ebankListObj.setDefConfig=function(){this.cardInfo="",this.fromPage="",this.bankId=""};var ebankRechargeObj=new PageController({name:"ebankRecharge",tpl:"template/user/ebankRecharge.html"});ebankRechargeObj.createDomObj=function(){this.wrapObj=$("#ebankRecharge_wrapObj"),this.moneyObj=$("#ebankRecharge_moneyObj"),this.keyObj=$("#ebankRecharge_keyObj"),this.backObj=$("#ebankRecharge_backObj"),this.showObj=$("#ebankRecharge_showObj"),this.zdbackObj=$("#ebankRecharge_zdbackObj")},ebankRechargeObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){ebankRechargeObj.updateMoneyEvent(a)}),this.backObj.unbind("tap").tap(function(){ebankRechargeObj.goBack()})},ebankRechargeObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return this.subPay(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"setMoney":return this.setMoney(c),!0;case"showkey":return this.showKey(),!0;case"hidekey":return this.hidekey(),!0;case"key":return this.keytUpdateMoney(c),!0;case"delkey":return this.delKeyMoney(),!0}}var g=$.oto_checkEvent(a,"DL");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updPay":return this.updPay(c),!0;case"showzd":return this.hrefInfo(c),!0;case"mybank":return this.goEbankList(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){if("keyObj"==h.id)return!0;ebankRechargeObj.hidekey()}},ebankRechargeObj.goEbankList=function(a){var b=this;ebankListObj.goBack=function(){ebankListObj.destroy(),b.show()},ebankListObj.show("reload",function(){ebankListObj.getData()})},ebankRechargeObj.hrefInfo=function(a){a.attr("data-v")},ebankRechargeObj.updPay=function(a){a.attr("data-v")},ebankRechargeObj.delKeyMoney=function(){this.money=Number(this.money.toString().slice(0,-1)),this.updateMoney()},ebankRechargeObj.keytUpdateMoney=function(a){var b=a.attr("data-v");this.money+=b.toString(),this.money=Number(this.money),this.updateMoney()},ebankRechargeObj.showKey=function(){this.keyObj.show(),this.showObj.addClass("focus")},ebankRechargeObj.hidekey=function(){this.money<5&&($.alertMsg("最小金额5元"),this.money=5,this.updateMoney()),this.keyObj.hide(),this.showObj.removeClass("focus")},ebankRechargeObj.setMoney=function(a){var b=Number(a.attr("data-v"));a.siblings().removeClass("selected"),a.addClass("selected"),this.money=b,this.updateMoney()},ebankRechargeObj.updateMoney=function(){this.updateKjClass(),this.moneyObj.html(this.money+"元")},ebankRechargeObj.updateKjClass=function(){for(var a=$("#ebankRecharge span[data-t='setMoney']"),b=0,c=a.length;b<c;b++){Number(a.eq(b).attr("data-v"))!=this.money?a.eq(b).removeClass("selected"):a.eq(b).addClass("selected")}},ebankRechargeObj.showErrMsg=function(a){$.alertMsg(a)},ebankRechargeObj.subPay=function(){this.hidekey(),cashierObj.goBack=function(){Global.GC(),homeObj.show()},cashierObj.show("reload")},ebankRechargeObj.setDefConfig=function(){ebankRechargeObj.money=10},ebankRechargeObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},ebankRechargeObj.init=function(){this.setDefConfig(),ebankRechargeObj.onloadExecution()};var findPwdObj=new PageController({name:"findPwd",tpl:"template/user/findPwd.html"});findPwdObj.createDomObj=function(){findPwdObj.getSmsCodeObj=$("#findPwd_getsmscode")},findPwdObj.createEvent=function(){$("#findPwd_backObj").unbind("tap").tap(function(){findPwdObj.goBack()}),$("#findPwd_getsmscode").unbind("tap").tap(function(){findPwdObj.getSmsCode()}),$("#findPwd_submitObj").unbind("tap").tap(function(){findPwdObj.submitData()})},findPwdObj.submitData=function(){var a=$("#findPwd_phone").val(),b=$("#findPwd_smscode").val(),c=$("#findPwd_password1").val(),d=$("#findPwd_password2").val();return 0==a.length?($.alertMsg("请先填写手机号码"),!1):/^1\d{10}$/g.test(a)?b.length<1?($.alertMsg("请填写短信验证码"),!1):0==c.length?($.alertMsg("请输入密码"),!1):/^\w{6,16}$/g.test(c)?0==d.length?($.alertMsg("请再次确认密码"),!1):c!=d?($.alertMsg("两次密码不一致"),!1):void Global.post("?m=user.account.findPwd",{mobile:a,smsCode:b,passWord1:hex_md5(c),passWord2:hex_md5(d)},function(a){"0000"==a.code?($.alertMsg("您的密码已重置，请重新登录",!0,1e3),setTimeout(function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.show(!0)},1e3)):$.alertMsg(a.code_str||a.msg)},function(){}):($.alertMsg("密码格式错误"),!1):($.alertMsg("手机号码格式错误"),!1)},findPwdObj.getSmsCode=function(){var a=findPwdObj.getSmsCodeObj;if(!a.hasClass("alreadysend")){var b=$("#findPwd_phone").val();if(0==b.length)return $.alertMsg("请先填写手机号码"),!1;if(!/^1\d{10}$/g.test(b))return $.alertMsg("手机号码格式错误"),!1;a.html("发送中"),Global.post("?m=user.account.sendMobileCode",{phone:b,summary:"findPwd"},function(b){"0000"==b.code?$.alertMsg("短信验证码发送成功",!0):$.alertMsg(b.code_str||b.msg),a.html("120秒后再次发送");var c=120;findPwdObj.msgCodeInterval=setInterval(function(){if(0==c)return clearInterval(findPwdObj.msgCodeInterval),void a.removeClass("alreadysend").html("获取短信验证码");a.addClass("alreadysend").html(--c+"秒后再次发送")},1e3)},function(){})}},findPwdObj.setData=function(a){},findPwdObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},findPwdObj.init=function(){findPwdObj.setDefConfig(),findPwdObj.onloadExecution()},findPwdObj.setDefConfig=function(){findPwdObj.defSetTime=120,findPwdObj.setTime=120,findPwdObj.msgCodeInterval&&(clearTimeout(findPwdObj.msgCodeInterval),findPwdObj.msgCodeInterval=""),this.realInfo={},this.userName="",this.type=""};var hemaixyObj=new PageController({name:"hemaixy",tpl:"template/user/hemaixy.html"});hemaixyObj.createDomObj=function(){this.backObj=$("#hemaixy_backbtn")},hemaixyObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){hemaixyObj.goBack()})},hemaixyObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},hemaixyObj.init=function(){hemaixyObj.setDefConfig(),hemaixyObj.onloadExecution()},hemaixyObj.setDefConfig=function(){};var loginObj=new PageController({name:"login",tpl:"template/user/login.html"});loginObj.setDefConfig=function(){loginObj.userInfo="",loginObj.access_token="",loginObj.imToken="",loginObj.isLogin=!1,loginObj.needImgCode=!1,loginObj.last_time=""},loginObj.createDomObj=function(){this.showPwdObj=$("#login_showPwdObj"),this.pwdDivObj=$("#login_pwdDivObj"),this.userNameObj=$("#login_userNameObj"),this.submitloginObj=$("#login_submitlogin"),this.switchObj=$("#login_switchObj"),this.regBtn=$("#login_regBtn"),this.backBtn=$("#login_backBtn"),this.findPwd=$("#login_findPwd"),this.wrapperObj=$("#login_wrapperObj")},loginObj.showPwd=function(){if(this.switchObj.hasClass("move")){var a=$("#login_pwdM").val();this.pwdDivObj.html('<input type="password" placeholder="请输入密码" id="login_pwdA" value="'+a+'">'),this.switchObj.removeClass("move"),this.switchObj.prev().hide(),this.switchObj.next().show()}else{var a=$("#login_pwdA").val();this.pwdDivObj.html('<input type="text" placeholder="请输入密码" id="login_pwdM" value="'+a+'">'),this.switchObj.addClass("move"),this.switchObj.prev().show(),this.switchObj.next().hide()}this.pwdDivObj.find("input").focus(function(){loginObj.pwdDivObj.parent().addClass("focus")}),this.pwdDivObj.find("input").blur(function(){loginObj.pwdDivObj.parent().removeClass("focus")})},loginObj.addScore=function(a,b,c){},loginObj.genUuid=function(){var a=String(Math.random()).slice(2)+String(Math.random()).slice(2);return loginObj.uuid=a,a},loginObj.updateImgCode=function(){$("#login_img").attr("src",ConfigObj.localSite+"?m=user.account.getRegImgCode&uuid="+loginObj.genUuid())},loginObj.submitlogin=function(){var a=this.createUserData();if(this.checkUserName(a[0])&&this.checkPassword(a[1])){var b=hex_md5(a[1]),c={userName:a[0],passWord:b};if(loginObj.needImgCode){if(a[2].length<1)return $.alertMsg("请输入验证码"),!1;c={userName:a[0],passWord:b,loginLock:!0,img_code:a[2],uuid:loginObj.uuid}}$("#login_submitlogin").text("正在登录中...");var d={para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=user.account.login",data:d,type:"post",dataType:"json",success:function(a){0==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),loginObj.isLogin=!0,loginObj.pwdDivObj.children("input").val(""),$("#login_code").val(""),loginObj.tokenWin(a.info.token.access_token),loginObj.getUserInfo(),$("#login_submitlogin").text("登录"),$("#login_imgWrap").hide(),loginObj.needImgCode=!1):($("#login_submitlogin").text("登录"),$.alertMsg(a.code_str),a.last_time&&Number(a.last_time)<0&&(ConfigObj.last_time=a.last_time,loginObj.needImgCode=!0,$("#login_imgWrap").show(),$("#login_img").attr("src",ConfigObj.localSite+"?m=user.account.getRegImgCode&uuid="+loginObj.genUuid())))},error:function(a){$("#login_submitlogin").text("登录")}})}},loginObj.socialAuth=function(a,b,c,d){var e={platform:a,channel_number:ConfigObj.zdid,data:{uid:b,name:c,iconurl:d},appInfo:{stationId:ConfigObj.umengChannel,source:ConfigObj.umengChannel,terminalId:"android"==ConfigObj.platForm?2:3}};Global.post("?m=user.account.socialAuth",e,function(a){if("0000"!=a.code)return void $.alertMsg(a.code_srt);a.info=$.parseJSON(Global.crypt(a.info)),loginObj.isLogin=!0,loginObj.tokenWin(a.info.token.access_token),loginObj.getUserInfo()})},loginObj.createUserData=function(){var a=this.userNameObj.val(),b=this.pwdDivObj.children("input").val(),c=$("#login_code").val();return new Array(a,b,c)},loginObj.loginEvent=function(){this.regBtn.unbind("tap").tap(function(){loginObj.goRegister()}),this.backBtn.unbind("tap").tap(function(){loginObj.goBack()}),this.showPwdObj.unbind("tap").tap(function(){loginObj.showPwd()});var a=this.wrapperObj.find("input");a.unbind("focus").focus(function(){a.parent().parent().parent().find("dl").removeClass("focus"),$(this).parent().parent().addClass("focus")}),a.unbind("blur").blur(function(){a.parent().parent().parent().find("li").removeClass("focus")}),$("#login_pwdA").focus(function(){ConfigObj.platForm}),$("#login_updateCode").unbind("tap").tap(function(){loginObj.updateImgCode()}),this.submitloginObj.unbind("tap").tap(function(){loginObj.submitlogin()}),this.findPwd.unbind("tap").tap(function(){"ios"==ConfigObj.from?findPwdObj.goBack=function(){ConfigObj.from="",location.href=ConfigObj.iosAppSite+"?pageName=home"}:findPwdObj.goBack=function(){findPwdObj.destroy(),loginObj.show(!0)},findPwdObj.show(!0,function(){findPwdObj.setData({type:"findPwd"})})}),$("#login_wxlogin").on("tap",function(){var a=$("#login_wxlogin img");a.hasClass("igray")||(a.addClass("igray"),setTimeout(function(){a.removeClass("igray")},5e3),"android"===ConfigObj.platForm?android_obj.getPlatformInfo("auth","wx",loginObj.social.wx[0],loginObj.social.wx[1]):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.getAuthWithUserInfoFromWechat("auth"))}),$("#login_qqlogin").on("tap",function(){var a=$("#login_qqlogin img");a.hasClass("igray")||(a.addClass("igray"),setTimeout(function(){a.removeClass("igray")},5e3),"android"===ConfigObj.platForm?android_obj.getPlatformInfo("auth","qq",loginObj.social.qq[0],loginObj.social.qq[1]):ConfigObj.platForm)})},loginObj.setSocialLogin=function(){function a(a){$("#login_s").hide(),a.wx&&2===a.wx.length?($("#login_s").show(),$("#login_wxlogin").show()):$("#login_wxlogin").hide()}var b=localStorage.getItem("social");b&&(b=JSON.parse(b),loginObj.social=b,a(b));var c={appKey:ConfigObj.appkey},d={para:Global.encrypt(c)};Global.post("?m=system.appInfo.getSocial",d,function(b){"0000"==b.code&&(b.info=$.parseJSON(Global.crypt(b.info)),localStorage.setItem("social",JSON.stringify(b.info)),loginObj.social=b.info,a(b.info))})},loginObj.checkUserName=function(a){return 0==a.length?($.alertMsg("请输入用户名"),!1):!!/^1\d{10}$/g.test(a)||($.alertMsg("手机号码格式错误"),!1)},loginObj.checkPassword=function(a){return 0===a.length?($.alertMsg("请输入密码"),!1):!!/^[\dA-Za-z]{6,16}$/g.test(a)||($.alertMsg("密码格式错误"),!1)},loginObj.getUserInfo=function(a){var b={channel_number:ConfigObj.zdid},c={para:Global.encrypt(b),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.user_Info",data:c,type:"post",dataType:"json",success:function(b){"0000"==b.code?(b.info=$.parseJSON(Global.crypt(b.info)),loginObj.isLogin=!0,loginObj.userInfo=b.info,loginObj.userId=b.info.user_id,"Fail"===b.info.real_status&&(loginObj.userInfo.real_status="N"),loginObj.addScore("login"),loginObj.goForward(),a&&"function"==typeof a&&a(),"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.getPushClientId():ConfigObj.platForm):loginObj.tokenFail()}})},loginObj.getImToken=function(){var a={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.chat.getToken",data:a,type:"post",dataType:"json",success:function(a){"0000"==a.code&&(loginObj.imToken=a.info.token,"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?setTimetout(function(){},3e3):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&setTimetout(function(){},3e3))}})},loginObj.setClientId=function(a){var b={access_token:loginObj.access_token,terminal:ConfigObj.platForm,clientId:a};$.ajax({url:ConfigObj.localSite+"?m=user.account.setClientId",data:b,type:"post",dataType:"json",success:function(a){a.code}})},loginObj.goRegister=function(){registerObj.goBack=function(){registerObj.destroy(),loginObj.show("reload")},registerObj.show("reload")},loginObj.goForward=function(){},loginObj.tokenFail=function(){try{localStorage[ConfigObj.appName+"access_token"]=""}catch(a){}loginObj.setDefConfig(),"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj||ConfigObj.platForm},loginObj.tokenWin=function(a){try{localStorage[ConfigObj.appName+"access_token"]=a}catch(a){a.name}loginObj.access_token=a,loginObj.isLogin=!0},loginObj.logout=function(){$.ajax({url:ConfigObj.localSite+"?m=user.account.logout",data:{access_token:loginObj.access_token},type:"post",dataType:"json",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;loginObj.tokenFail(),"ios"==ConfigObj.from?(loginObj.goBack=function(){ConfigObj.from="",location.href=ConfigObj.iosAppSite+"?pageName=home"},loginObj.goForward=function(){ConfigObj.from="",location.href=ConfigObj.iosAppSite+"?pageName=home"},loginObj.show()):(loginObj.goBack=function(){homeObj.show("reload")},loginObj.goForward=function(){homeObj.show()},loginObj.show()),getImNumCallBack(0)}})},loginObj.getReg=function(){Number(ConfigObj.last_time)<0&&(loginObj.needImgCode=!0,$("#login_imgWrap").show(),$("#login_img").attr("src",ConfigObj.localSite+"?m=user.account.getRegImgCode&uuid="+loginObj.genUuid()))},loginObj.onloadExecution=function(){this.createDomObj(),this.loginEvent(),this.setSocialLogin(),this.getReg()},loginObj.init=function(){loginObj.onloadExecution()},loginObj.userNameFocus=function(){setTimeout(function(){},100)};var modifyBankObj=new PageController({name:"modifyBank",tpl:"template/user/modifyBank.html"});modifyBankObj.createDomObj=function(){this.bankLIistObj=$("#modifyBank_bankLIistObj"),this.bankAddressObj=$("#modifyBank_bankAddressObj"),this.bankCardNumObj=$("#modifyBank_bankCardNumObj"),this.bankCardPwdObj=$("#modifyBank_bankCardPwdObj"),this.submitObj=$("#modifyBank_submitObj"),this.backObj=$("#modifyBank_backObj"),this.cardWrap=$("#modifyBank_cardWrap"),this.showBankListObj=$("#modifyBank_showBankListObj"),this.cityPickerCtrl=$("#cityPickerCtrl")},modifyBankObj.createEvent=function(){this.bankAddressObj.add(this.bankCardNumObj).add(this.bankCardPwdObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.bankAddressObj.add(this.bankCardNumObj).add(this.bankCardPwdObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.submitObj.unbind("tap").tap(function(){modifyBankObj.submitData()}),this.backObj.unbind("tap").tap(function(){modifyBankObj.goBack()}),this.showBankListObj.unbind("tap").tap(function(){modifyBankObj.bankLIistObj.mobiscroll("show")}),this.bankCardNumObj.unbind("keyup").keyup(function(){var a=this.value.replace(/\s/g,"");isNaN(a)&&(a=a.replace(/[^0-9]*/g,"")),a.length>19&&($.alertMsg("银行卡号最多19位"),a=a.substr(0,19));for(var b=new Array,c=[],d=0,e=a.length;d<e;d++)c.push(a[d]),4==c.length&&(b.push(c.join("")),c=[]);c.length&&b.push(c.join("")),this.value=b.join(" ")}),this.cityPickerCtrl.unbind("tap").tap(function(){cityPicker.showPicker($(this))})},modifyBankObj.submitData=function(){var a=this.bankLIistObj.val(),b=this.bankAddressObj.val(),c=this.cityPickerCtrl.data("province"),d=this.cityPickerCtrl.data("city"),e=this.bankCardNumObj.val().replace(/\s/g,"");if(e.length<16||e.length>19)return $.alertMsg("银行卡格式为16位到19位"),!1;var f=this.bankCardPwdObj.val();if(""===b)return $.alertMsg("开户行名称不能为空"),!1;if(!c||!d)return $.alertMsg("请选择省份城市"),!1;if(""===e)return $.alertMsg("银行卡号不能为空"),!1;if(""===f)return $.alertMsg("登录密码不能为空"),!1;var g={id:modifyBankObj.id,bankCode:a,subBranch:b,province:c,city:d,cardNo:e,passWord:hex_md5(f),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.wallet.modifybankcard",data:g,dataType:"json",type:"post",success:function(a){"0000"==a.code?($.alertMsg("修改成功",!0),setTimeout(function(){modifyBankObj.goBack()},2e3)):$.alertMsg(a.code_str)}})},modifyBankObj.bindScroll=function(){this.bankLIistObj.mobiscroll().select({theme:"mobiscroll",lang:"zh",rows:4,display:"bottom"})},modifyBankObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getBankData()},modifyBankObj.init=function(){modifyBankObj.setDefConfig(),modifyBankObj.onloadExecution(),cityPicker.init(ConfigObj.localSite+"?m=user.account.getLocationInfo")},modifyBankObj.setData=function(a){a&&(this.id=a.id,this.cardInfo=a.cardInfo?a.cardInfo:{},this.fromPage=a.fromPage,this.cardInfo&&this.formatHtml(this.cardInfo))},modifyBankObj.formatHtml=function(a){this.bankAddressObj.val(a.subbranch),this.bankCardNumObj.val(a.card_no);var b=a.city?a.city:"",c=a.province?a.province:"";this.cityPickerCtrl.attr({"data-province":c,"data-city":b}),this.cityPickerCtrl.find("input").val(c+" "+b),this.formatCardNo()},modifyBankObj.formatCardNo=function(){var a=this.bankCardNumObj.val();if(a){for(var b="",c=0;c<a.length;c++)b+=(c+1)%4==0?a[c]+" ":a[c];this.bankCardNumObj.val(b)}},modifyBankObj.getBankData=function(){var a=this,b={access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.bindBankCard",data:b,dataType:"json",type:"post",success:function(b){if("0000"==b.code){b.info=$.parseJSON(Global.crypt(b.info));var c="";for(var d in b.info){c+='<option value="'+d+'" '+(a.cardInfo.bank_type==d?"selected":"")+">"+b.info[d]+"</option>"}a.cardWrap.html(c),a.bindScroll()}else $.alertMsg(b.code_str)}})},modifyBankObj.setDefConfig=function(){this.id="",this.cardInfo=""};var modifyPhoneObj=new PageController({name:"modifyPhone",tpl:"template/user/modifyPhone.html"});modifyPhoneObj.createDomObj=function(){this.oldTelObj=$("#modifyPhone_oldTelObj"),this.newTelObj=$("#modifyPhone_newTelObj"),this.checkCodeObj=$("#modifyPhone_checkCodeObj"),this.getCodeObj=$("#modifyPhone_getCodeObj"),this.submitObj=$("#modifyPhone_submitObj"),this.backObj=$("#modifyPhone_backObj");var a=loginObj.userInfo.mobile?loginObj.userInfo.mobile.substr(0,3)+"****"+loginObj.userInfo.mobile.substr(7):"";$("#modifyPhone_nowPhone").html(a)},modifyPhoneObj.createEvent=function(){this.oldTelObj.add(this.newTelObj).add(this.checkCodeObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.oldTelObj.add(this.newTelObj).add(this.checkCodeObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.getCodeObj.unbind("tap").tap(function(){modifyPhoneObj.checkPhone()}),this.submitObj.unbind("tap").tap(function(){modifyPhoneObj.submitData()}),this.backObj.unbind("tap").tap(function(){modifyPhoneObj.goBack()})},modifyPhoneObj.submitData=function(){var a=this.oldTelObj.val(),b=this.newTelObj.val(),c=this.checkCodeObj.val().replace(/\s/g);if(""===a)return $.alertMsg("旧手机号码不能为空"),!1;if(""===b)return $.alertMsg("新手机号码不能为空"),!1;if(!/[0-9]{11}/g.test(Number(a)))return $.alertMsg("旧手机号码格式错误"),!1;if(loginObj.userInfo.mobile!==a)return $.alertMsg("请输入正确的旧手机号码"),!1;if(!/[0-9]{11}/g.test(Number(b)))return $.alertMsg("新手机号码格式错误"),!1;if(a==b)return $.alertMsg("新手机号码不能和旧手机号码相同"),!1;if(""===c)return $.alertMsg("验证码不能为空"),!1;if(!this.getCodeObj.hasClass("noover"))return $.alertMsg("尚未获取验证码"),!1;var d={para:Global.encrypt({mobile:b,old_mobile:a,sms_code:c}),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.modifyPhone",data:d,dataType:"json",type:"post",success:function(a){"0000"==a.code?($.alertMsg("手机号码修改成功",!0),setTimeout(function(){modifyPhoneObj.goBack(),userCenterObj.getData()},2e3)):$.alertMsg(a.msg)}})},modifyPhoneObj.checkPhone=function(){if(this.getCodeObj.hasClass("noover"))return!1;var a=this.newTelObj.val(),b=this.oldTelObj.val();if(""===b)return $.alertMsg("旧手机号码不能为空"),!1;if(""===a)return $.alertMsg("新手机号码不能为空"),!1
;if(!/[0-9]{11}/g.test(Number(b)))return $.alertMsg("旧手机号码格式错误"),!1;if(loginObj.userInfo.mobile!==b)return $.alertMsg("请输入正确的旧手机号码"),!1;if(!/[0-9]{11}/g.test(Number(a)))return $.alertMsg("新手机号码格式错误"),!1;if(b==a)return $.alertMsg("新手机号码不能和旧手机号码相同"),!1;var c={access_token:loginObj.access_token,phone:a,summary:"modifyPhone"};this.setTime=modifyPhoneObj.defSetTime,this.getCodeObj.addClass("noover"),this.getCodeObj.html("请稍等"),$.ajax({url:ConfigObj.localSite+"?m=user.account.sendMobileCode",data:c,dataType:"json",type:"post",success:function(a){"0000"==a.code?modifyPhoneObj.setTimeCheck():($.alertMsg(a.code_str),modifyPhoneObj.setTimeCheck())}})},modifyPhoneObj.setTimeCheck=function(){this.getCodeObj.html(this.setTime+"秒后重新获取"),modifyPhoneObj.timer=setTimeout(function(){if(--modifyPhoneObj.setTime<=0)return modifyPhoneObj.getCodeObj.html("获取短信验证码"),modifyPhoneObj.getCodeObj.removeClass("noover"),!1;modifyPhoneObj.setTimeCheck()},1e3)},modifyPhoneObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},modifyPhoneObj.init=function(){modifyPhoneObj.setDefConfig(),modifyPhoneObj.onloadExecution()},modifyPhoneObj.setDefConfig=function(){modifyPhoneObj.defSetTime=120,modifyPhoneObj.setTime=120,modifyPhoneObj.timer&&(clearTimeout(modifyPhoneObj.timer),modifyPhoneObj.timer="")};var modifyPwdObj=new PageController({name:"modifyPwd",tpl:"template/user/modifyPwd.html"});modifyPwdObj.createDomObj=function(){this.oldPwdObj=$("#modifyPwd_oldPwdObj"),this.newPwdObj=$("#modifyPwd_newPwdObj"),this.resnewPwdObj=$("#modifyPwd_resnewPwdObj"),this.submitObj=$("#modifyPwd_submitObj"),this.backObj=$("#modifyPwd_backObj")},modifyPwdObj.createEvent=function(){this.oldPwdObj.add(this.newPwdObj).add(this.resnewPwdObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.oldPwdObj.add(this.newPwdObj).add(this.resnewPwdObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.submitObj.unbind("tap").tap(function(){modifyPwdObj.submitPwd()}),this.backObj.unbind("tap").tap(function(){modifyPwdObj.goBack()})},modifyPwdObj.submitPwd=function(){var a=this.oldPwdObj.val(),b=this.newPwdObj.val(),c=this.resnewPwdObj.val();if(""===a)return $.alertMsg("旧密码不能为空"),!1;if(a.length<6)return $.alertMsg("旧密码长度最少为6位"),!1;if(a.length>16)return $.alertMsg("旧密码长度最大为16位"),!1;if(""===b)return $.alertMsg("新密码不能为空"),!1;if(b.length<6)return $.alertMsg("新密码长度最少为6位"),!1;if(b.length>16)return $.alertMsg("新密码长度最大为16位"),!1;if(""===c)return $.alertMsg("确认密码不能为空"),!1;if(c.length<6)return $.alertMsg("确认密码长度最少为6位"),!1;if(c.length>16)return $.alertMsg("确认密码长度最大为16位"),!1;if(b!==c)return $.alertMsg("新密码和确认密码不一致"),!1;if(!/^[0-9a-zA-Z]*$/g.test(b))return $.alertMsg("密码只能为数字或字母"),!1;var d={para:Global.encrypt({oldPassWord:hex_md5(a),newPassWord:hex_md5(b)}),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.modifypwd",dataType:"json",type:"post",data:d,success:function(a){0===Number(a.code)?($.alertMsg("修改成功",!0),setTimeout(function(){loginObj.goBack=function(){},loginObj.goForward=function(){Global.GC(),userCenterObj.show()},loginObj.show()},2e3)):$.alertMsg(a.code_str)}})},modifyPwdObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},modifyPwdObj.init=function(){modifyPwdObj.onloadExecution()};var modifyStationInfoObj=new PageController({name:"modifyStationInfo",tpl:"template/user/modifyStationInfo.html"});modifyStationInfoObj.createDomObj=function(){this.wrapperObj=$("#modifyStationInfo_wrapperObj")},modifyStationInfoObj.createEvent=function(){this.wrapperObj.tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return modifyStationInfoObj.goBack(),!0}}var e=$.oto_checkEvent(a,"SPAN");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"del":return modifyStationInfoObj.delImg(c),!0}}var f=$.oto_checkEvent(a,"DIV");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"img":return modifyStationInfoObj.getImage(c),!0}}}),$("#modifyStationInfo_submit").unbind("tap").tap(function(){modifyStationInfoObj.submitFun()})},modifyStationInfoObj.initAreaEvent=function(){(new MobileSelectArea).init({trigger:"#modifyStationInfo_area",data:modifyStationInfoObj.cityData,default:1,position:"bottom",callback:function(a,b,c){"北京市"!=b[1]&&"天津市"!=b[1]&&"上海市"!=b[1]&&"重庆市"!=b[1]||(b[1]=" "),$("#modifyStationInfo_area").val(b.join(" ")),modifyStationInfoObj.locId=c[c.length-1]?c[c.length-1]:c[0]}})},modifyStationInfoObj.getImage=function(a){var b=a.parents(".m-img"),c=b.attr("data-v");"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.getCamraImage(c):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.getCamraImage(c)},modifyStationInfoObj.addImg=function(a,b){var c=$("#modifyStationInfo_img_"+b);c.find(".js_upload_1").show(),c.find(".js_upload_2").hide(),c.find("img").attr("src",a);var d={num:b,img:a};modifyStationInfoObj.imgArr.push(d),0==c.next(".m-img").length&&modifyStationInfoObj.addEnter()},modifyStationInfoObj.getMax=function(){for(var a=[],b=0;b<this.imgArr.length;b++){var c=this.imgArr[b];c&&c.num&&a.push(c.num)}var d=0;return a.sort(function(a,b){return a-b}),a.length>0&&(d=a[a.length-1]),d=parseInt(d,10)},modifyStationInfoObj.addEnter=function(){if(modifyStationInfoObj.imgArr.length>=10)return!1;var a=modifyStationInfoObj.getMax()+1,b='<div class="m-img"  data-v="'+a+'" id="modifyStationInfo_img_'+a+'"><div class="js_upload_1" style="display:none"><img src=""><span class="img-del font12" data-t="del" data-v="'+a+'"><em class="icon-sm del-sm"></em>删除</span></div><div class="js_upload_2 img-add gray" data-t="img"><em class="addImg_1">+图片</em></div></div>';$("#modifyStationInfo_imgWrap").append(b)},modifyStationInfoObj.delImg=function(a){var b=a.attr("data-v");a.parents(".m-img").remove();for(var c=-1,d=0;d<this.imgArr.length;d++){this.imgArr[d].num==b&&(c=d)}-1!=c&&this.imgArr.splice(c,1);var e=$("#modifyStationInfo_imgWrap").find(".m-img").length;this.imgArr.length==e&&modifyStationInfoObj.addEnter()},modifyStationInfoObj.getData=function(a){var b={station_id:a};$.ajax({url:ConfigObj.localSite+"?m=user.station.station_info",type:"post",data:b,dataType:"json",success:function(a){"0000"==a.code?(modifyStationInfoObj.hideLoading(),modifyStationInfoObj.formatHtml(a.info)):$.alertMsg(a.code_str)}})},modifyStationInfoObj.hideLoading=function(){$("#modifyStationInfo_loading").hide(),$("#modifyStationInfo_total").show()},modifyStationInfoObj.formatHtml=function(a){if($("#modifyStationInfo_id").html(a.station_id),$("#modifyStationInfo_name").val(a.station_name),$("#modifyStationInfo_area").val((a.province?a.province:"")+" "+a.city+" "+a.district),$("#modifyStationInfo_address").val(a.address),$("#modifyStationInfo_desc").val(a.describe?a.describe:""),a.area_list){var b=JSON.stringify(a.area_list);b=b.replace(/location_id/g,"id"),b=b.replace(/province_name/g,"name"),b=b.replace(/city_name/g,"name"),b=b.replace(/district_name/g,"name"),this.cityData=JSON.parse(b),this.initAreaEvent()}a.location_id&&(this.locId=a.location_id)},modifyStationInfoObj.checkFun=function(){return""==$("#modifyStationInfo_name").val()?($.alertMsg("请填写站点名称"),!1):""==$("#modifyStationInfo_area").val()?($.alertMsg("请选择站点区域"),!1):""==$("#modifyStationInfo_address").val()?($.alertMsg("请填写站点地址"),!1):""!=$("#modifyStationInfo_desc").val()||($.alertMsg("请填写站点简介"),!1)},modifyStationInfoObj.submitFun=function(){if(!this.checkFun())return!1;for(var a=[],b=0;b<this.imgArr.length;b++)this.imgArr[b]&&a.push(this.imgArr[b].img);var c="";c=a.join("#");var d=$("#modifyStationInfo_area").val().split(" "),e=d[d.length-1],f={station_id:$("#modifyStationInfo_id").text(),station_name:$("#modifyStationInfo_name").val(),provice:d[0],city:d[1],district:e,address:$("#modifyStationInfo_address").val(),describe:$("#modifyStationInfo_desc").val(),location_id:this.locId,image:c,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.station.addAudit",type:"post",data:f,dataType:"json",success:function(a){"0000"==a.code?($.alertMsg(a.code_str,!0),setTimeout(function(){modifyStationInfoObj.goBack()},1e3)):$.alertMsg(a.code_str)}})},modifyStationInfoObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},modifyStationInfoObj.init=function(){this.setDefConfig(),modifyStationInfoObj.onloadExecution()},modifyStationInfoObj.setDefConfig=function(){this.imgArr=[],this.cityData="",this.locId=""},modifyStationInfoObj.goBack=function(){};var modifyUserNameObj=new PageController({name:"modifyUserName",tpl:"template/user/modifyUserName.html"});modifyUserNameObj.createDomObj=function(){this.submitObj=$("#modifyUserName_submitObj"),this.tipsObj=$("#modifyUserName_tipsObj"),this.usernameObj=$("#modifyUserName_usernameObj"),this.backObj=$("#modifyUserName_backObj"),this.userLiObj=$("#modifyUserName_userLiObj"),this.nowName=$("#modifyUserName_nowName"),this.nowName.html(loginObj.userInfo.user_name)},modifyUserNameObj.createEvent=function(){function a(a){for(var c=$(a).val(),d=0;d<b.length;d++){var e=new RegExp(b[d],"g");if(-1!=c.indexOf(b[d])){var f=c.replace(e,"");c=f,$(a).val(f)}}}this.submitObj.unbind("tap").tap(function(){modifyUserNameObj.showTips()}),this.tipsObj.unbind("tap").tap(function(a){modifyUserNameObj.tipsEvent(a)}),this.backObj.unbind("tap").tap(function(a){modifyUserNameObj.goBack()}),this.userLiObj.unbind("tap").tap(function(a){modifyUserNameObj.usernameObj.focus()}),this.usernameObj[0].addEventListener("input",function(){this.value.length>18&&(this.value=this.value.substr(0,18))},!1),$("#modifyUserName_usernameObj").live("blur",function(){a($(this))});var b=["V信","微信","WeChat","wechat","qq","QQ","群","qun","群号","V+","手机号","公众号","阅读号","v+"]},modifyUserNameObj.tipsEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"close":this.hideTips();break;case"sub":this.subUserName()}return!0}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"tips":this.hideTips()}}},modifyUserNameObj.showTips=function(){this.usernameObj.blur();var a=this.usernameObj.val();if(!a)return $.alertMsg("新用户名不能为空"),!1;if(a.length<2||a.length>7)return $.alertMsg("用户名长度为2-7个字符"),!1;if(!isNaN(a))return $.alertMsg("用户名不能全部都是数字"),!1;loginObj.access_token;modifyUserNameObj.tipsObj.show()},modifyUserNameObj.hideTips=function(){this.tipsObj.hide()},modifyUserNameObj.subUserName=function(){var a=this.usernameObj.val(),b={newName:a,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.modifyUserName",data:b,type:"post",dataType:"json",success:function(a){"0000"==a.code?($.alertMsg("修改成功",!0),setTimeout(function(){modifyUserNameObj.goBack()},2e3)):$.alertMsg(a.code_str),modifyUserNameObj.hideTips()}})},modifyUserNameObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},modifyUserNameObj.init=function(){modifyUserNameObj.onloadExecution()};var nobindwechatObj=new PageController({name:"nobindwechat",tpl:"template/user/nobindwechat.html"});nobindwechatObj.createDomObj=function(){this.wrapObj=$("#nobindwechat_wrapObj"),this.backObj=$("#nobindwechat_backObj"),this.wechatObj=$("#wechat_number")},nobindwechatObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){nobindwechatObj.goBack()}),this.wechatObj.unbind("tap").tap(function(){nobindwechatObj.copy()})},nobindwechatObj.copy=function(){var a=this.wechatObj.html(),b=a.replace(/\"/g,"");return"android"==ConfigObj.platForm?void android_obj.copyTextToClipboard(b):"ios"==ConfigObj.platForm?void ios_obj.copyTextToClipboard(b):void 0},nobindwechatObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},nobindwechatObj.init=function(){this.onloadExecution()};var payStatusObj=new PageController({name:"payStatus",tpl:"template/user/payStatus.html"});payStatusObj.createDomObj=function(){if(this.progressCon=$("#payStatus_progressCon"),this.progressEnd=$("#payStatus_progressEnd"),this.backBtn=$("#payStatus_backbtn"),this.topTit=$("#payStatus_topTit"),this.botLink=$("#payStatus_botLink"),this.payStatusContinueLink=$("#payStatus_continue"),this.payStatusOrderLink=$("#payStatus_order"),this.recordLink=$("#payStatus_record"),this.projectLink=$("#payStatus_project"),this.refreshBtn=$("#payStatus_refreshBtn"),this.tryBtn=$("#payStatus_tryBtn"),void 0==ConfigObj.pay_id){var a=window.location.search,b=a.split("?"),c=b[1].split("&");ConfigObj.pay_id=c[1],ConfigObj.pay_channel=c[2]}payStatusObj.startTimer()},payStatusObj.createEvent=function(){this.backBtn.unbind("tap").tap(function(){payStatusObj.goBack()}),this.payStatusContinueLink.unbind("tap").tap(function(){Global.GC(),wechatpayAppObj.goBack=function(){payStatusObj.destroy(),wechatpayAppObj.destroy(),userCenterObj.show("reload")},wechatpayAppObj.show("reload")}),this.payStatusOrderLink.unbind("tap").tap(function(){"order"==payStatusObj.target_type&&payStatusObj.target_id&&(rechargeStatusObj.goBack=function(){rechargeStatusObj.destroy(),rechargeRecordObj.goBack=function(){rechargeRecordObj.destroy(),wechatpayAppObj.show(!0)},rechargeRecordObj.show()},rechargeStatusObj.show("reload",function(){rechargeStatusObj.getData(payStatusObj.target_id)})),"project"==payStatusObj.target_type&&Global.open("?pageName=projectDetail&pid="+payStatusObj.target_id),"plan"==payStatusObj.target_type&&Global.open("?pageNam=planDetail&plan_id=planId"+payStatusObj.target_id)}),this.projectLink.unbind("tap").tap(function(){payStatusObj.goProjectDetail()}),this.refreshBtn.unbind("tap").tap(function(){payStatusObj.delayRefresh()}),this.tryBtn.unbind("tap").tap(function(){payStatusObj.tryAgain()})},payStatusObj.goBack=function(){Global.GC(),payStatusObj.destroy(),homeObj.show()},payStatusObj.delayRefresh=function(){this.count=0,this.refreshBtn.hide(),this.startTimer()},payStatusObj.startTimer=function(){setTimeout(function(){payStatusObj.getPayStatus("first")},200),payStatusObj.ticket_timer=setInterval(function(){payStatusObj.getPayStatus()},6e3)},payStatusObj.getPayStatus=function(a){var b=this,c={pay_id:ConfigObj.pay_id,channel:ConfigObj.pay_channel},d={para:Global.encrypt(c)};b.count=b.count+1,$.ajax({url:ConfigObj.localSite+"?m=cashier.check.status",type:"post",data:d,dataType:"json",success:function(c){if("0000"==c.code){if(c.info=$.parseJSON(Global.crypt(c.info)),"not"==c.info.status){"first"==a&&(b.startPoint=0,b.endPoint=100,b.totalTime=0);var d={time:0};b.updateProgress(d),b.updateStatus("process",c.info)}if("succ"==c.info.status)if(b.updateStatus("success",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer=""),"android"===ConfigObj.platForm){var e=b.timeOut,f=b.timeOutBack,g="",h="";"alipayWap"==c.info.channel?(g="2",h=c.info.package_list.alipaywap.channel_amount):"wechatpayWap"==c.info.channel&&(g="1",h=c.info.package_list.wechatpaywap.channel_amount),android_obj.payStatistics(h,g),e&&f&&($("#payStatus_autoJumpTip").show(),setTimeout(function(){b.setDefConfig(),Global.open(f)},e))}else"ios"===ConfigObj.platForm&&($("#payStatus_autoJumpTip").show(),setTimeout(function(){if("account"===b.from)accountObj.show(!0);else if("userCenter"===b.from)userCenterObj.show(!0);else if("buyConfirm"===b.from){var a=buyConfirmObj.data;buyConfirmObj.show(!0,function(){buyConfirmObj.setData(a)})}},2e3));else"fail"==c.info.status?(b.updateStatus("fail",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer="")):"delay"==c.info.status&&(b.updateStatus("delay",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer=""))}}})},payStatusObj.updateProgress=function(a){payStatusObj.progress||(payStatusObj.progress=new CircularProgress({radius:60,lineWidth:10,strokeStyle:"#ff2c01"}),payStatusObj.progressCon.find(".outer").get(0).appendChild(payStatusObj.progress.el));var b=payStatusObj.totalTime-parseInt(a.time);payStatusObj.endPoint=0==payStatusObj.totalTime?100:Math.abs(b/payStatusObj.totalTime*100),payStatusObj.progress.run(payStatusObj.startPoint,payStatusObj.endPoint,function(){payStatusObj.startPoint=payStatusObj.endPoint,100==payStatusObj.endPoint&&(payStatusObj.progressCon.find("canvas").remove(),payStatusObj.progress=null,payStatusObj.startPoint=0)})},payStatusObj.updateStatus=function(a,b){var c="";"success"==a?(this.dirPay?b.status_cn="支付成功":b.status_cn="充值成功",this.progressCon.hide(),this.progressEnd.show(),c='<p class="state2"><span class="succeed statebg">'+b.status_cn+"</span></p>",this.progressEnd.find(".inner").html(c),this.progressEnd.children("div").removeClass("circle_fail").addClass("circle_succeed"),this.botLink.show()):"process"==a?(this.dirPay?b.status_cn="正在支付":b.status_cn="正在充值",this.progressEnd.hide(),this.progressCon.show(),c='<p class="state1 pt25"><span>'+b.status_cn+"</span></p>",this.progressCon.find(".inner").html(c)):"fail"==a?(this.dirPay?b.status_cn="支付失败":b.status_cn="充值失败",this.progressCon.hide(),c='<p class="state2"><span class="fail statebg">'+b.status_cn+"</span></p>",this.progressEnd.show(),this.progressEnd.find(".inner").html(c),this.progressEnd.children("div").removeClass("circle_succeed").addClass("circle_fail"),this.botLink.show(),this.refreshBtn.hide(),this.tryBtn.show()):"delay"==a&&(this.dirPay&&(b.status_cn="正在支付"),this.progressEnd.hide(),this.progressCon.show(),c='<p class="state1 pt25"><span>'+b.status_cn+"</span></p>",this.progressCon.find(".inner").html(c),this.refreshBtn.show(),this.tryBtn.hide())},payStatusObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},payStatusObj.init=function(){payStatusObj.setDefConfig(),payStatusObj.onloadExecution()},payStatusObj.setDefConfig=function(){this.pay_id="",this.channel="",this.target_type="",this.target_id="",this.dirPay=!1,this.from="",this.timeOut="",this.timeOutBack="",this.back="",this.count=0,this.startPoint=0,this.endPoint=100,this.progress="",payStatusObj.ticket_timer&&(clearInterval(payStatusObj.ticket_timer),payStatusObj.ticket_timer="")},payStatusObj.setData=function(a){payStatusObj.pay_id=a.pay_id,payStatusObj.target_type=a.target_type,payStatusObj.target_id=a.target_id,payStatusObj.channel=a.channel},payStatusObj.setDirPay=function(){this.dirPay=!0,$("#payStatus_backbtn").hide(),$("#payStatus_botLinkB").show(),$("#payStatus_title").text("支付状态"),$("#payStatus_desc1").text("支付成功"),$("#payStatus_desc2").text("正在支付")},payStatusObj.setCancelStatus=function(){payStatusObj.updateStatus("fail",{status_cn:"充值失败"}),payStatusObj.ticket_timer&&(clearInterval(payStatusObj.ticket_timer),payStatusObj.ticket_timer="")},payStatusObj.dirShow=function(a){this.show(!0,function(){a=a||{};for(var b in a)if(a.hasOwnProperty(b)&&(this[b]=a[b],"pay_id"===b&&this.startTimer(),"back"===b&&(this.goBack=function(){Global.open(a.back)}),"direct"===b)){this.setDirPay();var c=window.localStorage.getItem("directPayStatusData");c&&(c=JSON.parse(c),this.setData(c),window.localStorage.removeItem("directPayStatusData"))}}.bind(this))};var protocolObj=new PageController({name:"protocol",tpl:"template/user/protocol.html"});protocolObj.createDomObj=function(){this.backObj=$("#protocol_backbtn")},protocolObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){protocolObj.goBack()})},protocolObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},protocolObj.init=function(){protocolObj.setDefConfig(),protocolObj.onloadExecution()},protocolObj.setDefConfig=function(){};var rechargeStatusObj=new PageController({name:"rechargeStatus",tpl:"template/user/rechargeStatus.html"});rechargeStatusObj.createDomObj=function(){this.wrapperObj=$("#rechargeStatus_wrapperObj"),this.backObj=$("#rechargeStatus_backbtn"),this.rechargeIdxObj=$("#rechargeStatus_rechargeIdx"),this.betIdxObj=$("#rechargeStatus_betIdx"),this.wrapA=$("#rechargeStatus_wrapA"),this.wrapB=$("#rechargeStatus_wrapB"),this.wrapC=$("#rechargeStatus_wrapC")},rechargeStatusObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){rechargeStatusObj.goBack()}),this.rechargeIdxObj.unbind("tap").tap(function(){wechatpayWebObj.goBack=function(){wechatpayWebObj.destroy(),userCenterObj.show(!0)},wechatpayWebObj.dirShow({from:"rechargeStatus"})}),this.betIdxObj.unbind("tap").tap(function(){Global.GC(),homeObj.show()})},rechargeStatusObj.formatHtmlA=function(a){var b="fontred";-1!==["not","cancel","Audited","Closed"].indexOf(a.current_status)&&(b="gray");var c='<p class="pt15">订单号:'+a.order_id+'</p><p class="font12 gray">'+a.create_time+'</p><span class="font16 '+b+' money">';a.income_type&&("in"==a.income_type?c+="+":c+="-"),c+=a.amount+"元</span>",this.wrapA.html(c)},rechargeStatusObj.formatHtmlB=function(a){var b='<span class="line line_over"><em class="dot dot_over"></em></span>';"not"==a.current_status?b+='<span class="line"><em class="dot dot_half"></em></span>':"succeed"==a.current_status||"payed"==a.current_status||"close"==a.current_status?b+='<span class="line line_over"><em class="dot dot_over"></em></span>':(a.current_status,b+='<span class="line"><em class="dot"></em></span>'),"succeed"==a.current_status||"close"==a.current_status?b+='<span class="line"><em class="dot dot_over"></em></span>':(a.current_status,b+='<span class="line"><em class="dot"></em></span>'),this.wrapB.html(b)},rechargeStatusObj.formatHtmlC=function(a){var b='<div class="jdli"><p class="font16">'+a.create_info.item_cn+'</p><p class="font12 gray" '+(""==a.create_info.notice_msg?' style="display:none" ':"")+">"+a.create_info.notice_msg+'</p><p class="font12 gray">'+a.create_info.time_desc+'</p></div><div class="jdli"><p class="font16">'+a.process_info.item_cn+'</p><p class="font12 gray" '+(""==a.process_info.notice_msg?'style="display:none"':"")+">"+a.process_info.notice_msg+'</p><p class="font12 gray">'+a.process_info.time_desc+'</p></div><div class="jdli"><p class="font16">'+a.end_info.item_cn+'</p><p class="font12 gray">'+a.end_info.time_desc+"</p></div>";this.wrapC.html(b)},rechargeStatusObj.getData=function(a){var b={oid:a},c={para:Global.encrypt(b),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.order.save",data:c,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),rechargeStatusObj.formatHtmlA(a.info),rechargeStatusObj.formatHtmlB(a.info),rechargeStatusObj.formatHtmlC(a.info),$("#rechargeStatus_topTit").html(a.info.template_title)):$.alertMsg(a.code_str)}})},rechargeStatusObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},rechargeStatusObj.init=function(){rechargeStatusObj.onloadExecution()},rechargeStatusObj.setDefConfig=function(){},rechargeStatusObj.dirShow=function(a){this.show();var b=a&&a.id?a.id:"";this.getData(b)};var regByMobileObj=new PageController({name:"regByMobile",tpl:"template/user/regByMobile.html"});regByMobileObj.createDomObj=function(){this.wrapperObj=$("#regByMobile_wrapperObj"),this.smObj=$("#regByMobile_smObj"),this.showPwdObj=$("#regByMobile_showPwdObj"),this.switchObj=$("#regByMobile_switchObj"),this.pwdDivObj=$("#regByMobile_pwdDivObj"),this.toggleObj=$("#regByMobile_toggle")},regByMobileObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"updateCode":regByMobileObj.updateCode(c);break;case"updateMsg":regByMobileObj.updateMsg(c)}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"subReg":regByMobileObj.subReg();break;case"fj":regByMobileObj.goSite();break;case"sm":regByMobileObj.scan();break;case"back":regByMobileObj.goBack();break;case"login":regByMobileObj.goLogin();break;case"proto":regByMobileObj.goProto()}}}),regByMobileObj.smObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"DIV");b&&"smObj"==b.id&&regByMobileObj.smObj.hide();var c=$.oto_checkEvent(a,"A");if(c){switch($(c).attr("data-t")){case"qux":regByMobileObj.smObj.hide()}}}),this.showPwdObj.unbind("tap").tap(function(){regByMobileObj.showPwd()}),this.wrapperObj.find("input").unbind("focus").focus(function(){if("login_pwd"==this.name)return $(this).parent().parent().addClass("focus"),!1;$(this).parent().addClass("focus")}),this.wrapperObj.find("input").unbind("blur").blur(function(){if("login_pwd"==this.name)return $(this).parent().parent().removeClass("focus"),!1;$(this).parent().removeClass("focus")}),this.toggleObj.unbind("tap").tap(function(){"none"!=$("#regByMobile_sitewrap").css("display")?(regByMobileObj.toggleObj.find("em").addClass("trans"),$("#regByMobile_sitewrap").hide()):(regByMobileObj.toggleObj.find("em").removeClass("trans"),$("#regByMobile_sitewrap").show())})},regByMobileObj.goLogin=function(){loginObj.show()},regByMobileObj.goProto=function(){protocolObj.goBack=function(){protocolObj.destroy(),regByMobileObj.show()},protocolObj.show()},regByMobileObj.scan=function(){"ios"==ConfigObj.platForm?cordova.plugins.barcodeScanner.scan(function(a){if(a.text){for(var b="",c=a.text.split("?")[1],d=c.split("&"),e=0;e<d.length;e++){"station_no"==d[e].split("=")[0]&&(b=d[e].split("=")[1])}regByMobileObj.setSid(b)}},function(a){alert("Scanning failed: "+a)}):"android"==ConfigObj.platForm&&android_obj.scanQRCode()},regByMobileObj.goSite=function(){localSiteObj.show("",function(){localSiteObj.pushRoute(function(){regByMobileObj.show()})})},regByMobileObj.showPwd=function(){this.switchObj.hasClass("move")?(this.pwdDivObj.html('<input type="password" placeholder="6-16位字母/数字" id="regByMobile_password">'),this.switchObj.removeClass("move"),this.switchObj.prev().hide(),this.switchObj.next().show()):(this.pwdDivObj.html('<input type="text" placeholder="6-16位字母/数字" id="regByMobile_password">'),this.switchObj.addClass("move"),this.switchObj.prev().show(),this.switchObj.next().hide()),this.pwdDivObj.find("input").focus(function(){regByMobileObj.pwdDivObj.parent().addClass("focus")}),this.pwdDivObj.find("input").blur(function(){regByMobileObj.pwdDivObj.parent().removeClass("focus")})},regByMobileObj.updateCode=function(a){if(!this.msgCheck)return!1;var b=(new Date).getTime(),c=a.children("img")[0];c.src=c.src.split("?")[0]+"?code="+b},regByMobileObj.updateMsg=function(a){if(a.hasClass("load"))return!1;a.html("发送中"),$.ajax({url:ConfigObj.localSite+"?m=user.account.setRegSmsCode",data:"mobile="+$.trim($("#regByMobile_mobile").val()),type:"post",dataType:"json",success:function(b){if("0000"!==b.code)return $.alertMsg(b.code_str),a.html("获取短信验证码"),!1;regByMobileObj.successMsg(a)}})},regByMobileObj.successMsg=function(a){regByMobileObj.msgCheck=!1,a.addClass("load"),regByMobileObj.timeObj&&clearInterval(regByMobileObj.timeObj),regByMobileObj.timeObj=setInterval(function(){a.html(regByMobileObj.msgTime+"秒后重新请求"),0==--regByMobileObj.msgTime&&(regByMobileObj.msgTime=120,regByMobileObj.msgCheck=!0,a.removeClass("load"),a.html("获取短信验证码"),clearInterval(regByMobileObj.timeObj))},1e3)},regByMobileObj.createRegData=function(){for(var a=this.wrapperObj.find("input"),b=new Object,c=0,d=a.length;c<d;c++){var e=a.eq(c).attr("name");e&&(b[e]="login_pwd"==e?hex_md5(a.eq(c).val()):$.trim(a.eq(c).val()))}return"android"==ConfigObj.platForm?b.terminal=2:"ios"==ConfigObj.platForm&&(b.terminal=3),b},regByMobileObj.subReg=function(){return""==$("#regByMobile_mobile").val()?($.alertMsg("请输入手机号码",!1),!1):""==$("#regByMobile_code").val()?($.alertMsg("请输入验证码",!1),!1):""==$("#regByMobile_password").val()?($.alertMsg("请输入密码",!1),!1):""==$("#regByMobile_station").val()?($.alertMsg("请输入站点编号",!1),!1):this.checkPwd()?void $.ajax({url:ConfigObj.localSite+"?m=user.account.regByMobile",data:this.createRegData(),dataType:"json",type:"post",success:function(a){"0000"==a.code?($.alertMsg(a.code_str,!0),setTimeout(function(){regRealNameObj.goBack=function(){Global.GC(),homeObj.show()},regRealNameObj.show("reload",function(){var b={accountName:a.info.account_name};regRealNameObj.setData(b)})},1e3)):$.alertMsg(a.code_str)}}):($.alertMsg("密码为6-16位的数字或字母，不包含空格"),!1)},regByMobileObj.checkPwd=function(){return!!/^[a-zA-Z0-9]{6,16}$/.test($("#regByMobile_password").val())},regByMobileObj.setSid=function(a){$("#regByMobile_station").val(a)},regByMobileObj.setDefConfig=function(){regByMobileObj.msgTime=120,regByMobileObj.msgCheck=!0,regByMobileObj.timeObj&&(clearInterval(regByMobileObj.timeObj),regByMobileObj.timeObj="")},regByMobileObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent()},regByMobileObj.init=function(){regByMobileObj.onloadExecution()},regByMobileObj.dirShow=function(a){regByMobileObj.show(),a.sid&&setTimeout(function(){regByMobileObj.setSid(a.sid)},500)};var registerObj=new PageController({name:"register",tpl:"template/user/register.html"});registerObj.createDomObj=function(){this.wrapperObj=$("#register_wrapperObj"),this.showPwdObj=$("#register_showPwdObj"),this.switchObj=$("#register_switchObj"),this.pwdDivObj=$("#register_pwdDivObj"),this.toggleObj=$("#register_toggle")},registerObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"back":return registerObj.goBack(),!0;case"help":return $.alertMsg("正在建设中"),!0;case"login":return registerObj.goLogin(),!0;case"proto":return registerObj.goProtocol(),!0}}var e=$.oto_checkEvent(a,"A");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"subReg":return registerObj.subFun(),!0;case"showTel":return $("#register_telTip").show(),!0;case"clearTelTip":return $("#register_telTip").hide(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"updateCode":return registerObj.getData(),!0;case"updateMsg":return registerObj.getMsg(),!0}}}),this.showPwdObj.unbind("tap").tap(function(){registerObj.showPwd()});var a=this.wrapperObj.find("input");a.unbind("focus").focus(function(){a.parent().parent().find("li").removeClass("focus"),$(this).parent().addClass("focus")}),a.unbind("blur").blur(function(){a.parent().parent().find("li").removeClass("focus")}),$("#register_scan").unbind("tap").tap(function(){registerObj.scan()})},registerObj.checkUserName=function(a){return 0!=a.search(/\d/)||($.alertMsg("用户名不能以数字开头"),!1)},registerObj.showPwd=function(){if(this.switchObj.hasClass("move")){var a=$("#register_password").val();this.pwdDivObj.html('<input type="password" placeholder="6-16位字母/数字" id="register_password" value="'+a+'">'),this.switchObj.removeClass("move"),this.switchObj.prev().hide(),this.switchObj.next().show()}else{var a=$("#register_password").val();this.pwdDivObj.html('<input type="text" placeholder="6-16位字母/数字" id="register_password" value="'+a+'">'),this.switchObj.addClass("move"),this.switchObj.prev().show(),this.switchObj.next().hide()}this.pwdDivObj.find("input").focus(function(){registerObj.pwdDivObj.parents(".act_box").addClass("focus")}),this.pwdDivObj.find("input").blur(function(){registerObj.pwdDivObj.parents(".act_box").removeClass("focus")})},registerObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},registerObj.setSid=function(a){$("#register_code2").val(a)},registerObj.goLogin=function(){loginObj.goBack=function(){userCenterObj.show()},loginObj.show()},registerObj.genUuid=function(){var a=String(Math.random()).slice(2)+String(Math.random()).slice(2);return registerObj.uuid=a,a},registerObj.autoRefreshRegImgCode=function(){},registerObj.getData=function(){$("#register_img").attr("src",ConfigObj.localSite+"?m=user.account.getRegImgCode&uuid="+registerObj.genUuid()),clearInterval(registerObj.refreshRegImgCodeInterval)},registerObj.getMsg=function(){if(!$("#register_updateMsg").hasClass("alreadysend")){var a=$("#register_userName").val();if(0==a.length)return $.alertMsg("请先填写手机号码"),!1;if(!/^1\d{10}$/g.test(a))return $.alertMsg("手机号码格式错误"),!1;$("#register_updateMsg").html("发送中"),Global.post("?m=user.account.sendMobileCode",{phone:a,summary:"register"},function(a){"0000"==a.code?$.alertMsg("短信验证码发送成功",!0):$.alertMsg(a.code_str),$("#register_updateMsg").html("120秒后再次发送");var b=120;registerObj.msgInterval=setInterval(function(){if(0==b)return clearInterval(registerObj.msgInterval),void $("#register_updateMsg").removeClass("alreadysend").html("获取短信验证码")
;$("#register_updateMsg").addClass("alreadysend").html(--b+"秒后再次发送")},1e3)},function(){})}},registerObj.subFun=function(){var a=$("#register_userName").val(),b=$("#register_password").val(),c=$("#register_repwdDivObj").val(),d=$("#register_smsCode").val();if(0==a.length)return void $.alertMsg("请输入手机号码");if(!/^1\d{10}$/.test(a))return void $.alertMsg("手机号码格式错误");if(0==b.length)return void $.alertMsg("请输入密码");if(!/^\w{6,16}$/.test(b))return void $.alertMsg("密码只能是6-16位字母数字");if(b!=c)return void $.alertMsg("两次密码不一致");if(0==d.length)return void $.alertMsg("请输入短信验证码");var e={mobile:a,login_pwd:b,source:ConfigObj.umengChannel,re_login_pwd:c,sms_code:d,channel_number:ConfigObj.zdid},f={para:Global.encrypt(e)},g=Global.simpleLoading.open();$.ajax({url:ConfigObj.localSite+"?m=user.account.regByAstv",data:f,type:"post",dataType:"json",success:function(c){if(Global.simpleLoading.close(g),"0000"==c.code){var d={userName:a,passWord:hex_md5(b)},e={para:Global.encrypt(d)};$.ajax({url:ConfigObj.localSite+"?m=user.account.login",data:e,type:"post",dataType:"json",success:function(a){"0000"==a.code&&(a.info=$.parseJSON(Global.crypt(a.info)),loginObj.destroy(),loginObj.isLogin=!0,loginObj.tokenWin(a.info.token.access_token),loginObj.goForward=function(){},loginObj.getUserInfo(),userCenterObj.getData())}}),$.alertMsg(c.code_str,!0),setTimeout(function(){homeObj.show()},1500)}else $.alertMsg(c.code_str||c.msg)},error:function(){Global.simpleLoading.close(g)}})},registerObj.scan=function(){"ios"==ConfigObj.platForm?ios_obj.scanQRCode("register"):"android"===ConfigObj.platForm&&android_obj.scanQRCode("register")},registerObj.goProtocol=function(){protocolObj.goBack=function(){protocolObj.destroy(),registerObj.show()},protocolObj.show()},registerObj.init=function(){registerObj.onloadExecution(),this.getData()},registerObj.setDefConfig=function(){},registerObj.dirShow=function(a){registerObj.show(),a.sid&&setTimeout(function(){registerObj.setSid(a.sid)},500)};var regRealNameObj=new PageController({name:"regRealName",tpl:"template/user/regRealName.html"});regRealNameObj.destroy=function(){this.setDefConfig(),$("#"+this.name).html("").remove(),regRealNameObj.loading&&Global.simpleLoading.close(regRealNameObj.loading)},regRealNameObj.createDomObj=function(){this.wrapObj=$("#regRealName_wrap"),this.nameObj=$("#regRealName_nameObj"),this.ucodeObj=$("#regRealName_ucodeObj"),this.subObj=$("#regRealName_subObj"),this.tgObj=$("#regRealName_tgObj"),this.backObj=$("#regRealName_back")},regRealNameObj.createEvent=function(){this.wrapObj.tap(function(a){var b=$.oto_checkEvent(a,"SPAN");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"del":return regRealNameObj.delImg(c),!0}}var e=$.oto_checkEvent(a,"DIV");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"img":return regRealNameObj.getImage(c),!0}}var f=$.oto_checkEvent(a,"A");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"clearTip":return $("#regRealName_tip").hide(),!0;case"confirmTip":return $("#regRealName_tip").hide(),regRealNameObj.subUserName(),!0}}}),this.wrapObj.find("input").unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.wrapObj.find("input").unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.subObj.unbind("tap").tap(function(){regRealNameObj.showTip()}),$("#regRealName_cardType label").unbind("tap").tap(function(){$(this).hasClass("selected")||($("#regRealName_ucodeObj").val(""),$("#regRealName_nameObj").val(""),[1,2,3].forEach(function(a){var b=$("#regRealName_img_"+a);b.find(".js_upload_1").hide(),b.find(".js_upload_2").show()})),$("#regRealName_cardType label").removeClass("selected"),$(this).addClass("selected"),[1,2,3].forEach("passport"==$(this).attr("data-v")?function(a,b){$("#regRealName_picDesc_"+a).html(["证件主页","签证页面","手持证件"][b]),$("#regRealName_pic_"+a).attr("src","images/passport"+a+".png")}:function(a,b){$("#regRealName_picDesc_"+a).html(["证件正面","证件反面","手持证件"][b]),$("#regRealName_pic_"+a).attr("src","images/z"+a+".png")})}),this.tgObj.unbind("tap").tap(function(){Global.GC(),loginObj.show()});var a=$("#regRealName_ucodeObj").on("input",function(b){var c=$("#regRealName_cardType label.selected"),d=c.attr("data-v"),e=a.val();"id_card"===d&&(e.length<18&&(e=e.replace(/[^\d]*/g,"")),(e.length=!/(\d|X|x)/.test(e[17]))&&(e=e.substr(0,17)),e.length>18&&(e=e.substr(0,18))),a.val(e.toUpperCase())});this.backObj.unbind("tap").tap(function(){regRealNameObj.goBack()})},regRealNameObj.showTip=function(){var a=$("#regRealName_nameObj").val(),b=$.trim($("#regRealName_ucodeObj").val());this.accountName;return""==a?($.alertMsg("请填写姓名"),!1):""==b?($.alertMsg("请填写证件号码"),!1):($("#regRealName_name2").html($("#regRealName_nameObj").val()),$("#regRealName_id2").html($("#regRealName_ucodeObj").val()),void $("#regRealName_tip").show())},regRealNameObj.subUserName=function(){var a=this,b=$("#regRealName_nameObj").val(),c=$.trim($("#regRealName_ucodeObj").val()),d=this.accountName,e={type:$("#regRealName_cardType label.selected").attr("data-v"),real_name:b,id_card:c,account_name:d},f={para:Global.encrypt(e)},g=Global.simpleLoading.open();Global.post("?m=user.account.regByRealName",f,function(b){if(Global.simpleLoading.close(g),"0000"!=b.code)return $.alertMsg(b.code_str),!1;b.info=$.parseJSON(Global.crypt(b.info)),setTimeout(function(){$.alertMsg(b.code_str,!0)},0),"buy"==a.from?(loginObj.addScore("real"),loginObj.goForward=function(){},loginObj.getUserInfo(),setTimeout(function(){a.goBack()},1500)):"cashier"==a.from?(loginObj.addScore("real"),loginObj.goForward=function(){},loginObj.getUserInfo(),setTimeout(function(){a.goBack()},1500)):"userInfo"==a.from?(loginObj.addScore("real"),loginObj.goForward=function(){},loginObj.getUserInfo(),$.alertMsg(b.code_str),setTimeout(function(){a.goBack()},1500)):"scoreAct"==a.from?(loginObj.addScore("real"),loginObj.goForward=function(){},loginObj.getUserInfo(),setTimeout(function(){a.destroy(),scoreActObj.show("reload",function(){scoreActObj.getData()})},1500)):(loginObj.goForward=function(){loginObj.addScore("real"),userCenterObj.goBack=function(){userCenterObj.destroy(),homeObj.show()},setTimeout(function(){userCenterObj.show()},1500)},setTimeout(function(){Global.GC(),loginObj.show()},1500))},function(){Global.simpleLoading.close(g),$.alertMsg("请求失败！请检查您的网络连接。")})},regRealNameObj.getImgSource=function(a){for(var b="",c=0;c<this.imgArr.length;c++)this.imgArr[c].num==a&&(b=this.imgArr[c].img);return b},regRealNameObj.getImage=function(a){var b=a.parents(".paper-item"),c=b.attr("data-v"),d=a.attr("data-v");regRealNameObj.loading=Global.simpleLoading.open({timeOut:2e3}),"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.getCamraImage(d,c):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.getCamraImage(d,c)},regRealNameObj.addImg=function(a,b){var c=$("#regRealName_img_"+b);c.find(".js_upload_1").show(),c.find(".js_upload_2").hide(),c.find(".js_upload_1").find("img").attr("src",a);var d={num:b,img:a};regRealNameObj.imgArr.push(d)},regRealNameObj.delImg=function(a){var b=a.attr("data-v"),c=a.parents(".paper-item");c.find(".js_upload_1").hide(),c.find(".js_upload_1").find("img").attr("src",""),c.find(".js_upload_2").show();for(var d=-1,e=0;e<this.imgArr.length;e++){this.imgArr[e].num==b&&(d=e)}-1!=d&&this.imgArr.splice(d,1)},regRealNameObj.setData=function(a){this.accountName=a.accountName,this.from=a.from},regRealNameObj.setDefConfig=function(){this.accountName="",this.from="",this.imgArr=[]},regRealNameObj.onloadExecution=function(){this.setDefConfig(),this.createDomObj(),this.createEvent()},regRealNameObj.init=function(){regRealNameObj.onloadExecution()};var regSuccessObj=new PageController({name:"regSuccess",tpl:"template/user/regSuccess.html"});regSuccessObj.createDomObj=function(){},regSuccessObj.createEvent=function(){$("#regSuccess_backbtn").unbind("tap").tap(function(){regSuccessObj.goBack()}),$("#regSuccess_home").unbind("tap").tap(function(){homeObj.show()}),$("#regSuccess_realname").unbind("tap").tap(function(){regRealNameObj.goBack=function(){Global.GC(),homeObj.show()};var a={from:"userInfo",accountName:regSuccessObj.accountName};regRealNameObj.show(!0,function(){regRealNameObj.setData(a)})})},regSuccessObj.setData=function(a){a&&(this.accountName=a.accountName)},regSuccessObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},regSuccessObj.init=function(){regSuccessObj.onloadExecution()},regSuccessObj.setDefConfig=function(){this.accountName=""},regSuccessObj.dirShow=function(){this.show()};var resetPwdObj=new PageController({name:"resetPwd",tpl:"template/user/resetPwd.html"});resetPwdObj.createDomObj=function(){this.newPwdObj=$("#resetPwd_newPwdObj"),this.resnewPwdObj=$("#resetPwd_resnewPwdObj"),this.submitObj=$("#resetPwd_submitObj"),this.backObj=$("#resetPwd_backObj")},resetPwdObj.createEvent=function(){this.newPwdObj.add(this.resnewPwdObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.newPwdObj.add(this.resnewPwdObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.submitObj.unbind("tap").tap(function(){resetPwdObj.submitPwd()}),this.backObj.unbind("tap").tap(function(){resetPwdObj.goBack()}),$("#resetPwd_ask").unbind("tap").tap(function(){feedbackObj.show("",function(){feedbackObj.pushRoute(function(){resetPwdObj.show()})})})},resetPwdObj.submitPwd=function(){var a=this.newPwdObj.val(),b=this.resnewPwdObj.val();if(""===a)return $.alertMsg("新密码不能为空"),!1;if(a.length<6)return $.alertMsg("新密码长度最少为6位"),!1;if(a.length>16)return $.alertMsg("新密码长度最大为16位"),!1;if(""===b)return $.alertMsg("确认密码不能为空"),!1;if(b.length<6)return $.alertMsg("确认密码长度最少为6位"),!1;if(b.length>16)return $.alertMsg("确认密码长度最大为16位"),!1;if(a!==b)return $.alertMsg("新密码和确认密码不一致"),!1;if(!/^[0-9a-zA-Z]*$/g.test(a))return $.alertMsg("密码只能为数字或字母"),!1;var c={passWord1:hex_md5(a),passWord2:hex_md5(b),channelType:resetPwdObj.type,userName:resetPwdObj.userName};$.ajax({url:ConfigObj.localSite+"?m=user.account.findPwd",dataType:"json",type:"post",data:c,success:function(a){0===Number(a.code)?($.alertMsg("修改成功",!0),setTimeout(function(){loginObj.goBack=function(){},loginObj.goForward=function(){Global.GC(),userCenterObj.show()},loginObj.show(!0,function(){$("#login_backBtn span").addClass(".opa4")})},2e3)):$.alertMsg(a.code_str)}})},resetPwdObj.setData=function(a){a&&(this.type=a.type,this.userName=a.userName),this.type?$("#resetPwd_title").html("密码找回"):$("#resetPwd_title").html("修改密码")},resetPwdObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},resetPwdObj.init=function(){this.setDefConfig(),resetPwdObj.onloadExecution()},resetPwdObj.setDefConfig=function(){this.userName="",this.type=""};var setPwdObj=new PageController({name:"setPwd",tpl:"template/user/setPwd.html"});setPwdObj.createDomObj=function(){this.oldPwdObj=$("#setPwd_oldPwdObj"),this.newPwdObj=$("#setPwd_newPwdObj"),this.resnewPwdObj=$("#setPwd_resnewPwdObj"),this.submitObj=$("#setPwd_submitObj"),this.backObj=$("#setPwd_backObj")},setPwdObj.createEvent=function(){this.oldPwdObj.add(this.newPwdObj).add(this.resnewPwdObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.oldPwdObj.add(this.newPwdObj).add(this.resnewPwdObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.submitObj.unbind("tap").tap(function(){setPwdObj.submitPwd()}),this.backObj.unbind("tap").tap(function(){setPwdObj.goBack()})},setPwdObj.submitPwd=function(){var a=this.newPwdObj.val(),b=this.resnewPwdObj.val();if(""===a)return $.alertMsg("新密码不能为空"),!1;if(a.length<6)return $.alertMsg("新密码长度最少为6位"),!1;if(a.length>16)return $.alertMsg("新密码长度最大为16位"),!1;if(""===b)return $.alertMsg("确认密码不能为空"),!1;if(b.length<6)return $.alertMsg("确认密码长度最少为6位"),!1;if(b.length>16)return $.alertMsg("确认密码长度最大为16位"),!1;if(a!==b)return $.alertMsg("新密码和确认密码不一致"),!1;if(!/^[0-9a-zA-Z]*$/g.test(a))return $.alertMsg("密码只能为数字或字母"),!1;var c={para:Global.encrypt(hex_md5(a)),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.setPwd",dataType:"json",type:"post",data:c,success:function(a){0===Number(a.code)?($.alertMsg("设置密码成功",!0),setTimeout(function(){userCenterObj.show(),userCenterObj.getData()},2e3)):$.alertMsg(a.code_str)}})},setPwdObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},setPwdObj.init=function(){setPwdObj.onloadExecution()};var stationRechargeObj=new PageController({name:"stationRecharge",tpl:"template/user/stationRecharge.html"});stationRechargeObj.createDomObj=function(){this.wrapObj=$("#stationRecharge_wrapObj"),this.moneyObj=$("#stationRecharge_moneyObj"),this.keyObj=$("#stationRecharge_keyObj"),this.backObj=$("#stationRecharge_backObj"),this.showObj=$("#stationRecharge_showObj"),this.zdbackObj=$("#stationRecharge_zdbackObj"),this.info1Obj=$("#stationRecharge_info1"),this.info2Obj=$("#stationRecharge_info2"),this.userNameObj=$("#stationRecharge_userName")},stationRechargeObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){stationRechargeObj.updateMoneyEvent(a)}),this.zdbackObj.unbind("tap").tap(function(){}),this.backObj.unbind("tap").tap(function(){stationRechargeObj.goBack()})},stationRechargeObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return this.subPay(),!0;case"clearAuthTips":return $("#stationRecharge_authTipsObj").hide(),!0;case"toAuthTips":return $("#stationRecharge_authTipsObj").hide(),this.checkReal(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"setMoney":return this.setMoney(c),!0;case"showkey":return this.showKey(),!0;case"hidekey":return this.hidekey(),!0;case"key":return this.keytUpdateMoney(c),!0;case"delkey":return this.delKeyMoney(),!0}}var g=$.oto_checkEvent(a,"DL");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updPay":return this.updPay(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){if("keyObj"==h.id)return!0;stationRechargeObj.hidekey()}},stationRechargeObj.goStationInfo=function(a){var b=this,c=this.stationId;stationInfoObj.goBack=function(){stationInfoObj.destroy(),b.show()},stationInfoObj.show("reload",function(){stationInfoObj.getData(c)})},stationRechargeObj.updPay=function(a){var b=a.attr("data-v");"stationAgent"==b?(stationRechargeObj.goBack=function(){stationRechargeObj.destroy(),userCenterObj.show()},stationRechargeObj.show("reload",function(){stationRechargeObj.getData()})):"wechatpayApp"==b&&(wechatpayAppObj.goBack=function(){wechatpayAppObj.destroy(),userCenterObj.show()},wechatpayAppObj.show("reload",function(){wechatpayAppObj.getData()}))},stationRechargeObj.delKeyMoney=function(){this.money=Number(this.money.toString().slice(0,-1)),this.updateMoney()},stationRechargeObj.keytUpdateMoney=function(a){var b=a.attr("data-v");this.checkTipsShow?(this.checkTipsShow=!1,this.money=b.toString()):this.money+=b.toString(),this.money=Number(this.money),this.updateMoney()},stationRechargeObj.showKey=function(){this.keyObj.show(),this.showObj.addClass("focus"),this.checkTipsShow=!0},stationRechargeObj.hidekey=function(){this.keyObj.hide(),this.showObj.removeClass("focus"),this.checkTipsShow=!1},stationRechargeObj.setMoney=function(a){var b=Number(a.attr("data-v"));a.siblings().removeClass("selected"),a.addClass("selected"),this.money=b,this.updateMoney()},stationRechargeObj.updateMoney=function(){this.updateKjClass(),this.moneyObj.html(this.money+"元")},stationRechargeObj.updateKjClass=function(){for(var a=$("span[data-t='setMoney']"),b=0,c=a.length;b<c;b++){Number(a.eq(b).attr("data-v"))!=this.money?a.eq(b).removeClass("selected"):a.eq(b).addClass("selected")}},stationRechargeObj.showErrMsg=function(a){$.alertMsg(a)},stationRechargeObj.checkReal=function(){var a=this;regRealNameObj.goBack=function(){regRealNameObj.destroy(),a.show()},regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"buy"};regRealNameObj.setData(a)})},stationRechargeObj.subPay=function(){var a=$("#stationRecharge_sub");if(!a.hasClass("gray")){a.addClass("gray");this.subPayFun()}},stationRechargeObj.subPayFun=function(){this.hidekey();var a={channel:this.channel,amount:this.money,pay_id:this.pay_id,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=cashier.deposit.depositInfo",data:a,type:"post",dataType:"json",success:function(a){if("0000"!==a.code)return $("#stationRecharge_sub").removeClass("gray"),stationRechargeObj.showErrMsg(a.code_str),!1;rechargeStatusObj.goBack=function(){rechargeStatusObj.destroy(),stationRechargeObj.show(!0,function(){stationRechargeObj.getData()})},rechargeStatusObj.show(!0,function(){rechargeStatusObj.getData(a.info.order_id)})}})},stationRechargeObj.formatHtml=function(a){this.info1Obj.html(a.station_info.real_name+" "+a.station_info.mobile),this.info2Obj.html(a.station_info.address),this.userNameObj.html(a.scene_owner_name);var b="";for(var c in a.other_channel){var d=a.other_channel[c],e=d.station_info&&d.station_info.id?d.station_info.id:"";"N"!=d.is_usable&&(b+='<dl class="clearfix" data-t="updPay" data-v="'+c+'" data-id="'+e+'"><dt><span class="'+c+' payicon"></span></dt><dd><p class="font16">'+d.channel_cn+'</p><p class="font12 gray">'+d.channel_desc+"</p></dd></dl>")}$("#stationRecharge_other").html(b)},stationRechargeObj.getData=function(a){var b={channel:this.channel,access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=cashier.deposit.index",data:b,type:"post",dataType:"json",success:function(a){"0000"==a.code?(stationRechargeObj.stationId=a.info.station_info.id,stationRechargeObj.pay_id=a.info.pay_id,stationRechargeObj.channel=a.info.channel,"Y"==a.info.is_usable&&$("#otherchannel_is_usable").show(),stationRechargeObj.formatHtml(a.info)):$.alertMsg(a.code_str)}})},stationRechargeObj.setDefConfig=function(){this.channel="stationAgent",this.money=10,this.pay_id="",this.stationId="",this.checkTipsShow=!1},stationRechargeObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},stationRechargeObj.init=function(){this.setDefConfig(),stationRechargeObj.onloadExecution()};var ticketCashierObj=new PageController({name:"ticketCashier",tpl:"template/user/ticketCashier.html"});ticketCashierObj.createDomObj=function(){this.progressCon=$("#ticketCashier_progressCon"),this.progressEnd=$("#ticketCashier_progressEnd"),this.backBtn=$("#ticketCashier_backbtn"),this.topTit=$("#ticketCashier_topTit"),this.botLink=$("#ticketCashier_botLink"),this.homeLink=$("#ticketCashier_home"),this.recordLink=$("#ticketCashier_record"),this.refreshBtn=$("#ticketCashier_refreshBtn"),this.tryBtn=$("#ticketCashier_tryBtn")},ticketCashierObj.createEvent=function(){this.backBtn.unbind("tap").tap(function(){ticketCashierObj.goBack()}),this.homeLink.unbind("tap").tap(function(){ticketCashierObj.destroy(),buyOpenTicketObj.show("reload",function(){buyOpenTicketObj.pushRoute(function(){homeObj.show()})})}),this.refreshBtn.unbind("tap").tap(function(){ticketCashierObj.delayRefresh()}),this.tryBtn.unbind("tap").tap(function(){ticketCashierObj.tryAgain()}),this.recordLink.unbind("tap").tap(function(){ticketCashierObj.destroy(),openTicketRecordObj.show("",function(){openTicketRecordObj.pushRoute(function(){userCenterObj.show()})})})},ticketCashierObj.tryAgain=function(){},ticketCashierObj.delayRefresh=function(){this.count=0,this.refreshBtn.hide(),this.startTimer()},ticketCashierObj.startTimer=function(){setTimeout(function(){ticketCashierObj.count=0,ticketCashierObj.getPayStatus("first")},200),ticketCashierObj.ticket_timer=setInterval(function(){ticketCashierObj.getPayStatus()},6e3)},ticketCashierObj.getPayStatus=function(a){var b=this,c={pay_id:this.pay_id,channel:""};b.count=b.count+1,$.ajax({url:ConfigObj.localSite+"?m=ticketCashier.check.status",type:"post",data:c,dataType:"json",success:function(c){if("0000"==c.code)if(c.info.product_info&&(b.lotteryTypeCn=c.info.product_info.lottery_type_cn),"not"==c.info.status){"first"==a&&(b.startPoint=0,b.endPoint=100,b.totalTime=0);var d={time:0};b.updateProgress(d),b.updateStatus("process",d)}else"succ"==c.info.status?(b.updateStatus("success",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer="")):"fail"==c.info.status?(b.updateStatus("fail",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer="")):"delay"==c.info.status&&(b.updateStatus("delay",c.info),b.ticket_timer&&(clearInterval(b.ticket_timer),b.ticket_timer=""));else $.alertMsg(c.code_str)}})},ticketCashierObj.updateProgress=function(a){ticketCashierObj.progress||(ticketCashierObj.progress=new CircularProgress({radius:60,lineWidth:10,strokeStyle:"#30a1f7"}),ticketCashierObj.progressCon.find(".outer").get(0).appendChild(ticketCashierObj.progress.el));var b=ticketCashierObj.totalTime-parseInt(a.time);ticketCashierObj.endPoint=0==ticketCashierObj.totalTime?100:Math.abs(b/ticketCashierObj.totalTime*100),ticketCashierObj.progress.run(ticketCashierObj.startPoint,ticketCashierObj.endPoint,function(){ticketCashierObj.startPoint=ticketCashierObj.endPoint,100==ticketCashierObj.endPoint&&(ticketCashierObj.progressCon.find("canvas").remove(),ticketCashierObj.progress=null,ticketCashierObj.startPoint=0)})},ticketCashierObj.updateStatus=function(a,b){if("success"==a)this.progressCon.hide(),this.progressEnd.show(),this.botLink.show();else if("process"==a){this.progressEnd.hide(),this.progressCon.show();var c='<p class="state1 pt25"><span>正在付款</span></p>';this.progressCon.find(".inner").html(c)}else if("fail"==a){var c='<p class="state1 pt25"><span>'+b.status_cn+"</span></p>";this.progressCon.find(".inner").html(c),this.botLink.show(),this.refreshBtn.hide(),this.tryBtn.show()}else if("delay"==a){this.progressEnd.hide(),this.progressCon.show();var c='<p class="state1 pt25"><span>'+b.status_cn+"</span></p>";this.progressCon.find(".inner").html(c),this.refreshBtn.show(),this.tryBtn.hide()}},ticketCashierObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},ticketCashierObj.init=function(){ticketCashierObj.onloadExecution()},ticketCashierObj.setDefConfig=function(){this.pay_id="",this.product_id="",this.product_type="",this.lotteryType="",this.lotteryTypeCn="",this.count=0,ticketCashierObj.ticket_timer&&(clearInterval(ticketCashierObj.ticket_timer),ticketCashierObj.ticket_timer="")},ticketCashierObj.setData=function(a){this.pay_id=a.pay_id,this.product_id=a.product_id,this.product_type=a.product_type,this.lotteryType=a.lotteryType,this.startPoint=0,this.endPoint=100,this.progress=""},ticketCashierObj.demo=function(){this.setData({}),this.updateProgress({time:0}),setTimeout(function(){ticketCashierObj.updateStatus("success")},5e3)},ticketCashierObj.dirShow=function(a){};var userCenterObj=new PageController({name:"userCenter",tpl:"template/user/userCenter.html",initScrollTop:!0});userCenterObj.createDomObj=function(){this.wrapperObj=$("#userCenter_wrapperObj"),this.userNameObj=$("#userCenter_userName"),this.wrapA=$("#userCenter_wrapA"),this.wrapB=$("#userCenter_wrapB"),this.kefuObj=$("#userCenter_kefu")},userCenterObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){userCenterObj.sectionEvent(a)}),$("#userCenter_droploadWrap").dropload({scrollArea:window,distance:this.pullDistance,loadUpFn:function(a){loginObj.isLogin?(userCenterObj.pullLoad=a,userCenterObj.getData()):(a.resetload(),userCenterObj.destroy(),userCenterObj.goLogin())}})},userCenterObj.sectionEvent=function(a){var b=$.oto_checkEvent(a,"P");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"backbtn":return userCenterObj.goBack(),!0;case"set":return userCenterObj.goSetting(),!0;case"ye":return userCenterObj.goCashRecord(),!0;case"hb":return userCenterObj.goBonusRecord(),!0;case"jf":return userCenterObj.goScoreRecord(),!0;case"launchlist":return userCenterObj.goBetRecord(),!0;case"dj":return userCenterObj.goFreezeRecord(),!0;case"ticketList":return userCenterObj.goOpenTicketRecord(),!0;case"buyTicket":return userCenterObj.goBuyOpenTicket(),!0}}var e=$.oto_checkEvent(a,"LI");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"recharge":return this.goRecharge(),!0;case"withdraw":return this.goWithDraw(),!0;case"launchType":return this.goSubBetRecord(c),!0;case"qupiao":return this.goGetTicketRecord(c),!0}}var f=$.oto_checkEvent(a,"DL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"userinfo":return this.goUserInfo(),!0;case"message":return this.goIm(),!0;case"security":return $.alertMsg("正在建设中"),!0;case"station":return this.goStation(),!0;case"memberBet":return this.goMemberBet(),!0;case"service":return this.goService(c),!0;case"account":return this.goAccount(),!0;case"huodong":return this.goActivity(),!0;case"feedback":return this.goFeedback(),!0;case"hemai":return this.goHemai(),!0;case"share":return Global.socialShare({domId:"userCenter"}),!0}}var g=$.oto_checkEvent(a,"A");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"clearAuthTips":return $("#userCenter_authTipsObj").hide(),!0;case"toAuthTips":return this.checkReal(),!0;case"clearAuthPhone":return $("#userCenter_authPhoneObj").hide(),!0;case"toAuthPhone":return this.checkPhone(),!0;case"login":return this.goLogin(),!0;case"register":return this.goRegister(),!0}}},userCenterObj.checkLogin=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1},userCenterObj.goLogin=function(){loginObj.goBack=function(){userCenterObj.show(!0)},loginObj.goForward=function(){userCenterObj.show(!0)},loginObj.show(!0)},userCenterObj.goRegister=function(){registerObj.goBack=function(){userCenterObj.show()},registerObj.goForward=function(){userCenterObj.show()},loginObj.goBack=function(){userCenterObj.show()},loginObj.goForward=function(){userCenterObj.show()},registerObj.show(!0)},userCenterObj.goOpenTicketRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;openTicketRecordObj.show("",function(){openTicketRecordObj.pushRoute(function(){userCenterObj.show()})})},userCenterObj.goBuyOpenTicket=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;buyOpenTicketObj.show("",function(){buyOpenTicketObj.pushRoute(function(){userCenterObj.show("reload")})})},userCenterObj.goIm=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;"android"==ConfigObj.platForm?"undefined"!=typeof android_obj&&android_obj.intentConversationlist():"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.chatClick(loginObj.access_token)},userCenterObj.goService=function(a){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;var b=a.attr("data-v");"service"==b?(serviceObj.goBack=function(){serviceObj.destroy(),userCenterObj.show()},serviceObj.show("",function(){serviceObj.getData(userCenterObj.userInfo.sid||loginObj.userInfo.s_id)})):"serviceCode"==b?(serviceCodeObj.goBack=function(){serviceCodeObj.destroy(),userCenterObj.show()},serviceCodeObj.show()):"signProtocol"==b?(signProtocalObj.goBack=function(){signProtocalObj.destroy(),userCenterObj.show(!0)},signProtocalObj.show()):"manageInfo"==b&&(manageInfoObj.goBack=function(){manageInfoObj.destroy(),userCenterObj.show()},manageInfoObj.show())},userCenterObj.goMemberBet=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;memberBetRecordObj.goBack=function(){memberBetRecordObj.destroy(),userCenterObj.show()},memberBetRecordObj.show("reload")},userCenterObj.goAccount=function(){var a=this;if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;accountObj.goBack=function(){accountObj.destroy(),a.show()},accountObj.show("reload",function(){accountObj.getData()})},userCenterObj.goHemai=function(){var a=this;if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;myHemaiObj.goBack=function(){myHemaiObj.destroy(),a.show()},myHemaiObj.show()},userCenterObj.goActivity=function(){var a=this;if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;activityIdxObj.goBack=function(){activityIdxObj.destroy(),a.show()},activityIdxObj.show("reload",function(){activityIdxObj.getData()})},userCenterObj.goFeedback=function(){var a=this;if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;feedbackObj.goBack=function(){feedbackObj.destroy(),a.show()},feedbackObj.show("",function(){feedbackObj.pushRoute(function(){userCenterObj.show()})})},userCenterObj.goStation=function(){var a=this;if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;stationDetailObj.goBack=function(){stationDetailObj.destroy(),a.show()},stationDetailObj.show("reload",function(){stationDetailObj.getData(loginObj.userInfo.s_id)})},userCenterObj.goScoreRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;scoreRecordObj.goBack=function(){scoreRecordObj.destroy(),userCenterObj.show()},scoreRecordObj.show()},userCenterObj.goFreezeRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;freezeRecordObj.goBack=function(){freezeRecordObj.destroy(),userCenterObj.show()},freezeRecordObj.show()},userCenterObj.goGetTicketRecord=function(a){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;getTicketRecordObj.goBack=function(){getTicketRecordObj.destroy(),userCenterObj.show()},getTicketRecordObj.show()},userCenterObj.goSubBetRecord=function(a){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;var b=a.attr("data-v");"dqp"==b?(getTicketRecordObj.goBack=function(){getTicketRecordObj.destroy(),userCenterObj.show()},getTicketRecordObj.show()):(betRecordObj.goBack=function(){betRecordObj.destroy(),userCenterObj.show()},betRecordObj.show("reload",function(){betRecordObj.getData(b)}))},userCenterObj.goUserInfo=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;userInfoObj.goBack=function(){userInfoObj.destroy(),userCenterObj.show()},userInfoObj.show()},userCenterObj.goBetRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;betRecordObj.goBack=function(){betRecordObj.destroy(),planRecordObj.destroy(),userCenterObj.show("reload")},planRecordObj.goBack=function(){planRecordObj.destroy(),betRecordObj.destroy(),userCenterObj.show("reload")},betRecordObj.show()},userCenterObj.goBonusRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;bonusRecordObj.goBack=function(){bonusRecordObj.destroy(),userCenterObj.show()},bonusRecordObj.show()},userCenterObj.goCashRecord=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;cashRecordObj.goBack=function(){cashRecordObj.destroy(),userCenterObj.show()},cashRecordObj.show()},userCenterObj.goRecharge=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;if(loginObj.userInfo){loginObj.userInfo.real_status;wechatpayWebObj.goBack=function(){wechatpayWebObj.destroy(),userCenterObj.show(!0)},wechatpayWebObj.dirShow({from:"userCenter"})}},userCenterObj.goWithDraw=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;if(loginObj.userInfo){var a=userCenterObj.userInfo.real_status,b=userCenterObj.userInfo.is_mobile_bind;if("Ing"===a)return $.alertMsg("您的实名认证正在审核中"),!1;if("N"===a||"Fail"===a)return $("#userCenter_authTipsObj").show(),!1;if("N"===b)return $("#userCenter_authPhoneObj").show(),!1;withdrawSelectObj.goBack=function(){withdrawSelectObj.destroy(),userCenterObj.show("reload")},withdrawSelectObj.show(!0)}},userCenterObj.checkReal=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;var a=this;$("#userCenter_authTipsObj").hide(),regRealNameObj.goBack=function(){regRealNameObj.destroy(),a.show()},regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"buy"};regRealNameObj.setData(a)})},userCenterObj.checkPhone=function(){if(!loginObj.isLogin)return userCenterObj.goLogin(),!1;$("#userCenter_authPhoneObj").hide(),bindPhoneObj.goBack=function(){bindPhoneObj.destroy(),userCenterObj.show(!0)},bindPhoneObj.show(!0)},userCenterObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),$("#userCenter_kefuObj").attr("href","tel:"+ConfigObj.tel),loginObj.isLogin?this.getData():this.formatNoLoginHtml(),
ConfigObj.display?$("#userCenter_money").show():$("#userCenter_money").hide()},userCenterObj.init=function(){userCenterObj.setDefConfig(),userCenterObj.onloadExecution()},userCenterObj.setDefConfig=function(){userCenterObj.pullLoad=""},userCenterObj.getData=function(){function a(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),userCenterObj.userInfo=a.info,userCenterObj.formatHtmlA(a.info),userCenterObj.formatHtmlB(a.info),userCenterObj.formatService(a.info),"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?setTimeout(function(){},500):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&setTimeout(function(){},500)):(loginObj.tokenFail(),loginObj.show(),loginObj.goForward=function(){userCenterObj.show("reload")},loginObj.goBack=function(){homeObj.show()}),userCenterObj.pullLoad&&userCenterObj.pullLoad.resetload()}Global.getDataPrefCache("?m=user.account.center",{access_token:loginObj.access_token},function(b){a(b)})},userCenterObj.formatService=function(a){"Station"==a.user_type?"Not"==a.station_status?($("#userCenter_service").attr("data-v","signProtocol"),$("#userCenter_serviceName").html('<span class="rtlink gray">开通</span><span class="rtarrow icon"></span>')):($("#userCenter_service").attr("data-v","service"),$("#userCenter_serviceName").html('<span class="rtlink gray">NO.'+a.station_id+'</span><span class="rtarrow icon"></span>')):a.station_user_id&&"0"!=a.station_user_id?($("#userCenter_service").attr("data-v","service"),$("#userCenter_serviceName").html('<span class="rtlink gray">NO.'+a.station_id+'</span><span class="rtarrow icon"></span>')):($("#userCenter_service").attr("data-v","serviceCode"),$("#userCenter_serviceName").html('<span class="rtlink gray">添加</span><span class="rtarrow icon"></span>'))},userCenterObj.formatHtmlA=function(a){this.userNameObj.html('<p class="user_id">ID :'+a.user_name+'</p><p class="user_phone">'+(a.showName?a.showName:"暂未绑定手机")+"</p>");var b='<li><p class="money_btn" data-t="ye"><span class="font16 yw">'+(a.moneyInfo.Cash?a.moneyInfo.Cash:"-")+'</span><span class="font12 bw">余额</span></p></li><li ><p class="money_btn" data-t="hb"><span class="font16 yw">'+(a.moneyInfo.Bonus?a.moneyInfo.Bonus:"-")+'</span><span class="font12 bw">红包</span></p></li><li ><p class="money_btn" data-t="jf"><span class="font16 yw">'+(Number(a.moneyInfo.Score)>=0?a.moneyInfo.Score:"-")+'</span><span class="font12 bw">积分</span></p></li>';this.wrapA.html(b)},userCenterObj.formatHtmlB=function(a){var b='<li data-t="launchType" data-v="dfk"><span class="circle '+(0==a.myBet.waitPay.nums?"c0":"")+'"><em style="height:'+(a.myBet.waitPay.rate>0?a.myBet.waitPay.rate:"0")+"%;margin-top:"+(a.myBet.waitPay.rate>0?100-a.myBet.waitPay.rate:"100")+'%"></em><i>'+(a.myBet.waitPay.nums>0?a.myBet.waitPay.nums:"0")+'</i></span><span class="font12 gray">待付款</span></li><li data-t="launchType" data-v="dcp" ><span  class="circle '+(0==a.myBet.waitPrint.nums?"c0":"")+'"><em style="height:'+(a.myBet.waitPrint.rate>0?a.myBet.waitPrint.rate:"0")+"%;margin-top:"+(a.myBet.waitPrint.rate>0?100-a.myBet.waitPrint.rate:"100")+'%"></em><i >'+(a.myBet.waitPrint.nums>0?a.myBet.waitPrint.nums:"0")+'</i></span><span class="font12 gray">待出票</span></li><li data-t="launchType" data-v="cpsb" ><span  class="circle '+(0==a.myBet.fail.nums?"c0":"")+'"><em style="height:'+(a.myBet.fail.rate>0?a.myBet.fail.rate:"0")+"%;margin-top:"+(a.myBet.fail.rate>0?100-a.myBet.fail.rate:"100")+'%"></em><i >'+(a.myBet.fail.nums>0?a.myBet.fail.nums:"0")+'</i></span><span class="font12 gray">出票失败</span></li><li data-t="launchType" data-v="dkj" ><span  class="circle '+(0==a.myBet.waitOpen.nums?"c0":"")+'"><em style="height:'+(a.myBet.waitOpen.rate>0?a.myBet.waitOpen.rate:"0")+"%;margin-top:"+(a.myBet.waitOpen.rate>0?100-a.myBet.waitOpen.rate:"100")+'%"></em><i >'+(a.myBet.waitOpen.nums>0?a.myBet.waitOpen.nums:"0")+'</i></span><span class="font12 gray">待开奖</span></li><li data-t="launchType" data-v="yzj"><span class="circle '+(0==a.myBet.waitPrize.nums?"c0":"")+'"><em style="height:'+(a.myBet.waitPrize.rate>0?a.myBet.waitPrize.rate:"0")+"%;margin-top:"+(a.myBet.waitPrize.rate>0?100-a.myBet.waitPrize.rate:"100")+'%"></em><i>'+(a.myBet.waitPrize.nums>0?a.myBet.waitPrize.nums:"0")+'</i></span><span class="font12 gray">已中奖</span></li>';this.wrapB.html(b);for(var c=this.wrapB.find("i"),d=0;d<c.length;d++){var e=$(c[d]),f=e.parents("li").width()/2-e.width()/2,f=getComputedStyle(e.parents("li")[0]).width/2-getComputedStyle(e[0]).width/2;e.css({left:f>0?f+"px":"0%"})}},userCenterObj.goSetting=function(){settingObj.goBack=function(){settingObj.destroy(),userCenterObj.show("reload")},settingObj.show()},userCenterObj.formatNoLoginHtml=function(){$("#userCenter_userName").html('<a href="javascript:void(0)" data-t="login">登录</a><a href="javascript:void(0)" data-t="register">注册</a>');$("#userCenter_wrapA").html('<li><p class="money_btn" data-t="ye"><span class="font16 yw">0</span><span class="font12 bw">余额</span></p></li><li ><p class="money_btn" data-t="hb"><span class="font16 yw">0</span><span class="font12 bw">红包</span></p></li><li ><p class="money_btn" data-t="jf"><span class="font16 yw">0</span><span class="font12 bw">积分</span></p></li>');$("#userCenter_wrapB").html('<li data-t="launchType" data-v="dfk"><span  class="circle c0"><em style="height:0%;margin-top:100%"></em><i >0</i></span><span class="font12 gray">待付款</span></li><li data-t="launchType" data-v="dcp"><span  class="circle c0"><em style="height:0%;margin-top:100%"></em><i >0</i></span><span class="font12 gray">待出票</span></li><li data-t="launchType" data-v="cpsb" ><span  class="circle c0"><em style="height:0%;margin-top:100%"></em><i >0</i></span><span class="font12 gray">出票失败</span></li><li data-t="launchType" data-v="dkj" ><span  class="circle c0"><em style="height:0%;margin-top:100%"></em><i >0</i></span><span class="font12 gray">待开奖</span></li><li data-t="launchType" data-v="yzj"><span  class="circle c0"><em style="height:0%;margin-top:100%"></em><i >0</i></span><span class="font12 gray">已中奖</span></li>')};var userInfoObj=new PageController({name:"userInfo",tpl:"template/user/userInfo.html"});userInfoObj.createDomObj=function(){this.sectionObj=$("#userInfo_sectionObj"),this.backObj=$("#userInfo_backObj"),this.modifyName=$("#userInfo_modifyName"),this.stationId=$("#userInfo_stationId"),this.lastLoginTime=$("#userInfo_lastLoginTime"),this.dropload=void 0,this.sectionObj.dropload({scrollArea:window,distance:200,loadUpFn:function(a){this.dropload=a,this.getData()}.bind(this)})},userInfoObj.createEvent=function(){this.sectionObj.unbind("tap").tap(function(a){userInfoObj.sectionEvent(a)}),this.backObj.unbind("tap").tap(function(){userInfoObj.goBack()})},userInfoObj.sectionEvent=function(a){var b=$.oto_checkEvent(a,"DL");if(b){var c=$(b);switch(c.attr("data-t")){case"href":this.hrefUserInfo(c)}return!0}},userInfoObj.hrefUserInfo=function(a){switch(a.attr("data-v")){case"modifyusername":this.goModifyUserName();break;case"modifyphone":this.goModifyPhone();break;case"verify":this.goVerifyId();break;case"mybanklist":this.goEbankList();break;case"modifypwd":this.goModifyPwd();break;case"stationinfo":this.goStationInfo();break;case"setNoteName":this.goSetNoteName();break;case"bindWX":this.bindSocial("wx");break;case"bindQQ":this.bindSocial("qq")}},userInfoObj.goModifyUserName=function(){modifyUserNameObj.goBack=function(){modifyUserNameObj.destroy(),userInfoObj.show("reload")},modifyUserNameObj.show()},userInfoObj.goModifyPhone=function(){bindPhoneObj.goBack=function(){bindPhoneObj.destroy(),userInfoObj.show(!0)},"N"==loginObj.userInfo.is_mobile_bind?(bindPhoneObj.goBack=function(){bindPhoneObj.destroy(),userInfoObj.show(!0)},bindPhoneObj.show(!0)):"Y"==loginObj.userInfo.is_mobile_bind&&(modifyPhoneObj.goBack=function(){modifyPhoneObj.destroy(),userInfoObj.show(!0)},modifyPhoneObj.show())},userInfoObj.goModifyPwd=function(){modifyPwdObj.goBack=function(){modifyPwdObj.destroy(),userInfoObj.show("reload")},modifyPwdObj.show()},userInfoObj.goSetNoteName=function(){modifyUserNameObj.goBack=function(){modifyUserNameObj.destroy(),userInfoObj.show("reload")},modifyUserNameObj.show()},userInfoObj.bindSocial=function(a){var b=userInfoObj.social[a][0],c=userInfoObj.social[a][1];"android"==ConfigObj.platForm?android_obj.getPlatformInfo("bind",a,b,c):"ios"==ConfigObj.platForm&&ios_obj.getAuthWithUserInfoFromWechat("bind")},userInfoObj.doBindSocial=function(a,b,c,d){var e={access_token:loginObj.access_token,platform:a,uid:b,name:c,iconurl:d};Global.post("?m=user.account.socialBind",e,function(a){"0000"==a.code?($.alertMsg(a.code_str,!0),userInfoObj.getData()):$.alertMsg(a.code_str)})},userInfoObj.goEbankList=function(){Global.checkRealStatus({yes:function(){ebankListObj.goBack=function(){ebankListObj.destroy(),userInfoObj.show(!0)},ebankListObj.show(!0,function(){ebankListObj.getData()})},realAuthBack:function(){ebankListObj.destroy(),userInfoObj.show(!0)}})},userInfoObj.goVerifyId=function(){var a=this;"Y"==a.real_status?(verifyInfoObj.goBack=function(){verifyIdObj.destroy(),userInfoObj.show(!0)},verifyInfoObj.show()):"Ing"==a.real_status?(verifyInfoObj.goBack=function(){verifyIdObj.destroy(),userInfoObj.show(!0)},verifyInfoObj.show()):"N"==a.real_status&&(regRealNameObj.goBack=function(){regRealNameObj.destroy(),a.show("reload")},regRealNameObj.show("",function(){var a={accountName:loginObj.userInfo.user_name,from:"userInfo"};regRealNameObj.setData(a)}))},userInfoObj.goStationInfo=function(){var a=this;stationDetailObj.goBack=function(){stationDetailObj.destroy(),a.show()},stationDetailObj.show("reload",function(){stationDetailObj.getData(loginObj.userInfo.s_id)})},userInfoObj.getData=function(){var a=this,b={appKey:ConfigObj.appkey,channel_number:ConfigObj.zdid},c={access_token:loginObj.access_token,para:Global.encrypt(b)};$.ajax({url:ConfigObj.localSite+"?m=user.account.user_Info",data:c,type:"post",dataType:"json",success:function(b){a.dropload&&(a.dropload.resetload(),a.dropload=void 0),userInfoObj.hideLoading(),"0000"==b.code&&(b.info=$.parseJSON(Global.crypt(b.info)),loginObj.userInfo=b.info,userInfoObj.social=b.info.social,localStorage.setItem("social",JSON.stringify(b.info.social)),a.formatHtml(b.info))},error:function(){a.dropload&&(a.dropload.resetload(),a.dropload=void 0),userInfoObj.hideLoading()}})},userInfoObj.hideLoading=function(){$("#userInfo_loading").hide(),$("#userInfo_sectionObj").show()},userInfoObj.formatHtml=function(a){var b="";b+='<dl class="clearfix" data-t="href" data-v="setNoteName"> <dt><span class="info-icon info-name"></span></dt><dd> <p class="font16">用户昵称</p><p class="font12 gray">'+a.user_name+"</p></dd>","冻结"==a.status_cn||"N"==a.effective?b+='<span class="rtbox"><em class="fontred">冻结</em></span>':b+='<span class="rtbox"><em class="fontblue">正常</em></span>',b+="</dl>",this.modifyName.html(b),11==a.mobile.length?($("#userInfo_password_dl").show(),$("#userInfo_bindMobile_mobile").text(a.mobile),$("#userInfo_bindMobile_text").text("更换")):$("#userInfo_bindMobile_text").text("绑定"),a.social&&a.social.wx&&a.social.wx.length?a.wx_uid&&""!=a.wx_uid?($("#userInfo_bindWX_text").text("更换"),$("#userInfo_bindWX_r").text("已绑定，可直接用微信登录")):$("#userInfo_bindWX_text").text("绑定"):$("#userInfo_bindWX_dl").hide(),this.lastLoginTime.html("上次登录 : "+a.loginTime),this.stationId.html("No."+a.station_id),this.real_status=a.real_status,"Y"==a.real_status?$("#userInfo_verifyText").html('<em class="gray">查看</em><em class="rtarrow icon"></em>'):"N"==a.real_status?$("#userInfo_verifyText").html('<em class="gray">认证</em><em class="rtarrow icon"></em>'):"Ing"==a.real_status?$("#userInfo_verifyText").html('<em class="gray">审核中</em><em class="rtarrow icon"></em>'):"Fail"==a.real_status&&(this.real_status="N",$("#userInfo_verifyText").html('<em class="gray">不通过</em><em class="rtarrow icon"></em>')),a.bank_card_num>0?$("#userInfo_bankcardText").html('<em class="gray">查看</em><em class="rtarrow icon"></em>'):$("#userInfo_bankcardText").html('<em class="gray">添加</em><em class="rtarrow icon"></em>')},userInfoObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},userInfoObj.init=function(){userInfoObj.setDefConfig(),userInfoObj.onloadExecution()},userInfoObj.setDefConfig=function(){this.real_status=""};var verifyIdObj=new PageController({name:"verifyId",tpl:"template/user/verifyId.html"});verifyIdObj.createDomObj=function(){this.userNumObj=$("#verifyId_userNumObj"),this.pwdObj=$("#verifyId_pwdObj"),this.submitObj=$("#verifyId_submitObj"),this.backObj=$("#verifyId_backObj"),"passport"==verifyIdObj.realType&&($("#verifyId_realType").html("证件号码："),$("#verifyId_userNumObj").attr("placeholder","请输入证件号码"))},verifyIdObj.createEvent=function(){this.userNumObj.add(this.pwdObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.userNumObj.add(this.pwdObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.submitObj.unbind("tap").tap(function(){"modifyPwd"==verifyIdObj.fromPage?verifyIdObj.checkId():verifyIdObj.submitUserInfo()}),this.backObj.unbind("tap").tap(function(){verifyIdObj.goBack()})},verifyIdObj.checkId=function(){var a=$.trim(this.userNumObj.val());if(""===a)return $.alertMsg("号码不能为空"),!1;a==loginObj.userInfo.idcard?($.alertMsg("验证成功",!0),setTimeout(function(){modifyPwdObj.goBack=function(){modifyPwdObj.destroy(),verifyIdObj.destroy(),userInfoObj.show("reload")},modifyPwdObj.show()},2e3)):$.alertMsg("验证失败")},verifyIdObj.switchDom=function(){"modifyPwd"==this.fromPage?$("#verifyId_pwdObj").parents("li").hide():$("#verifyId_pwdObj").parents("li").show()},verifyIdObj.submitUserInfo=function(){var a=this,b=this.userNumObj.val(),c=this.pwdObj.val();if(""===b)return $.alertMsg("号码不能为空"),!1;if(""===c)return $.alertMsg("登录密码不能为空"),!1;var d={cardNo:b,cardType:this.realType?this.realType:"idcard",passWord:hex_md5(c),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.verify",dataType:"json",type:"post",data:d,success:function(b){0===Number(b.code)?($.alertMsg("验证成功",!0),a.fromPage?"modifyPhone"==a.fromPage?setTimeout(function(){modifyPhoneObj.goBack=function(){modifyPhoneObj.destroy(),verifyIdObj.destroy(),userInfoObj.show("reload")},modifyPhoneObj.show()},2e3):"modifyPwd"==a.fromPage&&setTimeout(function(){modifyPwdObj.goBack=function(){modifyPwdObj.destroy(),verifyIdObj.destroy(),userInfoObj.show("reload")},modifyPwdObj.show()},2e3):setTimeout(function(){verifyInfoObj.goBack=function(){verifyInfoObj.destroy(),verifyIdObj.destroy(),userInfoObj.show("reload")},verifyInfoObj.show()},2e3)):$.alertMsg(b.code_str)}})},verifyIdObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},verifyIdObj.init=function(){verifyIdObj.onloadExecution()},verifyIdObj.setDefConfig=function(){this.fromPage=""},verifyIdObj.setConfigData=function(a){a&&(this.realType=a.realType)};var verifyInfoObj=new PageController({name:"verifyInfo",tpl:"template/user/verifyInfo.html"});verifyInfoObj.createDomObj=function(){this.backObj=$("#verifyInfo_backbtn"),$("#verifyInfo_realName").html(loginObj.userInfo.real_name);var a=loginObj.userInfo.passport||loginObj.userInfo.idcard;"passport"==loginObj.userInfo.real_type?(a=a.substr(0,2)+"*".repeat(a.length-5)+a.substr(a.length-3,3),$("#verifyInfo_realType").html("护照"),$("#verifyInfo_cardNo").html(a)):(a=a.substr(0,3)+"*".repeat(a.length-7)+a.substr(a.length-4,4),$("#verifyInfo_realType").html("身份证"),$("#verifyInfo_cardNo").html(a))},verifyInfoObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){verifyInfoObj.goBack()})},verifyInfoObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},verifyInfoObj.init=function(){verifyInfoObj.onloadExecution()};var verifyPhoneObj=new PageController({name:"verifyPhone",tpl:"template/user/verifyPhone.html"});verifyPhoneObj.createDomObj=function(){this.telObj=$("#verifyPhone_tel"),this.checkCodeObj=$("#verifyPhone_checkCodeObj"),this.getCodeObj=$("#verifyPhone_getCodeObj"),this.submitObj=$("#verifyPhone_submitObj"),this.backObj=$("#verifyPhone_backObj")},verifyPhoneObj.createEvent=function(){this.telObj.add(this.checkCodeObj).unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.telObj.add(this.checkCodeObj).unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.getCodeObj.unbind("tap").tap(function(){verifyPhoneObj.checkPhone()}),this.submitObj.unbind("tap").tap(function(){verifyPhoneObj.submitData()}),this.backObj.unbind("tap").tap(function(){verifyPhoneObj.goBack()})},verifyPhoneObj.validePhone=function(a){return""===a?($.alertMsg("手机号码不能为空"),!1):!!/[0-9]{11}/g.test(Number(a))||($.alertMsg("请输入正确的手机号码"),!1)},verifyPhoneObj.submitData=function(){var a=this.telObj.val(),b=this.checkCodeObj.val();if(!verifyPhoneObj.validePhone(a))return!1;if(""===b)return $.alertMsg("验证码不能为空"),!1;var c={phone:a,sms_code:b,sms_type:"findloginpwd",access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.verifySmsCode ",data:c,dataType:"json",type:"post",success:function(a){0===Number(a.code)?($.alertMsg("验证成功",!0),modifyPwdObj.goBack=function(){modifyPwdObj.destroy(),verifyPhoneObj.destroy(),userInfoObj.show("reload")},setTimeout(function(){modifyPwdObj.show()},1500)):$.alertMsg(a.code_str)}})},verifyPhoneObj.checkPhone=function(){if(this.getCodeObj.hasClass("noover"))return!1;var a=this.telObj.val();if(!verifyPhoneObj.validePhone(a))return!1;verifyPhoneObj.getCode()},verifyPhoneObj.getCode=function(){if(this.getCodeObj.hasClass("noover"))return!1;var a=this.telObj.val();if(!verifyPhoneObj.validePhone(a))return!1;this.setTime=verifyPhoneObj.defSetTime,this.getCodeObj.addClass("noover"),this.getCodeObj.html("请稍等");var b={userName:loginObj.userInfo.user_name,access_token:loginObj.access_token,phone:a,summary:"findPwd"};$.ajax({url:ConfigObj.localSite+"?m=user.account.sendMobileCode",data:b,dataType:"json",type:"post",success:function(a){if(0!==Number(a.code))return $.alertMsg(a.code_str),verifyPhoneObj.getCodeObj.html("获取短信验证码"),verifyPhoneObj.getCodeObj.removeClass("noover"),!1;verifyPhoneObj.setTimeCheck()}})},verifyPhoneObj.setTimeCheck=function(){this.getCodeObj.html(this.setTime+"秒后重新获取"),verifyPhoneObj.timer=setTimeout(function(){if(--verifyPhoneObj.setTime<=0)return verifyPhoneObj.getCodeObj.html("获取短信验证码"),verifyPhoneObj.getCodeObj.removeClass("noover"),!1;verifyPhoneObj.setTimeCheck()},1e3)},verifyPhoneObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},verifyPhoneObj.init=function(){verifyPhoneObj.setDefConfig(),verifyPhoneObj.onloadExecution()},verifyPhoneObj.setDefConfig=function(){verifyPhoneObj.defSetTime=120,verifyPhoneObj.setTime=120,verifyPhoneObj.timer&&(clearTimeout(verifyPhoneObj.timer),verifyPhoneObj.timer="")};var verifyPwdObj=new PageController({name:"verifyPwd",tpl:"template/user/verifyPwd.html"});verifyPwdObj.createDomObj=function(){this.pwdObj=$("#verifyPwd_pwdObj"),this.submitObj=$("#verifyPwd_submitObj"),this.backObj=$("#verifyPwd_backObj")},verifyPwdObj.createEvent=function(){this.pwdObj.unbind("focus").focus(function(){$(this).parent().addClass("focus")}),this.pwdObj.unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),this.submitObj.unbind("tap").tap(function(){verifyPwdObj.submitUserInfo()}),this.backObj.unbind("tap").tap(function(){verifyPwdObj.goBack()})},verifyPwdObj.submitUserInfo=function(){var a=this.pwdObj.val();if(""===a)return $.alertMsg("登录密码不能为空"),!1;var b={passWord:hex_md5(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=user.account.verify",dataType:"json",type:"post",data:b,success:function(a){"0000"==a.code?(modifyPhoneObj.goBack=function(){modifyPhoneObj.destroy(),verifyPwdObj.destroy(),userInfoObj.show("reload")},modifyPhoneObj.show()):$.alertMsg(a.code_str)}})},verifyPwdObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},verifyPwdObj.init=function(){verifyPwdObj.onloadExecution()},verifyPwdObj.setDefConfig=function(){};var wechatDrawObj=new PageController({name:"wechatDraw",tpl:"template/user/wechatDraw.html"});wechatDrawObj.createDomObj=function(){this.wrapObj=$("#wechatDraw_wrapObj"),this.moneyObj=$("#wechatDraw_moneyObj"),this.keyObj=$("#wechatDraw_keyObj"),this.backObj=$("#wechatDraw_backObj"),this.showObj=$("#wechatDraw_showObj")},wechatDrawObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){wechatDrawObj.updateMoneyEvent(a)}),this.backObj.unbind("tap").tap(function(){wechatDrawObj.goBack()})},wechatDrawObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return this.subPay(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0;case"drawAll":return this.drawAll(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"setMoney":return this.setMoney(c),!0;case"showkey":return this.showKey(c),!0;case"hidekey":return this.hidekey(),!0;case"key":return this.keytUpdateMoney(c),!0;case"delkey":return this.delKeyMoney(),!0}}var g=$.oto_checkEvent(a,"DIV");if(g){if("keyObj"==g.id)return!0;if("nohide"==$(g).attr("data-t"))return!0;wechatDrawObj.hidekey()}},wechatDrawObj.delKeyMoney=function(){this.money=Number(this.money.toString().slice(0,-1)),this.updateMoney()},wechatDrawObj.keytUpdateMoney=function(a){var b=a.attr("data-v");this.checkTipsShow?(this.checkTipsShow=!1,this.money=b.toString()):this.money+=b.toString(),Number(this.money)>1e4&&(Global.msg("每次最多提现 10000 元"),this.money=1e4),this.money=Number(this.money),this.updateMoney()},wechatDrawObj.showKey=function(){this.keyObj.show(),this.showObj.addClass("focus"),this.checkTipsShow=!0},wechatDrawObj.hidekey=function(){this.money<1&&(Global.msg("提现最小金额 1 元"),this.money=1,this.updateMoney()),this.keyObj.hide(),this.showObj.removeClass("focus"),this.checkTipsShow=!1},wechatDrawObj.setMoney=function(a){var b=Number(a.attr("data-v"));a.siblings().removeClass("selected"),a.addClass("selected"),this.money=b,this.updateMoney()},wechatDrawObj.drawAll=function(){this.money=this.totalMoney,Number(this.money)>1e4&&(Global.msg("每次最多提现 10000 元"),this.money=1e4),this.money=Math.floor(this.money),this.moneyObj.html(this.money+"元")},wechatDrawObj.updateMoney=function(){this.moneyObj.html(this.money+"元")},wechatDrawObj.showErrMsg=function(a){$.alertMsg(a)},wechatDrawObj.subPay=function(){this.subPayFun()},wechatDrawObj.subPayFun=function(){if(this.money<1)return void this.hidekey();var a={channel:this.channel,amount:this.money,pay_id:this.pay_id},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=cashier.withdraw.getDraw",data:b,type:"post",dataType:"json",success:function(a){return"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),wechatdrawSucObj.goBack=function(){wechatdrawSucObj.destroy(),userCenterObj.show("reload")},void wechatdrawSucObj.show(!0)):(wechatDrawObj.showErrMsg(a.code_str),setTimeout(function(){Global.GC(),userCenterObj.show("reload")},2e3),!1)}})},wechatDrawObj.getData=function(){$("#wechatDraw_moneyObj").html(this.money+"元");var a={channel_number:ConfigObj.zdid},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=cashier.withdraw.WechatIndex",data:b,type:"post",dataType:"json",success:function(a){$("#wechatDraw_loading").hide(),a.info=$.parseJSON(Global.crypt(a.info)),"0000"==a.code?($("#wechatDraw_loading").hide(),wechatDrawObj.channel=a.info.channel,wechatDrawObj.pay_id=a.info.pay_id,$("#wechatDraw_totalMoney").html(a.info.available_cash),wechatDrawObj.totalMoney=a.info.available_cash):$.alertMsg(a.code_str)}})},wechatDrawObj.setDefConfig=function(){this.channel="",this.money=1,this.totalMoney="",this.pay_id="",this.checkTipsShow=!1},wechatDrawObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},wechatDrawObj.init=function(){this.setDefConfig(),this.onloadExecution()};var wechatdrawSucObj=new PageController({name:"wechatdrawSuc",tpl:"template/user/wechatdrawSuc.html"});wechatdrawSucObj.createDomObj=function(){this.returnObj=$("#return_home"),this.backObj=$("#wechatdrawSuc_backbtn")},wechatdrawSucObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){wechatdrawSucObj.goBack()}),this.returnObj.unbind("tap").tap(function(){wechatdrawSucObj.goReturn()})},wechatdrawSucObj.goReturn=function(){Global.GC(),userCenterObj.show("reload")},wechatdrawSucObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},wechatdrawSucObj.init=function(){this.onloadExecution()};var wechatpayAppObj=new PageController({name:"wechatpayApp",tpl:"template/user/wechatpayApp.html"});wechatpayAppObj.createDomObj=function(){this.wrapObj=$("#wechatpayApp_wrapObj"),this.moneyObj=$("#wechatpayApp_moneyObj"),this.keyObj=$("#wechatpayApp_keyObj"),this.backObj=$("#wechatpayApp_backObj"),this.showObj=$("#wechatpayApp_showObj"),this.zdbackObj=$("#wechatpayApp_zdbackObj"),this.hideTipsObj=$("#wechatpayApp_hideTipsObj"),this.recordObj=$("#wechatpayApp_listObj"),this.allowOneCent&&$("#wechatpayApp_testmoney").show()},wechatpayAppObj.createEvent=function(){this.wrapObj.unbind("tap").tap(function(a){wechatpayAppObj.updateMoneyEvent(a)}),this.zdbackObj.unbind("tap").tap(function(){}),this.backObj.unbind("tap").tap(function(){wechatpayAppObj.goBack()}),this.recordObj.unbind("tap").tap(function(){wechatpayAppObj.goRecord()})},wechatpayAppObj.goRecord=function(){rechargeRecordObj.goBack=function(){rechargeRecordObj.destroy(),wechatpayAppObj.show()},rechargeRecordObj.show("reload")},wechatpayAppObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return this.subPay(),!0;case"clearTips":return this.hideTipsObj.hide(),!0;case"clearAuthTips":return $("#wechatpayApp_authTipsObj").hide(),!0;case"toAuthTips":return this.checkReal(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"setMoney":return this.setMoney(c),!0;case"showkey":return this.showKey(),!0;case"hidekey":return this.hidekey(),!0;case"key":return this.keytUpdateMoney(c),!0;case"delkey":return this.delKeyMoney(),!0}}var g=$.oto_checkEvent(a,"DL");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updPay":return this.updPay(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){if("keyObj"==h.id)return!0;if("nohide"==$(h).attr("data-t"))return!0;wechatpayAppObj.hidekey(),wechatpayAppObj.hideTipsObj.hide()}},wechatpayAppObj.updPay=function(a){var b=a.attr("data-v");a.attr("data-id");"stationAgent"==b?(stationRechargeObj.goBack=function(){stationRechargeObj.destroy(),userCenterObj.show()},stationRechargeObj.show("reload",function(){stationRechargeObj.getData()})):"wechatpayApp"==b&&(wechatpayAppObj.goBack=function(){wechatpayAppObj.destroy(),userCenterObj.show()},wechatpayAppObj.show("reload",function(){wechatpayAppObj.getData()}))},wechatpayAppObj.delKeyMoney=function(){this.money=Number(this.money.toString().slice(0,-1)),this.updateMoney()},wechatpayAppObj.keytUpdateMoney=function(a){var b=a.attr("data-v");this.checkTipsShow?(this.checkTipsShow=!1,this.money=b.toString()):this.money+=b.toString(),Number(this.money)>5e4&&(Global.msg("每次最多充值 50000 元"),this.money=5e4),this.money=Number(this.money),this.updateMoney()},wechatpayAppObj.showKey=function(){this.keyObj.show(),this.showObj.addClass("focus"),this.checkTipsShow=!0},wechatpayAppObj.hidekey=function(){this.money<5&&(wechatpayAppObj.allowOneCent&&.01===this.money||(Global.msg("充值最小金额 5 元"),this.money=5,this.updateMoney())),this.keyObj.hide(),this.showObj.removeClass("focus"),this.checkTipsShow=!1},wechatpayAppObj.setMoney=function(a){var b=Number(a.attr("data-v"));a.siblings().removeClass("selected"),a.addClass("selected"),this.money=b,this.updateMoney()},wechatpayAppObj.updateMoney=function(){this.updateKjClass(),this.moneyObj.html(this.money+"元")},wechatpayAppObj.updateKjClass=function(){for(var a=$("span[data-t='setMoney']"),b=0,c=a.length;b<c;b++){Number(a.eq(b).attr("data-v"))!=this.money?a.eq(b).removeClass("selected"):a.eq(b).addClass("selected")}},wechatpayAppObj.showErrMsg=function(a){$.alertMsg(a)},wechatpayAppObj.subPay=function(){var a=this;loginObj.userInfo&&"Y"==loginObj.userInfo.real_status?a.subPayFun():$("#wechatpayApp_authTipsObj").show()},wechatpayAppObj.checkReal=function(){var a=this;$("#wechatpayApp_authTipsObj").hide(),regRealNameObj.goBack=function(){regRealNameObj.destroy(),a.show()},regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"buy"};regRealNameObj.setData(a)})},wechatpayAppObj.subPayFun=function(){if(this.money<5&&(.01!=this.money||!this.allowOneCent))return void this.hidekey();var a={channel:this.channel,amount:this.money,pay_id:this.pay_id,access_token:loginObj.access_token};Global.post("?m=user.account.checkIsVaild",{access_token:loginObj.access_token},function(b){"0000"!=b.code?(Global.msg("用户状态异常"),setTimeout(function(){loginObj.tokenFail(),loginObj.show(),Global.GC(),window.localStorage.clear(),$.ajax({url:ConfigObj.localSite+"?m=user.account.logout",data:{access_token:loginObj.access_token},type:"post",dataType:"json",success:function(a){}})},1e3)):(ConfigObj.pay_id=wechatpayAppObj.pay_id,payStatusObj.goBack=function(){payStatusObj.destroy(),wechatpayAppObj.show(!0)},payStatusObj.show(!0,function(){$.ajax({url:ConfigObj.localSite+"?m=cashier.deposit.depositInfo",data:a,type:"post",dataType:"json",success:function(b){if("0000"!==b.code)return $.alertMsg(b.code_str),!1;payStatusObj.setData({pay_id:a.pay_id,target_type:b.info.target_type,target_id:b.info.target_id}),"data"==b.info.respond_type?"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.payWeixin(b.info.respond_data.app_id,b.info.respond_data.token_id):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.payWeixin(b.info.respond_data.amount,b.info.respond_data.token_id):"url"==b.info.respond_type&&(location.href=b.info.return_url)}})}))})},wechatpayAppObj.getData=function(){var a={access_token:loginObj.access_token,terminal:"ios"===ConfigObj.platForm?3:2};$.ajax({url:ConfigObj.localSite+"?m=cashier.deposit.index",data:a,type:"post",dataType:"json",success:function(a){$("#wechatpayApp_loading").hide(),"0000"==a.code?(wechatpayAppObj.channel=a.info.channel,wechatpayAppObj.pay_id=a.info.pay_id,wechatpayAppObj.formatHtml(a.info),"Y"==a.info.otherchannel_is_usable&&$("#wechatpayApp_area").show()):$.alertMsg(a.code_str)}})},wechatpayAppObj.formatHtml=function(a){$("#wechatpayApp_username").html(a.scene_owner_name);var b="";for(var c in a.other_channel){var d=a.other_channel[c],e=d.station_info&&d.station_info.id?d.station_info.id:"";"N"!=d.is_usable&&(b+='<dl class="clearfix" data-t="updPay" data-v="'+c+'" data-id="'+e+'"><dt><span class="'+c+' payicon"></span></dt><dd><p class="font16">'+d.channel_cn+'</p><p class="font12 gray">'+d.channel_desc+"</p></dd></dl>")}$("#wechatpayApp_other").html(b)},wechatpayAppObj.setDefConfig=function(){this.channel="",this.money=10,this.pay_id="",this.station_info="",this.checkTipsShow=!1,this.allowOneCent=!1},wechatpayAppObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},wechatpayAppObj.init=function(){this.setDefConfig(),wechatpayAppObj.onloadExecution()};var wechatpayWebObj=new PageController({name:"wechatpayWeb",tpl:"template/user/wechatpayWeb.html"});wechatpayWebObj.createDomObj=function(){this.wrapObj=$("#wechatpayApp_wrapObj"),this.moneyObj=$("#wechatpayApp_moneyObj"),this.keyObj=$("#wechatpayApp_keyObj"),this.backObj=$("#wechatpayApp_backObj"),this.showObj=$("#wechatpayApp_showObj"),this.zdbackObj=$("#wechatpayApp_zdbackObj"),this.hideTipsObj=$("#wechatpayApp_hideTipsObj"),this.recordObj=$("#wechatpayApp_listObj"),this.allowOneCent&&$("#wechatpayApp_testmoney").show()},wechatpayWebObj.createEvent=function(){
this.wrapObj.unbind("tap").tap(function(a){wechatpayWebObj.updateMoneyEvent(a)}),this.zdbackObj.unbind("tap").tap(function(){}),this.backObj.unbind("tap").tap(function(){wechatpayWebObj.goBack()}),this.recordObj.unbind("tap").tap(function(){wechatpayWebObj.goRecord()})},wechatpayWebObj.goRecord=function(){rechargeRecordObj.goBack=function(){rechargeRecordObj.destroy(),wechatpayWebObj.show()},rechargeRecordObj.show("reload")},wechatpayWebObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"wechatpayWap":return this.subPay(c),!0;case"alipayWap":return this.subAlipay(c),!0;case"clearTips":return this.hideTipsObj.hide(),!0;case"clearAuthTips":return $("#wechatpayApp_authTipsObj").hide(),!0;case"toAuthTips":return this.checkReal(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0}}var f=$.oto_checkEvent(a,"SPAN");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"setMoney":return this.setMoney(c),!0;case"showkey":return this.showKey(c),!0;case"hidekey":return this.hidekey(),!0;case"key":return this.keytUpdateMoney(c),!0;case"delkey":return this.delKeyMoney(),!0}}var g=$.oto_checkEvent(a,"DL");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"updPay":return this.updPay(c),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){if("keyObj"==h.id)return!0;if("nohide"==$(h).attr("data-t"))return!0;wechatpayWebObj.hidekey(),wechatpayWebObj.hideTipsObj.hide()}},wechatpayWebObj.updPay=function(a){var b=a.attr("data-v");a.attr("data-id");"stationAgent"==b?(stationRechargeObj.goBack=function(){stationRechargeObj.destroy(),userCenterObj.show()},stationRechargeObj.show("reload",function(){stationRechargeObj.getData()})):"wechatpayApp"==b&&(wechatpayWebObj.goBack=function(){wechatpayWebObj.destroy(),userCenterObj.show()},wechatpayWebObj.show("reload",function(){wechatpayWebObj.getData()}))},wechatpayWebObj.delKeyMoney=function(){this.money=Number(this.money.toString().slice(0,-1)),this.updateMoney()},wechatpayWebObj.keytUpdateMoney=function(a){var b=a.attr("data-v");this.checkTipsShow?(this.checkTipsShow=!1,this.money=b.toString()):this.money+=b.toString(),Number(this.money)>5e4&&(Global.msg("每次最多充值 50000 元"),this.money=5e4),this.money=Number(this.money),this.updateMoney()},wechatpayWebObj.showKey=function(){this.keyObj.show(),this.showObj.addClass("focus"),this.checkTipsShow=!0,this.moneyObj.html("0元"),$("#wechatpayApp_btnObj span").removeClass("selected")},wechatpayWebObj.hidekey=function(){this.money<1&&(wechatpayWebObj.allowOneCent&&.01===this.money||(Global.msg("充值最小金额 1 元"),this.money=1,this.updateMoney())),this.keyObj.hide(),this.showObj.removeClass("focus"),this.checkTipsShow=!1},wechatpayWebObj.setMoney=function(a){var b=Number(a.attr("data-v"));a.siblings().removeClass("selected"),a.addClass("selected"),this.money=b,this.updateMoney()},wechatpayWebObj.updateMoney=function(){this.updateKjClass(),this.moneyObj.html(this.money+"元")},wechatpayWebObj.updateKjClass=function(){for(var a=$("span[data-t='setMoney']"),b=0,c=a.length;b<c;b++){Number(a.eq(b).attr("data-v"))!=this.money?a.eq(b).removeClass("selected"):a.eq(b).addClass("selected")}},wechatpayWebObj.showErrMsg=function(a){$.alertMsg(a)},wechatpayWebObj.subPay=function(a){var b=this,c=a.attr("data-v");loginObj.userInfo?b.subPayFun(c):$("#wechatpayApp_authTipsObj").show()},wechatpayWebObj.subAlipay=function(a){var b=this,c=a.attr("data-v");loginObj.userInfo?b.subAlipayFun(c):$("#wechatpayApp_authTipsObj").show()},wechatpayWebObj.checkReal=function(){var a=this;$("#wechatpayApp_authTipsObj").hide(),regRealNameObj.goBack=function(){regRealNameObj.destroy(),a.show()},regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"buy"};regRealNameObj.setData(a)})},wechatpayWebObj.subAlipayFun=function(a){if(this.channel=a,this.money<1&&(.01!=this.money||!this.allowOneCent))return void this.hidekey();var b={channel:this.channel,amount:this.money,pay_id:this.pay_id};Global.post("?m=user.account.checkIsVaild",{access_token:loginObj.access_token},function(a){if("0000"!=a.code)Global.msg("用户状态异常"),setTimeout(function(){loginObj.tokenFail(),loginObj.show(),Global.GC(),window.localStorage.clear(),$.ajax({url:ConfigObj.localSite+"?m=user.account.logout",data:{access_token:loginObj.access_token},type:"post",dataType:"json",success:function(a){}})},1e3);else{ConfigObj.pay_id=b.pay_id,ConfigObj.pay_channel=b.channel,payStatusObj.goBack=function(){payStatusObj.destroy(),wechatpayWebObj.dirShow({from:wechatpayWebObj.from})};var c={para:Global.encrypt(b),from:wechatpayWebObj.from,access_token:loginObj.access_token};c.from=function(a,b){if("userCenter"==a){var c={pageName:"userCenter"},d={pageName:"wechatpayWeb",back:"?_base64obj="+serialize(c)},e={pageName:"payStatus",pay_id:b,back:"?_base64obj="+serialize(d),timeOut:2e3,timeOutBack:"?_base64obj="+serialize(c)};return"?_base64obj="+serialize(e)}if("account"==a){var c={pageName:"userCenter"},d={pageName:"account",back:"?_base64obj="+serialize(c)},e={pageName:"wechatpayWeb",back:"?_base64obj="+serialize(d)},f={pageName:"payStatus",pay_id:b,back:"?_base64obj="+serialize(e),timeOut:2e3,timeOutBack:"?_base64obj="+serialize(d)};return"?_base64obj="+serialize(f)}if("buyConfirm"==a){var c={pageName:"buyConfirm"},d={pageName:"wechatpayWeb",back:"?_base64obj="+serialize(c)},e={pageName:"payStatus",pay_id:b,back:"?_base64obj="+serialize(d),timeOut:2e3,timeOutBack:"?_base64obj="+serialize(c)};return"?_base64obj="+serialize(e)}}(wechatpayWebObj.from,wechatpayWebObj.pay_id),payStatusObj.show(!0,function(){payStatusObj.from=wechatpayWebObj.from,$.ajax({url:ConfigObj.localSite+"?m=cashier.deposit.depositInfo",data:c,type:"post",dataType:"json",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;if(a.info=$.parseJSON(Global.crypt(a.info)),payStatusObj.setData({pay_id:b.pay_id,target_type:a.info.target_type,target_id:a.info.target_id,channel:this.channel}),"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj){android_obj.openWebUrl(a.info.return_url)}else if("ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj){ios_obj.openWebUrl(a.info.return_url)}console.log(a.info.return_url)}})})}})},wechatpayWebObj.subPayFun=function(a){if(this.channel=a,this.money<1&&(.01!=this.money||!this.allowOneCent))return void this.hidekey();var b={channel:this.channel,amount:this.money,pay_id:this.pay_id};Global.post("?m=user.account.checkIsVaild",{access_token:loginObj.access_token},function(a){if("0000"!=a.code)Global.msg("用户状态异常"),setTimeout(function(){loginObj.tokenFail(),loginObj.show(),Global.GC(),window.localStorage.clear(),$.ajax({url:ConfigObj.localSite+"?m=user.account.logout",data:{access_token:loginObj.access_token},type:"post",dataType:"json",success:function(a){}})},1e3);else{ConfigObj.pay_id=b.pay_id,ConfigObj.pay_channel=b.channel,payStatusObj.goBack=function(){payStatusObj.destroy(),wechatpayWebObj.dirShow({from:wechatpayWebObj.from})};var c={para:Global.encrypt(b),from:wechatpayWebObj.from,access_token:loginObj.access_token};c.from=function(a,b){if("userCenter"==a){var c={pageName:"userCenter"},d={pageName:"wechatpayWeb",back:"?_base64obj="+serialize(c)},e={pageName:"payStatus",pay_id:b,back:"?_base64obj="+serialize(d),timeOut:2e3,timeOutBack:"?_base64obj="+serialize(c)};return"?_base64obj="+serialize(e)}if("account"==a){var c={pageName:"userCenter"},d={pageName:"account",back:"?_base64obj="+serialize(c)},e={pageName:"wechatpayWeb",back:"?_base64obj="+serialize(d)},f={pageName:"payStatus",pay_id:b,back:"?_base64obj="+serialize(e),timeOut:2e3,timeOutBack:"?_base64obj="+serialize(d)};return"?_base64obj="+serialize(f)}if("buyConfirm"==a){var c={pageName:"buyConfirm"},d={pageName:"wechatpayWeb",back:"?_base64obj="+serialize(c)},e={pageName:"payStatus",pay_id:b,back:"?_base64obj="+serialize(d),timeOut:2e3,timeOutBack:"?_base64obj="+serialize(c)};return"?_base64obj="+serialize(e)}}(wechatpayWebObj.from,wechatpayWebObj.pay_id),payStatusObj.show(!0,function(){payStatusObj.from=wechatpayWebObj.from,$.ajax({url:ConfigObj.localSite+"?m=cashier.deposit.depositInfo",data:c,type:"post",dataType:"json",success:function(a){if("0000"!==a.code)return $.alertMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),payStatusObj.setData({pay_id:b.pay_id,target_type:a.info.target_type,target_id:a.info.target_id,channel:this.channel}),"data"==a.info.respond_type?"android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.payWeixin(a.info.respond_data.app_id,a.info.respond_data.token_id):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.payWeixin(a.info.respond_data.amount,a.info.respond_data.token_id):"url"==a.info.respond_type&&("android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.openWebUrl(a.info.return_url):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.openWebUrl(a.info.return_url)),console.log(a.info.return_url)}})})}})},wechatpayWebObj.getData=function(){var a={channel_number:ConfigObj.zdid,from:wechatpayWebObj.from,terminal_id:"ios"===ConfigObj.platForm?3:2},b={access_token:loginObj.access_token,para:Global.encrypt(a)};$.ajax({url:ConfigObj.localSite+"?m=cashier.deposit.index",data:b,type:"post",dataType:"json",success:function(a){$("#wechatpayApp_loading").hide(),"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),a.info.channel,wechatpayWebObj.channel=a.info.channel,wechatpayWebObj.pay_id=a.info.pay_id,wechatpayWebObj.formatHtml(a.info)):$.alertMsg(a.code_str)}})},wechatpayWebObj.formatHtml=function(a){var b="";for(var c in a.other_channel){var d=a.other_channel[c];"N"!=d.is_usable&&(b+='<a href="javascript:void(0);" data-v="'+d.channel+'" data-t="'+d.channel+'" class="btn btn_big '+d.channel+'Btn">'+d.channel_cn+"</a>")}$("#wechatpayApp_paybtnObj").html(b)},wechatpayWebObj.setDefConfig=function(){this.channel="",this.money=20,this.pay_id="",this.station_info="",this.checkTipsShow=!1,this.allowOneCent=!0,this.from="userCenter"},wechatpayWebObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},wechatpayWebObj.init=function(){this.setDefConfig(),wechatpayWebObj.onloadExecution()},wechatpayWebObj.dirShow=function(a){this.show(!0,function(){a=a||{};for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b],"back"===b&&(this.goBack=function(){Global.open(a.back)}));wechatpayWebObj.getData()}.bind(this))},wechatpayWebObj.dirPay=function(a,b,c,d){payStatusObj.show(!0,function(){var a=(ConfigObj.platForm,{access_token:loginObj.access_token,para:Global.encrypt(postData)});Global.post("?m=cashier.deposit.index",a,function(a){if("0000"==a.code){payStatusObj.setDirPay(),a.info=$.parseJSON(Global.crypt(a.info)),ConfigObj.pay_id=a.info.pay_id;var d={pay_id:a.info.pay_id,target_type:b,target_id:c};payStatusObj.setData(d),window.localStorage.setItem("directPayStatusData",JSON.stringify(d));var e="?_base64obj="+serialize({pageName:"payStatus",pay_id:a.info.pay_id,target_type:b,target_id:c,direct:!0}),f=(a.info.pay_id,{access_token:loginObj.access_token,from:e,para:Global.encrypt(postData)});Global.post("?m=cashier.deposit.depositInfo",f,function(a){"0000"==a.code&&(a.info=$.parseJSON(Global.crypt(a.info)),a.info&&a.info.respond_type&&"url"==a.info.respond_type&&("android"==ConfigObj.platForm&&"undefined"!=typeof android_obj?android_obj.openWebUrl(a.info.return_url):"ios"==ConfigObj.platForm&&"undefined"!=typeof ios_obj&&ios_obj.openWebUrl(a.info.return_url)))},function(){})}},function(){})})};var withDrawObj=new PageController({name:"withDraw",tpl:"template/user/withDraw.html"});withDrawObj.createDomObj=function(){this.wrapObj=$("#withDraw_wrapObj"),this.moneyObj=$("#withDraw_moneyObj"),this.keyObj=$("#withDraw_keyObj"),this.backObj=$("#withDraw_backObj"),this.showObj=$("#withDraw_showObj"),this.pwdObj=$("#withDraw_pwdObj"),this.moneyTipsObj=$("#withDraw_moneyTipsObj"),this.payIdObj=$("#withDraw_payIdObj"),this.cardIdObj=$("#withDraw_cardIdObj"),this.helpObj=$("#withDraw_helpObj"),this.cardInfoObj=$("#withDraw_cardInfo"),this.totalMoneyObj=$("#withDraw_totalMoney"),this.hideTipsObj=$("#withDraw_hideTipsObj"),this.loading=$("#withDraw_loading"),this.takeAll=$("#takeAll"),this.actualMoney=$("#actualMoney"),this.balance=$("#balance"),this.drawTime=$("#drawTime")},withDrawObj.createEvent=function(){var a=this;this.wrapObj.unbind("tap").tap(function(a){withDrawObj.updateMoneyEvent(a)}),this.backObj.unbind("tap").tap(function(){withDrawObj.goBack()}),this.helpObj.unbind("tap").tap(function(){withDrawObj.goRules()}),this.pwdObj.unbind("focus").focus(function(){$(this).parent().addClass("focus"),withDrawObj.showObj.removeClass("focus"),withDrawObj.hidekey()}),this.pwdObj.unbind("blur").blur(function(){$(this).parent().removeClass("focus")}),withDrawObj.takeAll.tap(function(b){$(this).hide();var c=Number(a.totalMoneyObj.html().split(".")[0]);if(withDrawObj.feeData.draw_count_month<withDrawObj.feeData.drawlimit_cfg.month_free_times){var d=c;return a.moneyTipsObj.hide(),a.moneyObj.html(c).show(),a.moneyObj.html(c+"元"),a.balance.hide(),a.takeAll.hide(),a.actualMoney.html("实际到帐"+d+"元 <span>&nbsp;&nbsp;</span>手续费0元"),a.money=c,!1}var e=Number(c*withDrawObj.feeData.drawlimit_cfg.fee).toFixed(2);e>withDrawObj.feeData.drawlimit_cfg.maximum_fee?e=withDrawObj.feeData.drawlimit_cfg.maximum_fee:e<withDrawObj.feeData.drawlimit_cfg.minimum_fee&&(e=withDrawObj.feeData.drawlimit_cfg.minimum_fee),d=Number(c-e).toFixed(2),a.moneyTipsObj.hide(),a.moneyObj.html(c).show(),a.moneyObj.html(c+"元"),a.balance.hide(),a.takeAll.hide(),a.actualMoney.html("实际到帐"+d+"元 <span>&nbsp;&nbsp;</span>手续费："+e+"元").show(),a.money=c}),withDrawObj.checkIfLessMin=function(){if(Number(this.totalMoneyObj.html().split(".")[0])<50)return this.takeAll.removeClass("fontblue"),this.takeAll.addClass("gray"),this.takeAll.unbind("tap"),!1;this.takeAll.addClass("fontblue")}},withDrawObj.goRules=function(){withdrawRulesObj.goBack=function(){withdrawRulesObj.destroy(),withDrawObj.show()},withdrawRulesObj.show()},withDrawObj.updateMoneyEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){var c=$(b),d=c.attr("data-t");switch(d){case"sub":return this.subPay(),!0;case"clearTips":return this.hideTipsObj.hide(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0}}var f=$.oto_checkEvent(a,"DL");if(f){var c=$(f),d=c.attr("data-t");switch(d){case"updBank":return this.goMyBankList(),!0}}var e=$.oto_checkEvent(a,"P");if(e){var c=$(e),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0}}var g=$.oto_checkEvent(a,"SPAN");if(g){var c=$(g),d=c.attr("data-t");switch(d){case"showkey":return this.showKey(),!0;case"hidekey":return this.hidekey(),!0;case"key":return this.keytUpdateMoney(c),!0;case"delkey":return this.delKeyMoney(),!0}}var h=$.oto_checkEvent(a,"DIV");if(h){if("withDraw_keyObj"==h.id)return!0;if("nohide"==$(h).attr("data-t"))return!0;withDrawObj.hideTipsObj.hide()}},withDrawObj.delKeyMoney=function(){this.money=Number(this.money.toString().slice(0,-1)),this.money<50&&(this.moneyObj.html(this.money+"元").show(),this.balance.hide(),this.actualMoney.html("不满足提现金额").show()),this.updateMoney(),this.balance.show(),this.actualMoney.hide()},withDrawObj.keytUpdateMoney=function(a){var b=a.attr("data-v");this.money+=b.toString(),this.money=Number(this.money),this.money<50&&(this.moneyObj.html(this.money+"元").show(),this.balance.show(),this.actualMoney.hide()),this.showMoneyTips(),this.updateMoney(),this.balance.show(),this.actualMoney.hide()},withDrawObj.showKey=function(){if(Number(this.totalMoneyObj.html().split(".")[0])<50)return $.alertMsg("提现金额最少50元"),!1;this.pwdObj.blur(),this.takeAll.show(),this.keyObj.show(),this.balance.show(),this.actualMoney.hide(),this.showObj.addClass("focus")},withDrawObj.hidekey=function(a){if(this.money<50){if(this.money=50,$.alertMsg("提现金额不能少于50元"),this.moneyObj.html(this.money+"元").show(),this.moneyTipsObj.hide(),this.keyObj.hide(),this.showObj.removeClass("focus"),this.takeAll.hide(),this.balance.hide(),withDrawObj.feeData.draw_count_month<withDrawObj.feeData.drawlimit_cfg.month_free_times)return this.actualMoney.html("实际到帐50元 <span>&nbsp;&nbsp;</span>手续费0元").show(),!1;var b=this.money,c=Number(this.money*withDrawObj.feeData.drawlimit_cfg.fee).toFixed(2);return c>withDrawObj.feeData.drawlimit_cfg.maximum_fee?c=withDrawObj.feeData.drawlimit_cfg.maximum_fee:c<withDrawObj.feeData.drawlimit_cfg.minimum_fee&&(c=withDrawObj.feeData.drawlimit_cfg.minimum_fee),b=Number(this.money-c).toFixed(2),this.actualMoney.html("实际到帐"+b+"元 <span>&nbsp;&nbsp;</span>手续费："+c+"元").show(),!1}var b=this.money;if(withDrawObj.feeData.draw_count_month<withDrawObj.feeData.drawlimit_cfg.month_free_times)this.actualMoney.html("实际到帐"+b+"元 <span>&nbsp;&nbsp;</span>手续费0元").show();else{var c=Number(this.money*withDrawObj.feeData.drawlimit_cfg.fee).toFixed(2);c>withDrawObj.feeData.drawlimit_cfg.maximum_fee?c=withDrawObj.feeData.drawlimit_cfg.maximum_fee:c<withDrawObj.feeData.drawlimit_cfg.minimum_fee&&(c=withDrawObj.feeData.drawlimit_cfg.minimum_fee),b=Number(this.money-c).toFixed(2),this.actualMoney.html("实际到帐"+b+"元 <span>&nbsp;&nbsp;</span>手续费："+c+"元").show()}this.balance.hide(),this.updateMoney(),this.keyObj.hide(),this.takeAll.hide(),this.showObj.removeClass("focus")},withDrawObj.setMoney=function(a){var b=Number(a.attr("data-v"));a.siblings().removeClass("selected"),a.addClass("selected"),this.money=b,this.updateMoney()},withDrawObj.updateMoney=function(){var a=Number(this.totalMoneyObj.html().split(".")[0]);if("0元"==this.moneyObj.html()&&(this.balance.show(),this.actualMoney.hide()),this.money>a){if(Number(this.totalMoneyObj.html().split(".")[0])<50)return;$.alertMsg("已超过账户可提金额"),this.money=parseInt(a),this.keyObj.hide()}else if(this.money<50)return this.moneyObj.html(this.money+"元").show(),this.balance.hide(),this.actualMoney.html("不满足提现金额").show(),!1;if(withDrawObj.feeData.draw_count_month<withDrawObj.feeData.drawlimit_cfg.month_free_times){var b=this.money;return this.balance.hide(),this.moneyObj.html(this.money+"元"),this.actualMoney.html("实际到帐"+b+"元 <span>&nbsp;&nbsp;</span>手续费0元").show(),this.takeAll.show(),this.showMoneyTips(),!1}var c=Number(this.money*withDrawObj.feeData.drawlimit_cfg.fee).toFixed(2);c>withDrawObj.feeData.drawlimit_cfg.maximum_fee?c=withDrawObj.feeData.drawlimit_cfg.maximum_fee:c<withDrawObj.feeData.drawlimit_cfg.minimum_fee&&(c=withDrawObj.feeData.drawlimit_cfg.minimum_fee),b=Number(this.money-c).toFixed(2),this.moneyObj.html(this.money+"元"),this.actualMoney.html("实际到帐"+b+"元 <span>&nbsp;&nbsp;</span>手续费："+c+"元"),this.takeAll.show(),this.showMoneyTips()},withDrawObj.showErrMsg=function(a){$.alertMsg(a)},withDrawObj.showMoneyTips=function(){this.money>0?(this.moneyTipsObj.hide(),this.moneyObj.show()):(this.moneyTipsObj.show(),this.moneyObj.hide())},withDrawObj.subPay=function(){var a=this.pwdObj.val();if(!this.money||this.money<50)return $.alertMsg("提现金额最少50元"),this.money=50,this.moneyObj.html(this.money+"元"),!1;if(this.money>5e6)return $.alertMsg("提现金额最高500万元"),!1;if(withDrawObj.feeData.draw_count_day-withDrawObj.feeData.drawlimit_cfg.times_onday>=0)return $.alertMsg("每日每用户限提款"+withDrawObj.feeData.drawlimit_cfg.times_onday+"次"),!1;if(!a)return $.alertMsg("请输入密码"),!1;var b={amount:this.money,pay_id:this.payIdObj.val(),card_id:this.cardIdObj.val(),passWord:a?hex_md5(a):"",channel:this.channel},c={access_token:loginObj.access_token,para:Global.encrypt(b)};$.ajax({url:ConfigObj.localSite+"?m=cashier.withdraw.getDraw",data:c,type:"post",dataType:"json",success:function(a){if("0000"!==a.code)return withDrawObj.showErrMsg(a.code_str),!1;a.info=$.parseJSON(Global.crypt(a.info)),withdrawDetailObj.goBack=function(){Global.GC(),userCenterObj.show("reload")},withdrawDetailObj.show("reload",function(){withdrawDetailObj.getData(a.info.order_id)})}})},withDrawObj.formatHtml=function(a){if(a.card_info){var b='<dt><span class="bank '+(a.card_info.bank_type?a.card_info.bank_type.toLowerCase():"")+'"></span></dt><dd><p class="font16">'+a.card_info.bank_typecn+'</p><p class="font12 gray">'+a.card_info.card_desc+" "+a.card_info.card_typecn+'</p><span class="arrowbox"><em class="rtarrow icon"></em></span></dd>';this.cardInfoObj.html(b),this.totalMoneyObj.html(a.available_cash),this.moneyObj.attr("data-max",a.available_cash)}},withDrawObj.goMyBankList=function(){ebankListObj.goBack=function(){var a=ebankListObj.bankId;ebankListObj.destroy(),withDrawObj.show("reload",function(){withDrawObj.getData(a)})},ebankListObj.show("reload",function(){ebankListObj.fromPage="withdraw",ebankListObj.bankId=withDrawObj.bankId,ebankListObj.getData()})},withDrawObj.getDrawCount=function(){var a={access_token:loginObj.access_token,channel:this.channel};Global.post("?m=cashier.withdraw.getDrawCount",a,function(a){withDrawObj.feeData=a,withDrawObj.feeData.drawlimit_cfg.times_onday-withDrawObj.feeData.draw_count_day>=0?withDrawObj.drawTime.html("今日还可提现"+(withDrawObj.feeData.drawlimit_cfg.times_onday-withDrawObj.feeData.draw_count_day)+"次"):withDrawObj.drawTime.html("今日还可提现0次")})},withDrawObj.getData=function(a){var b=this;if(loginObj.userInfo&&"N"==loginObj.userInfo.real_status)return withDrawObj.loading.remove(),$.alertMsg("请先完成实名"),regRealNameObj.goBack=function(){regRealNameObj.destroy(),b.show("reload",function(){b.getData(a)})},void regRealNameObj.show("reload",function(){var a={accountName:loginObj.userInfo.user_name,from:"buy"};regRealNameObj.setData(a)});if(loginObj.userInfo&&"Ing"==loginObj.userInfo.real_status)return withDrawObj.loading.remove(),void $.alertMsg("您的实名正在审核中");var c={card_id:a||"",channel_number:ConfigObj.zdid};withDrawObj.bankId=a||"";var d={access_token:loginObj.access_token,para:Global.encrypt(c)};$.ajax({url:ConfigObj.localSite+"?m=cashier.withdraw.index",data:d,type:"post",dataType:"json",success:function(a){"0000"==a.code?(a.info=$.parseJSON(Global.crypt(a.info)),withDrawObj.channel=a.info.channel,withDrawObj.getDrawCount(),a.info.card_id?(withDrawObj.loading.remove(),withDrawObj.formatHtml(a.info),withDrawObj.payIdObj.val(a.info.pay_id),withDrawObj.cardIdObj.val(a.info.card_id),balance=a.info.available_cash,withDrawObj.checkIfLessMin()):(bindBankObj.goBack=function(){bindBankObj.destroy(),withDrawObj.destroy(),userCenterObj.show("reload")},setTimeout(function(){bindBankObj.show("reload",function(){bindBankObj.setData({fromPage:"withDraw"})})},200))):(withDrawObj.loading.remove(),withDrawObj.showErrMsg(a.code_str))}})},withDrawObj.setDefConfig=function(){withDrawObj.money=0,this.bankList="",this.bankId="",this.channel="",this.feeData=new Array},withDrawObj.onloadExecution=function(){this.createDomObj(),this.getData(),this.createEvent()},withDrawObj.init=function(){this.setDefConfig(),withDrawObj.onloadExecution()};var withdrawRulesObj=new PageController({name:"withdrawRules",tpl:"template/user/withdrawRules.html"});withdrawRulesObj.createDomObj=function(){this.backObj=$("#withdrawRules_backbtn")},withdrawRulesObj.createEvent=function(){this.backObj.unbind("tap").tap(function(){withdrawRulesObj.goBack()})},withdrawRulesObj.onloadExecution=function(){this.createDomObj(),this.createEvent()},withdrawRulesObj.init=function(){withdrawRulesObj.onloadExecution()},withdrawRulesObj.setDefConfig=function(){};var withdrawSelectObj=new PageController({name:"withdrawSelect",tpl:"template/user/withDrawSelect.html"});withdrawSelectObj.createDomObj=function(){this.wrapperObj=$("#withdrawSelect_wrapperObj"),this.recordObj=$("#withdrawSelect_recordObj")},withdrawSelectObj.createEvent=function(){this.wrapperObj.unbind("tap").tap(function(a){withdrawSelectObj.sectionEvent(a)}),this.recordObj.unbind("tap").tap(function(){withdrawSelectObj.goRecord()})},withdrawSelectObj.goRecord=function(){withdrawRecordObj.goBack=function(){withdrawRecordObj.destroy(),withdrawSelectObj.show()},withdrawRecordObj.show("reload")},withdrawSelectObj.sectionEvent=function(a){var b=$.oto_checkEvent(a,"A");if(b){switch($(b).attr("data-t")){case"wechat":return this.wechatDraw(),!0;case"bank":return this.bankDraw(),!0;case"back":return this.goBack(),!0}}},withdrawSelectObj.wechatDraw=function(){if("Y"==withdrawSelectObj.wechatdraw)return wechatDrawObj.goBack=function(){wechatDrawObj.destroy(),withdrawSelectObj.show("reload")},void wechatDrawObj.show(!0);nobindwechatObj.goBack=function(){nobindwechatObj.destroy(),withdrawSelectObj.show("reload")},nobindwechatObj.show(!0)},withdrawSelectObj.bankDraw=function(){withDrawObj.goBack=function(){withDrawObj.destroy(),withdrawSelectObj.show("reload")},withDrawObj.show(!0)},withdrawSelectObj.goBack=function(){withdrawSelectObj.destroy(),userCenterObj.show("reload")},withdrawSelectObj.getData=function(){var a={zdid:ConfigObj.zdid},b={para:Global.encrypt(a),access_token:loginObj.access_token};$.ajax({url:ConfigObj.localSite+"?m=cashier.withdraw.DrawCenter",data:b,type:"post",dataType:"json",success:function(a){"0000"==a.code&&($("#draw_balance").html(a.info.available_cash),withdrawSelectObj.wechatdraw=a.info.WechatStatus)}})},withdrawSelectObj.onloadExecution=function(){this.createDomObj(),this.createEvent(),this.getData()},withdrawSelectObj.init=function(){withdrawSelectObj.setDefConfig(),withdrawSelectObj.onloadExecution()},withdrawSelectObj.setDefConfig=function(){withdrawSelectObj.pullLoad="",withdrawSelectObj.wechatdraw="",withdrawSelectObj.channel=new Array};